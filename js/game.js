!function(c){"use strict";function i(){return lt.__string_rec(this,"")}var o,t={},C=C||{};function e(e,t){var i,n=Object.create(e);for(i in t)n[i]=t[i];return t.toString!==Object.prototype.toString&&(n.toString=t.toString),n}function d(e,t){this.r=new RegExp(e,t.split("u").join(""))}function k(){}function p(){}function I(){}function A(){}function v(){this.b=""}function u(){}(t.EReg=d).__name__="EReg",d.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&0<=e&&e<this.r.m.length)return this.r.m[e];throw Ne.thrown("EReg::matched")},split:function(e){var t="#__delim__#";return e.replace(this.r,t).split(t)},__class__:d},(t.HxOverrides=k).__name__="HxOverrides",k.strDate=function(e){switch(e.length){case 8:var t=e.split(":"),i=new Date;return i.setTime(0),i.setUTCHours(t[0]),i.setUTCMinutes(t[1]),i.setUTCSeconds(t[2]),i;case 10:t=e.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:i=(t=e.split(" "))[0].split("-"),t=t[1].split(":");return new Date(i[0],i[1]-1,i[2],t[0],t[1],t[2]);default:throw Ne.thrown("Invalid date format : "+e)}},k.cca=function(e,t){t=e.charCodeAt(t);if(t==t)return t},k.substr=function(e,t,i){if(null==i)i=e.length;else if(i<0){if(0!=t)return"";i=e.length+i}return e.substr(t,i)},k.remove=function(e,t){t=e.indexOf(t);return-1!=t&&(e.splice(t,1),!0)},k.now=function(){return Date.now()},(t.Lambda=p).__name__="Lambda",p.has=function(e,t){for(var i=Mi(e);i.hasNext();)if(i.next()==t)return!0;return!1},p.exists=function(e,t){for(var i=Mi(e);i.hasNext();)if(t(i.next()))return!0;return!1},Math.__name__="Math",(t.Reflect=I).__name__="Reflect",I.field=function(e,t){try{return e[t]}catch(e){return null}},I.getProperty=function(e,t){var i;if(null==e)return null;var n=!!e.__properties__&&(i=e.__properties__["get_"+t]);return n?e[i]():e[t]},I.fields=function(e){var t=[];if(null!=e){var i,n=Object.prototype.hasOwnProperty;for(i in e)"__id__"!=i&&"hx__closures__"!=i&&n.call(e,i)&&t.push(i)}return t},I.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},I.compareMethods=function(e,t){return e==t||!(!I.isFunction(e)||!I.isFunction(t))&&(e.scope==t.scope&&e.method==t.method&&null!=e.method)},I.deleteField=function(e,t){return!!Object.prototype.hasOwnProperty.call(e,t)&&(delete e[t],!0)},(t.Std=A).__name__="Std",A.string=function(e){return lt.__string_rec(e,"")},A.parseInt=function(e){if(null!=e)for(var t=0,i=e.length;t<i;){var n=t++,s=e.charCodeAt(n);if(s<=8||14<=s&&32!=s&&45!=s){n=e.charCodeAt(1+n),n=parseInt(e,120==n||88==n?16:10);return isNaN(n)?null:n}}return null},A.random=function(e){return e<=0?0:Math.floor(Math.random()*e)},(t.StringBuf=v).__name__="StringBuf",v.prototype={__class__:v},(t.StringTools=u).__name__="StringTools",u.htmlEscape=function(e,t){for(var i="",n=0,s=e;n<s.length;){var r=n++,_=(e=s).charCodeAt(r);55296<=_&&_<=56319&&(_=_-55232<<10|1023&e.charCodeAt(1+r)),65536<=_&&++n;var a=_;switch(a){case 34:i+=t?"&quot;":String.fromCodePoint(a);break;case 38:i+="&amp;";break;case 39:i+=t?"&#039;":String.fromCodePoint(a);break;case 60:i+="&lt;";break;case 62:i+="&gt;";break;default:i+=String.fromCodePoint(a)}}return i},u.isSpace=function(e,t){t=k.cca(e,t);return 8<t&&t<14||32==t},u.ltrim=function(e){for(var t=e.length,i=0;i<t&&u.isSpace(e,i);)++i;return 0<i?k.substr(e,i,t-i):e},u.rtrim=function(e){for(var t=e.length,i=0;i<t&&u.isSpace(e,t-i-1);)++i;return 0<i?k.substr(e,0,t-i):e},u.trim=function(e){return u.ltrim(u.rtrim(e))},u.replace=function(e,t,i){return e.split(t).join(i)},u.hex=function(e,t){for(var i="";i="0123456789ABCDEF".charAt(15&e)+i,0<(e>>>=4););if(null!=t)for(;i.length<t;)i="0"+i;return i};var n=C.ValueType={__ename__:"ValueType",__constructs__:null,TNull:{_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:i},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:i},TFloat:{_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:i},TBool:{_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:i},TObject:{_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:i},TFunction:{_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:i},TClass:((o=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:i}})._hx_name="TClass",o.__params__=["c"],o),TEnum:((o=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:i}})._hx_name="TEnum",o.__params__=["e"],o),TUnknown:{_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:i}};function P(){}function E(e){this.nodeType=e,this.children=[],this.attributeMap=new et}n.__constructs__=[n.TNull,n.TInt,n.TFloat,n.TBool,n.TObject,n.TFunction,n.TClass,n.TEnum,n.TUnknown],(t.Type=P).__name__="Type",P.getEnum=function(e){return null==e?null:C[e.__enum__]},P.createEnum=function(e,t,i){var n=I.field(e,t);if(null==n)throw Ne.thrown("No such constructor "+t);if(I.isFunction(n)){if(null==i)throw Ne.thrown("Constructor "+t+" need parameters");return n.apply(e,i)}if(null!=i&&0!=i.length)throw Ne.thrown("Constructor "+t+" does not need parameters");return n},P.typeof=function(e){switch(typeof e){case"boolean":return n.TBool;case"function":return e.__name__||e.__ename__?n.TObject:n.TFunction;case"number":return Math.ceil(e)==e%2147483648?n.TInt:n.TFloat;case"object":if(null==e)return n.TNull;var t=e.__enum__;if(null!=t)return n.TEnum(C[t]);t=lt.getClass(e);return null!=t?n.TClass(t):n.TObject;case"string":return n.TClass(String);case"undefined":return n.TNull;default:return n.TUnknown}},P.enumEq=function(e,t){if(e==t)return!0;try{var i=e.__enum__;if(null==i||i!=t.__enum__)return!1;if(e._hx_index!=t._hx_index)return!1;for(var n=C[i].__constructs__[e._hx_index].__params__,s=0;s<n.length;){var r=n[s];if(++s,!P.enumEq(e[r],t[r]))return!1}}catch(s){return!1}return!0},P.enumParameters=function(e){var t=C[e.__enum__].__constructs__[e._hx_index].__params__;if(null==t)return[];for(var i=[],n=0;n<t.length;){var s=t[n];++n,i.push(e[s])}return i};var b={toString:function(e){switch(e){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}};(t.Xml=E).__name__="Xml",E.parse=function(e){return at.parse(e)},E.createElement=function(e){var t=new E(E.Element);if(t.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":b.toString(t.nodeType)));return t.nodeName=e,t},E.createPCData=function(e){var t=new E(E.PCData);if(t.nodeType==E.Document||t.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":b.toString(t.nodeType)));return t.nodeValue=e,t},E.createCData=function(e){var t=new E(E.CData);if(t.nodeType==E.Document||t.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":b.toString(t.nodeType)));return t.nodeValue=e,t},E.createComment=function(e){var t=new E(E.Comment);if(t.nodeType==E.Document||t.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":b.toString(t.nodeType)));return t.nodeValue=e,t},E.createDocType=function(e){var t=new E(E.DocType);if(t.nodeType==E.Document||t.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":b.toString(t.nodeType)));return t.nodeValue=e,t},E.createProcessingInstruction=function(e){var t=new E(E.ProcessingInstruction);if(t.nodeType==E.Document||t.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":b.toString(t.nodeType)));return t.nodeValue=e,t},E.createDocument=function(){return new E(E.Document)},E.prototype={get:function(e){if(this.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":b.toString(this.nodeType)));return this.attributeMap.h[e]},set:function(e,t){if(this.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":b.toString(this.nodeType)));this.attributeMap.h[e]=t},exists:function(e){if(this.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":b.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,e)},attributes:function(){if(this.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":b.toString(this.nodeType)));return new tt(this.attributeMap.h)},elements:function(){if(this.nodeType!=E.Document&&this.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":b.toString(this.nodeType)));for(var e=[],t=0,i=this.children;t<i.length;){var n=i[t];++t,n.nodeType==E.Element&&e.push(n)}return new rt(e)},firstElement:function(){if(this.nodeType!=E.Document&&this.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":b.toString(this.nodeType)));for(var e=0,t=this.children;e<t.length;){var i=t[e];if(++e,i.nodeType==E.Element)return i}return null},addChild:function(e){if(this.nodeType!=E.Document&&this.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":b.toString(this.nodeType)));null!=e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this},removeChild:function(e){if(this.nodeType!=E.Document&&this.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":b.toString(this.nodeType)));return!!k.remove(this.children,e)&&!(e.parent=null)},toString:function(){return ot.print(this)},__class__:E};var s=function(){};function r(){}function _(){}(t["awe6.interfaces.IPauseable"]=s).__name__="awe6.interfaces.IPauseable",s.__isInterface__=!0,s.prototype={__class__:s},(t["awe6.interfaces.IDisposable"]=r).__name__="awe6.interfaces.IDisposable",r.__isInterface__=!0,r.prototype={__class__:r},(t["awe6.interfaces.IUpdateable"]=_).__name__="awe6.interfaces.IUpdateable",_.__isInterface__=!0,_.prototype={__class__:_};var a=function(){};function l(e){this._kernel=e,this._tools=this._kernel.tools,this._isEntity=lt.__implements(this,y),this._init()}(t["awe6.interfaces.IProcess"]=a).__name__="awe6.interfaces.IProcess",a.__isInterface__=!0,a.__interfaces__=[s,r,_],(t["awe6.core.Process"]=l).__name__="awe6.core.Process",l.__interfaces__=[a],l.prototype={_init:function(){this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this.isDisposed=!1,this._age=0,this._updates=0},dispose:function(){this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer())},_disposer:function(){},update:function(e){null==e&&(e=0),!this.isActive||this.isDisposed||(this._age+=e,this._updates++,this._updater(e))},_updater:function(e){null==e&&(e=0)},set_isActive:function(e){return this.isDisposed?this.isActive=!1:(e!=this.isActive&&(this._isIsActiveSetterBypassed?this.isActive=e:e?this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(ke.RESUME,this,!0,!0,!0)):this.isActive&&!this.isDisposed&&(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(ke.PAUSE,this,!0,!0,!0))),this._isIsActiveSetterBypassed=!1,this.isActive)},pause:function(){!this.isActive||this.isDisposed||(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(ke.PAUSE,this,!0,!0,!0))},_pauser:function(){},resume:function(){this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(ke.RESUME,this,!0,!0,!0))},_resumer:function(){},__class__:l,__properties__:{set_isActive:"set_isActive"}};var h=function(){};(t["awe6.interfaces.IAgendaManager"]=h).__name__="awe6.interfaces.IAgendaManager",h.__isInterface__=!0;var f=function(){};function g(){}(t["awe6.interfaces.IEntityCollection"]=f).__name__="awe6.interfaces.IEntityCollection",f.__isInterface__=!0,f.__interfaces__=[h],f.prototype={__class__:f},(t["awe6.interfaces.IViewable"]=g).__name__="awe6.interfaces.IViewable",g.__isInterface__=!0,g.prototype={__class__:g,__properties__:{get_view:"get_view"}};var y=function(){};function m(e,t,i){null==this.get_view()&&(this.view=new xe(e,i,0,this)),this.set_id(null==t?e.tools.createGuid():t),l.call(this,e)}(t["awe6.interfaces.IEntity"]=y).__name__="awe6.interfaces.IEntity",y.__isInterface__=!0,y.__interfaces__=[f,g,a],y.prototype={__class__:y,__properties__:{get_parent:"get_parent"}},(t["awe6.core.Entity"]=m).__name__="awe6.core.Entity",m.__interfaces__=[y],m.__super__=l,m.prototype=e(l.prototype,{_init:function(){l.prototype._init.call(this),this.agenda=Se.ALWAYS,this._entityAgendaPairs=new Qe,this._isAgendaDirty=!0,this._cachedEntities=[]},_updater:function(e){null==e&&(e=0),l.prototype._updater.call(this,e),this._isAgendaDirty&&(this._cachedEntities=this._getEntities(this.get_agenda()),P.enumEq(this.get_agenda(),Se.ALWAYS)||(this._cachedEntities=this._cachedEntities.concat(this._getEntities(Se.ALWAYS))),this._isAgendaDirty=!1);for(var t=0,i=this._cachedEntities;t<i.length;){var n=i[t];++t,n.update(e)}},_disposer:function(){this.remove(),this._kernel.messenger.removeSubscribers(this),this._kernel.messenger.removeSubscribers(null,null,null,this,null);var e=this._getEntities();e.reverse();for(var t=0;t<e.length;){var i=e[t];++t,i.dispose()}for(i=this._entityAgendaPairs.iterator();i.hasNext();){var n=i.next();this._entityAgendaPairs.remove(n)}this.get_view().dispose(),l.prototype._disposer.call(this)},addEntity:function(e,t,i,n){if(null==n&&(n=0),null==i&&(i=!1),this.isDisposed||null==e)return null;null==t&&(t=Se.ALWAYS);for(var s=this._entityAgendaPairs.iterator();s.hasNext();){var r=s.next();if(r.entity==e&&P.enumEq(r.agenda,t))return e}this._isAgendaDirty=!0,e.get_parent()!=this&&(e.remove(i),e instanceof m&&e._setParent(this));var _=new O(e,t),a=this._entityAgendaPairs;return a.head=new We(_,a.head),i&&(P.enumEq(t,this.get_agenda())||t==Se.ALWAYS?this.get_view().addChild(e.get_view(),n):(e.get_view().set_priority(n),_.isAddedToView=!0)),e},removeEntity:function(e,t,i){if(null==i&&(i=!1),!this.isDisposed&&null!=e){for(var n=!1,s=this._entityAgendaPairs.iterator();s.hasNext();){var r=s.next();r.entity!=e||null!=t&&!P.enumEq(r.agenda,t)||(this._entityAgendaPairs.remove(r),n=!0)}n&&(this._isAgendaDirty=!0,e instanceof m&&e._setParent(null),i&&e.get_view().remove())}},remove:function(e){null==e&&(e=!1),null!=this.get_parent()&&this.get_parent().removeEntity(this,null,e)},getEntities:function(e){return this._getEntities(e)},_getEntities:function(e){if(!this._isAgendaDirty&&(null==e||P.enumEq(e,this.get_agenda())))return this._cachedEntities;for(var t=[],i=this._entityAgendaPairs.iterator();i.hasNext();){var n=i.next();null!=e&&!P.enumEq(e,n.agenda)||t.push(n.entity)}return t.reverse(),t},getEntitiesByClass:function(e,t,i,n,s){if(null==s&&(s=!1),null==n&&(n=!1),null==i&&(i=!1),s&&null!=this._kernel.scenes.get_scene())return this._kernel.scenes.get_scene().getEntitiesByClass(e,t,!0);for(var r=[],_=this._getEntities(t),a=0;a<_.length;){var o=_[a];++a,lt.__instanceof(o,e)&&r.push(o),i&&(r=r.concat(o.getEntitiesByClass(e,t,!0)))}return n&&null!=this.get_parent()&&(r=r.concat(this.get_parent().getEntitiesByClass(e,t,!1,!0))),r},setAgenda:function(e){if(null==e&&(e=Se.ALWAYS),P.enumEq(this.get_agenda(),e))return!1;this._isAgendaDirty=!0;for(var t=this._entityAgendaPairs.iterator();t.hasNext();){var i=t.next(),n=P.enumEq(this.get_agenda(),i.agenda)&&i.entity.get_view().get_parent()==this.get_view();n&&i.entity.get_view().remove(),i.isAddedToView=i.isAddedToView||n}this.agenda=e;for(t=this._entityAgendaPairs.iterator();t.hasNext();)(i=t.next()).isAddedToView&&(P.enumEq(Se.ALWAYS,i.agenda)||P.enumEq(this.get_agenda(),i.agenda))&&this.get_view().addChild(i.entity.get_view());return!0},_setParent:function(e){this.parent=e},set_id:function(e){return this.id=e,this.id},get_agenda:function(){return this.agenda},get_parent:function(){return this.parent},get_view:function(){return this.view},__class__:m,__properties__:e(l.prototype.__properties__,{get_view:"get_view",get_parent:"get_parent",get_agenda:"get_agenda",set_id:"set_id"})});var w=function(){};function x(e,t,i,n,s,r,_,a,o,l,u){null==_&&(_=0),null==r&&(r=0),null==s&&(s=20),null==n&&(n=100),this._stateUp=new S(e,t),this._stateOver=new S(e,i),this.x=r,this.y=_,this.set_width(n),this.set_height(s),this._keyType=a,this.onClickCallback=o,this.onRollOverCallback=l,this.onRollOutCallback=u,m.call(this,e)}(t["awe6.interfaces.IPositionable"]=w).__name__="awe6.interfaces.IPositionable",w.__isInterface__=!0,w.prototype={__class__:w,__properties__:{set_y:"set_y",set_x:"set_x"}},(t["awe6.core.BasicButton"]=x).__name__="awe6.core.BasicButton",x.__interfaces__=[w],x.__super__=m,x.prototype=e(m.prototype,{_init:function(){m.prototype._init.call(this),this.get_view().set_x(this.x),this.get_view().set_y(this.y),this.isOver=!1,this.addEntity(this._stateUp,Se.SUB_TYPE(T.UP),!0),this.addEntity(this._stateOver,Se.SUB_TYPE(T.OVER),!0),this.setAgenda(Se.SUB_TYPE(T.UP))},_updater:function(e){null==e&&(e=0),m.prototype._updater.call(this,e);var t=this._kernel.inputs.mouse,e=this._isPointInsideRectangle(t.x+this.get_view().x-this.get_view().globalX,t.y+this.get_view().y-this.get_view().globalY,this.x,this.y,this.width,this.height);e&&t.set_cursorType(De.BUTTON),e&&!this.isOver&&this.onRollOver(),!e&&this.isOver&&(t.set_cursorType(De.AUTO),this.onRollOut()),this.isOver=e,this.isOver&&t.getIsButtonDown()&&this.setAgenda(Se.SUB_TYPE(T.OVER)),this.isOver&&t.getIsButtonRelease()&&this.onClick(),null!=this._keyType&&this._kernel.inputs.keyboard.getIsKeyRelease(this._keyType)&&this.onClick()},_isPointInsideRectangle:function(e,t,i,n,s,r){return!(e<i)&&(!(t<n)&&(!(i+s<e)&&!(n+r<t)))},onClick:function(){this.setAgenda(Se.SUB_TYPE(T.UP)),null!=this.onClickCallback&&this.onClickCallback()},onRollOver:function(){this.setAgenda(Se.SUB_TYPE(T.OVER)),null!=this.onRollOverCallback&&this.onRollOverCallback()},onRollOut:function(){this.setAgenda(Se.SUB_TYPE(T.UP)),null!=this.onRollOutCallback&&this.onRollOutCallback()},set_x:function(e){return this.x=e,null!=this.get_view()&&this.get_view().set_x(this.x),this.x},set_y:function(e){return this.y=e,null!=this.get_view()&&this.get_view().set_y(this.y),this.y},set_width:function(e){return this.width=e,this.width},set_height:function(e){return this.height=e,this.height},__class__:x,__properties__:e(m.prototype.__properties__,{set_height:"set_height",set_width:"set_width",set_y:"set_y",set_x:"set_x"})});var S=function(e,t){m.call(this,e),this.view=t};(t["awe6.core._BasicButton._HelperState"]=S).__name__="awe6.core._BasicButton._HelperState",S.__super__=m,S.prototype=e(m.prototype,{__class__:S});var T=C["awe6.core._BasicButton._HelperEState"]={__ename__:"awe6.core._BasicButton._HelperEState",__constructs__:null,UP:{_hx_name:"UP",_hx_index:0,__enum__:"awe6.core._BasicButton._HelperEState",toString:i},OVER:{_hx_name:"OVER",_hx_index:1,__enum__:"awe6.core._BasicButton._HelperEState",toString:i}};T.__constructs__=[T.UP,T.OVER];var D=function(){};function M(e){this._defaultSecret=e}(t["awe6.interfaces.IEncrypter"]=D).__name__="awe6.interfaces.IEncrypter",D.__isInterface__=!0,D.prototype={__class__:D},(t["awe6.core.Encrypter"]=M).__name__="awe6.core.Encrypter",M.__interfaces__=[D],M.prototype={decrypt:function(e,t){null==t&&(t="");t=""!=t?t:this._defaultSecret;return this._xor(e,t)},_xor:function(e,t){for(var i=new ze(new ArrayBuffer(e.length)),n=0,s=0,r=i.length;s<r;){var _=s++;i.b[_]=e.b[_]^k.cca(t,n),++n>=t.length&&(n=0)}return i},__class__:M};var O=function(e,t){this.entity=e,this.agenda=t,this.isAddedToView=!1};(t["awe6.core._Entity._HelperEntityAgendaPair"]=O).__name__="awe6.core._Entity._HelperEntityAgendaPair",O.prototype={__class__:O};var B=function(){};function U(e,t,i,n,s,r,_,a,o,l,u,h,c,d){this._kernel=e,this._keyUp=null!=t?t:Ae.UP,this._keyRight=null!=i?i:Ae.RIGHT,this._keyDown=null!=n?n:Ae.DOWN,this._keyLeft=null!=s?s:Ae.LEFT,this._keyPrimary=null!=r?r:Ae.SPACE,this._keySecondary=null!=_?_:Ae.Z,this._keyUpAlt=null!=a?a:Ae.W,this._keyRightAlt=null!=o?o:Ae.D,this._keyDownAlt=null!=l?l:Ae.S,this._keyLeftAlt=null!=u?u:Ae.A,this._keyPrimaryAlt=null!=h?h:Ae.Q,this._keySecondaryAlt=null!=c?c:Ae.E,this._joypadTouchType=null!=d?d:this._kernel.factory.joypadTouchType,this._isTouchEnabled=this._kernel.factory.joypadTouchType!=Ie.DISABLED,this._joypadStateCache={age:0,isFire:!1,isUp:!1,isRight:!1,isDown:!1,isLeft:!1,isPrevFire:!1,isPrevUp:!1,isPrevRight:!1,isPrevDown:!1,isPrevLeft:!1}}function N(e){l.call(this,e)}function R(e){l.call(this,e)}(t["awe6.interfaces.IInputJoypad"]=B).__name__="awe6.interfaces.IInputJoypad",B.__isInterface__=!0,(t["awe6.core.InputJoypad"]=U).__name__="awe6.core.InputJoypad",U.__interfaces__=[B],U.prototype={__class__:U},h=function(){},(t["awe6.interfaces.IResettable"]=h).__name__="awe6.interfaces.IResettable",h.__isInterface__=!0,h.prototype={__class__:h},B=function(){},(t["awe6.interfaces.IInputManager"]=B).__name__="awe6.interfaces.IInputManager",B.__isInterface__=!0,B.__interfaces__=[h],B.prototype={__class__:B},(t["awe6.core.InputManager"]=N).__name__="awe6.core.InputManager",N.__interfaces__=[B],N.__super__=l,N.prototype=e(l.prototype,{_init:function(){l.prototype._init.call(this),this.joypad=this.createJoypad(),this.keyboard=this._inputKeyboard=new he(this._kernel),this.mouse=this._inputMouse=new ce(this._kernel)},_updater:function(e){null==e&&(e=0),l.prototype._updater.call(this,e);var t=this._inputKeyboard,i=e;null==i&&(i=0),t.isActive&&!t.isDisposed&&(t._age+=i,t._updates++,t._updater(i)),null==(i=e)&&(i=0),(t=this._inputMouse).isActive&&!t.isDisposed&&(t._age+=i,t._updates++,t._updater(i))},_disposer:function(){var e=this._inputKeyboard;e.isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer()),(e=this._inputMouse).isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer()),l.prototype._disposer.call(this)},createJoypad:function(e,t,i,n,s,r,_,a,o,l,u,h,c){return new U(this._kernel,e,t,i,n,s,r,_,a,o,l,u,h,c)},reset:function(){var e=this._inputKeyboard;return e.isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer()),(e=this._inputMouse).isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer()),this._init(),!0},__class__:N}),B=function(){},(t["awe6.interfaces.IMessageManager"]=B).__name__="awe6.interfaces.IMessageManager",B.__isInterface__=!0,B.__interfaces__=[h],B.prototype={__class__:B},(t["awe6.core.MessageManager"]=R).__name__="awe6.core.MessageManager",R.__interfaces__=[B],R.__super__=l,R.prototype=e(l.prototype,{_init:function(){l.prototype._init.call(this),this._isVerbose=!1,this._subscriptions=new Qe,this._messageQueue=new qe},removeSubscribers:function(e,t,i,n,s){for(var r=this._getSubscriptions(e,t,i,n,s,!0).iterator();r.hasNext();){var _=r.next();this._subscriptions.remove(_),this._isVerbose&&Re.trace("Removing "+A.string(_.sender)+":"+A.string(_.message),{fileName:"awe6/core/MessageManager.hx",lineNumber:80,className:"awe6.core.MessageManager",methodName:"removeSubscribers"})}},sendMessage:function(e,t,i,n,s){null==s&&(s=!1),null==n&&(n=!1),null==i&&(i=!1),this._sendMessage(e,t,t,i,n,s)},reset:function(){return this.removeSubscribers(),this._messageQueue=new qe,!0},_updater:function(e){if(null==e&&(e=0),l.prototype._updater.call(this,e),this._isOkToSendMessage())for(var t=this._messageQueue.h;null!=t;){var i=t.item,t=t.next,i=i;this._sendMessage(i.message,i.sender,i.target,i.isBubbleDown,i.isBubbleUp,i.isBubbleEverywhere),this._messageQueue.remove(i)}},_isOkToSendMessage:function(){return null!=this._kernel.scenes.get_scene()},_sendMessage:function(e,t,i,n,s,r){if(null==r&&(r=!1),null==s&&(s=!1),null==n&&(n=!1),this._isVerbose&&Re.trace("Sending message: "+A.string(e)+" from "+t.id+"("+A.string(lt.getClass(t))+") via "+i.id+" ("+A.string(lt.getClass(i))+")",{fileName:"awe6/core/MessageManager.hx",lineNumber:119,className:"awe6.core.MessageManager",methodName:"_sendMessage"}),this._isOkToSendMessage()){if(r){var _=this._kernel.scenes.get_scene().getEntities()[0];if(null!=_&&null!=_.get_parent())return void this._sendMessage(e,t,this._kernel.scenes.get_scene().getEntities()[0].get_parent(),!0)}for(var a=this._getSubscriptions(i,e,null,t).iterator();a.hasNext();){var o=a.next();if(!this._send(o,e,t))return}if(n)for(var l=i.getEntities(),u=0;u<l.length;){var h=l[u];++u,this._sendMessage(e,t,h,!0)}s&&null!=i.get_parent()&&lt.__implements(i.get_parent(),y)&&this._sendMessage(e,t,i.get_parent(),!1,!0)}else this._messageQueue.push(new F(e,t,i,n,s,r))},_send:function(e,t,i){i=e.handler.apply(e.subscriber,[t,i]);return e.isRemovedAfterFirstSend&&this._subscriptions.remove(e),i},_getSubscriptions:function(e,t,i,n,s,r){null==r&&(r=!1);for(var _=new Qe,a=this._subscriptions.iterator();a.hasNext();){var o=a.next();if(null==e||e==o.subscriber||e==o.sender){if(null!=t&&!lt.__instanceof(t,o.messageClass)){var l=P.typeof(t);if(7==l._hx_index){l.e;if(P.getEnum(t)!=P.getEnum(o.message)||(l=o.message,C[t.__enum__].__constructs__[t._hx_index]._hx_name!=C[l.__enum__].__constructs__[l._hx_index]._hx_name)||P.enumParameters(t).toString()!=P.enumParameters(o.message).toString())continue}else if(t!=o.message)continue}if(null==i||I.compareMethods(o.handler,i)){if(null!=n){if(r){if(null!=o.senderClassType)continue;if(null==o.sender)continue}if(null!=o.senderClassType&&!lt.__instanceof(n,o.senderClassType))continue;if(null!=o.sender&&o.sender!=n)continue}_.head=new We(o,_.head)}}}return _},__class__:R}),B=function(e,t,i,n,s,r){null==r&&(r=!1),this.subscriber=e,this.message=t,this.handler=i,this.sender=n,this.senderClassType=s,this.isRemovedAfterFirstSend=r,this.messageClass=lt.getClass(t)},(t["awe6.core._MessageManager._HelperSubscription"]=B).__name__="awe6.core._MessageManager._HelperSubscription",B.prototype={__class__:B};var F=function(e,t,i,n,s,r){null==r&&(r=!1),null==s&&(s=!1),null==n&&(n=!1),this.message=e,this.sender=t,this.target=i,this.isBubbleDown=n,this.isBubbleUp=s,this.isBubbleEverywhere=r};function L(e,t,i,n,s){null==s&&(s=!1),null==n&&(n=!0),null==i&&(i=!1),this.type=t,this.isPauseable=i,this.isMuteable=n,this.isSessionSavedOnNext=s,l.call(this,e)}function G(e){l.call(this,e)}function K(e,t,i,n,s,r,_,a,o,l){null==o&&(o=0),null==s&&(s=!1),null==n&&(n=!1),this.font=null!=e?e:"_sans",this.size=null!=t?t:12,this.color=null!=i?i:0,this.isBold=n,this.isItalic=s,this.align=null!=r?r:Be.LEFT,this.spacingHorizontal=null!=_?_:0,this.spacingVertical=null!=a?a:0,this.thickness=o,this.filters=l}function X(e){this._kernel=e,this.BIG_NUMBER=9999998,this._encrypter=this._kernel.factory.createEncrypter()}function V(){}function z(e){l.call(this,e)}function H(e){l.call(this,e)}(t["awe6.core._MessageManager._HelperMessage"]=F).__name__="awe6.core._MessageManager._HelperMessage",F.prototype={__class__:F},B=function(){},(t["awe6.interfaces.IScene"]=B).__name__="awe6.interfaces.IScene",B.__isInterface__=!0,B.__interfaces__=[g,f,a],B.prototype={__class__:B},(t["awe6.core.Scene"]=L).__name__="awe6.core.Scene",L.__interfaces__=[B],L.__super__=l,L.prototype=e(l.prototype,{_init:function(){l.prototype._init.call(this),this.isDisposable=!0,this._entity=new m(this._kernel),this.view=this._entity.get_view()},_updater:function(e){null==e&&(e=0),l.prototype._updater.call(this,e),this._entity.update(e)},_disposer:function(){this._entity.dispose(),this.get_view().dispose(),l.prototype._disposer.call(this)},addEntity:function(e,t,i,n){return null==n&&(n=0),null==i&&(i=!1),this._entity.addEntity(e,t,i,n)},removeEntity:function(e,t,i){null==i&&(i=!1),this._entity.removeEntity(e,t,i)},getEntities:function(e){return this._entity.getEntities(e)},getEntitiesByClass:function(e,t,i,n,s){return null==s&&(s=!1),null==n&&(n=!1),null==i&&(i=!1),this._entity.getEntitiesByClass(e,t,i,n,!1)},get_view:function(){return this.view},__class__:L,__properties__:e(l.prototype.__properties__,{get_view:"get_view"})}),f=function(){},(t["awe6.interfaces.ISceneManager"]=f).__name__="awe6.interfaces.ISceneManager",f.__isInterface__=!0,f.prototype={__class__:f,__properties__:{get_scene:"get_scene"}},(t["awe6.core.SceneManager"]=G).__name__="awe6.core.SceneManager",G.__interfaces__=[f],G.__super__=l,G.prototype=e(l.prototype,{_init:function(){l.prototype._init.call(this),this.view=new xe(this._kernel)},_updater:function(e){null==e&&(e=0),l.prototype._updater.call(this,e),null!=this.get_scene()&&this.get_scene().update(e),null!=this._sceneTransition&&this._sceneTransition.update(e)},_disposer:function(){null!=this.get_scene()&&this.get_scene().dispose(),null!=this._sceneTransition&&this._sceneTransition.dispose(),this.view.dispose(),l.prototype._disposer.call(this)},setScene:function(e){var t=null;null!=this.get_scene()&&(t=this.get_scene().type,t=this._kernel.factory.createSceneTransition(e,t),null!=this._sceneTransition&&this._sceneTransition.dispose(),this._sceneTransition=t,this._kernel.inputs.reset(),this.get_scene().isDisposable&&(this.get_scene().dispose(),this._kernel.messenger.reset()),this.scene=null),this._kernel.overlay.hideButtons(),this.scene=this._kernel.factory.createScene(e),this._kernel.overlay.showButton(Me.BACK,null!=this._kernel.factory.getBackSceneType(this.get_scene().type)),this._kernel.overlay.showButton(Me.MUTE,this.get_scene().isMuteable&&!this._kernel.audio.isMute),this._kernel.overlay.showButton(Me.UNMUTE,this.get_scene().isMuteable&&this._kernel.audio.isMute),this._kernel.overlay.showButton(Me.PAUSE,this.get_scene().isPauseable&&this._kernel.isActive),this._kernel.overlay.showButton(Me.UNPAUSE,this.get_scene().isPauseable&&!this._kernel.isActive),this.view.addChild(this.get_scene().get_view()),null!=this._sceneTransition&&this.get_scene().get_view().addChild(this._sceneTransition.get_view(),this._tools.BIG_NUMBER+1)},back:function(){var e=this._kernel.factory.getBackSceneType(this.get_scene().type);null!=e&&this.setScene(e)},next:function(){this.get_scene().isSessionSavedOnNext&&null!=this._kernel.get_session()&&this._kernel.get_session().save();var e=this._kernel.factory.getNextSceneType(this.get_scene().type);null!=e&&this.setScene(e)},get_scene:function(){return this.scene},__class__:G,__properties__:e(l.prototype.__properties__,{get_scene:"get_scene"})}),B=function(){},(t["awe6.interfaces.ITextStyle"]=B).__name__="awe6.interfaces.ITextStyle",B.__isInterface__=!0,B.prototype={__class__:B},(t["awe6.core.TextStyle"]=K).__name__="awe6.core.TextStyle",K.__interfaces__=[B],K.prototype={toString:function(){return A.string(this.font+","+this.size+","+this.color+","+A.string(this.isBold)+","+A.string(this.isItalic)+","+A.string(this.align)+","+this.spacingHorizontal+","+this.spacingVertical+","+this.thickness+","+A.string(this.filters))},__class__:K},f=function(){},(t["awe6.interfaces.ITools"]=f).__name__="awe6.interfaces.ITools",f.__isInterface__=!0,f.__interfaces__=[D],f.prototype={__class__:f},(t["awe6.core.Tools"]=X).__name__="awe6.core.Tools",X.__interfaces__=[f],X.prototype={createGuid:function(e,t){return null==t&&(t=""),null==e&&(e=!1),e?t+k.substr(this._randomCharacter()+this._randomCharacter()+this._randomCharacter(),0,10):t+(this._randomCharacter()+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+this._randomCharacter()+this._randomCharacter())},_randomCharacter:function(){return k.substr(u.hex(65536*(1+Math.random())|0,1),1,null)},sortByPriority:function(e,t){e=e.get_priority(),t=t.get_priority();return e<t?-1:t<e?1:0},_isCamelCase:function(e){return e.toUpperCase()!=e&&(!(-1<e.indexOf(" "))&&!(-1<e.indexOf("_")))},_isConstCase:function(e){return e.toUpperCase()==e&&!(-1<e.indexOf(" "))},fromCamelCase:function(e){if(null==e||""==e)return"";for(var t="",i=e.split(""),n="",s=0;s<i.length;){var r=i[s];++s,r.toLowerCase()!=r&&(t+=n),t+=r,n=" "}return t},toConstCase:function(e){if(null==e||""==e)return"";if(this._isConstCase(e))return e;this._isCamelCase(e)&&(e=this.fromCamelCase(e));return e=u.replace(e,"     "," "),e=u.replace(e,"    "," "),e=u.replace(e,"   "," "),e=u.replace(e,"  "," "),(e=u.replace(e," ","_")).toUpperCase()},limit:function(e,t,i){return i<e?i:e<t?t:e},convertAgeToFormattedTime:function(e,t){if(null==t&&(t="'"),e<0)return"99"+t+"99"+t+"99";for(var i=e/1e3,n=Math.floor(i),s=A.string(Math.floor(100*(i-n))),r=0;59<n;)++r,n-=60;for(99<r&&(r=99);s.length<2;)s="0"+s;e=null==n?"null":""+n;n<10&&(e="0"+e);i=null==r?"null":""+r;return r<10&&(i="0"+i),0==n&&(e="00"),0==r&&(i="00"),A.string(i+t+e+t+s)},serialize:function(e){return Le.run(e)},unserialize:function(e){return Xe.run(e)},decrypt:function(e,t){return null==t&&(t=""),this._encrypter.decrypt(e,t)},__class__:X},B=function(){},(t["awe6.interfaces.IAssetManager"]=B).__name__="awe6.interfaces.IAssetManager",B.__isInterface__=!0,(t["awe6.interfaces.IAssetManagerProcess"]=V).__name__="awe6.interfaces.IAssetManagerProcess",V.__isInterface__=!0,V.__interfaces__=[a,B],(t["awe6.core.drivers.AAssetManager"]=z).__name__="awe6.core.drivers.AAssetManager",z.__interfaces__=[V],z.__super__=l,z.prototype=e(l.prototype,{_init:function(){this._packageId=this._kernel.getConfig("settings.assets.packages.default"),null==this._packageId&&(this._packageId="assets"),l.prototype._init.call(this)},getAsset:function(e,t,i){return null==t&&(t=this._packageId),this._driverGetAsset(e,t,i)},_driverGetAsset:function(e,t,i){return null},__class__:z}),D=function(){},(t["awe6.interfaces.IAudioManager"]=D).__name__="awe6.interfaces.IAudioManager",D.__isInterface__=!0,D.prototype={__class__:D,__properties__:{set_isMute:"set_isMute"}},(t["awe6.core.drivers.AAudioManager"]=H).__name__="awe6.core.drivers.AAudioManager",H.__interfaces__=[D],H.__super__=l,H.prototype=e(l.prototype,{_init:function(){l.prototype._init.call(this),this._sounds=[],this._packageId=this._kernel.getConfig("settings.assets.packages.audio"),null==this._packageId&&(this._packageId=this._kernel.getConfig("settings.assets.packages.default")),null==this._packageId&&(this._packageId="assets.audio"),this.set_isMute(!1)},_updater:function(e){null==e&&(e=0),l.prototype._updater.call(this,e);for(var t=0,i=this._sounds;t<i.length;){var n=i[t];++t,n.isDisposed&&k.remove(this._sounds,n)}},_disposer:function(){for(var e=0,t=this._sounds;e<t.length;){var i=t[e];++e,i.dispose()}this.set_isMute(!1),l.prototype._disposer.call(this)},start:function(e,t,i,n,s,r,_,a){if((null==_&&(_=!1),null==r&&(r=0),null==s&&(s=1),null==n&&(n=0),null==i&&(i=1),null==t&&(t=Te.DEFAULT),_)&&0!=this._getSounds(e,t).length)return;this._sounds.push(this._driverSoundFactory(e,t,i,n,s,r,a))},_driverSoundFactory:function(e,t,i,n,s,r,_){return null==r&&(r=0),null==s&&(s=1),null==n&&(n=0),null==i&&(i=1),new j(this._kernel,e,this._packageId,t,i,n,s,r,_)},stop:function(e,t){for(var i=this._getSounds(e,t),n=0;n<i.length;){var s=i[n];++n,s.stop()}},transform:function(e,t,i,n,s){null==s&&(s=!1),null==n&&(n=0),null==i&&(i=1);for(var r=this._getSounds(e,t),_=0;_<r.length;){var a=r[_];++_,a.transform(i,n,s)}},set_isMute:function(e){return this.isMute=e,this._driverSetIsMute(e),this.isMute},_driverSetIsMute:function(e){},_getSounds:function(e,t){var i=[];if(null==e&&null==t)i=this._sounds.slice();else if(null==t)for(var n=0,s=this._sounds;n<s.length;){var r=s[n];++n,r.id==e&&i.push(r)}else if(null==e)for(n=0,s=this._sounds;n<s.length;){r=s[n];++n,P.enumEq(r.audioChannelType,t)&&i.push(r)}else for(n=0,s=this._sounds;n<s.length;){r=s[n];++n,r.id==e&&P.enumEq(r.audioChannelType,t)&&i.push(r)}return i},__class__:H,__properties__:e(l.prototype.__properties__,{set_isMute:"set_isMute"})});var j=function(e,t,i,n,s,r,_,a,o){null==a&&(a=0),null==_&&(_=1),null==r&&(r=0),null==s&&(s=1),this._kernel=e,this.isDisposed=!1,this.id=t,this._packageId=i,this.audioChannelType=null!=n?n:Te.DEFAULT,-1==s&&(s=this._kernel.tools.BIG_NUMBER),this._loops=s,this._startTime=r,this._volume=_,this._pan=a,this._onCompleteCallback=o,this._init()};function Y(e,t,i){null==t&&(t=!1),this._context=e,this.isDebug=t,this._config=i,this.config=new et,null==(i=!0)&&(i=!1),i&&(this.id="awe6",this.version="0.0.1",this.author="unknown",this.isDecached=!1,this.isEyeCandyOptionEnabled=!0,this.isFullScreenOptionEnabled=!0,this.isResetSessionsOptionEnabled=!0,this.width=600,this.height=400,this.bgColor=16711680,this.fullScreenType=Ce.SCALE_ASPECT_RATIO_PRESERVE,this.joypadTouchType=Ie.DISABLED,this.secret="YouMustOverrideThis",this.targetFramerate=25,this.isFixedUpdates=!0,this.startingSceneType=Oe.GAME,this.keyPause=Ae.P,this.keyMute=Ae.M,this.keyNext=Ae.SPACE,this.keyBack=Ae.ESCAPE,this.keySpecial=Ae.CONTROL),this._configurer(i),this._driverInit()}function W(e){l.call(this,e)}(t["awe6.core.drivers._AHelperSound"]=j).__name__="awe6.core.drivers._AHelperSound",j.__interfaces__=[r],j.prototype={_init:function(){this._driverInit()},_driverInit:function(){},transform:function(e,t,i){null==i&&(i=!1),null==t&&(t=0),null==e&&(e=1),this.isDisposed||(i?(this._volume=e,this._pan=t):(this._volume=this._kernel.tools.limit(e,0,1),this._pan=this._kernel.tools.limit(t,-1,1)),this._driverTransform(i))},_driverTransform:function(e){null==e&&(e=!1)},stop:function(){this._driverStop(),this.dispose()},_driverStop:function(){},dispose:function(){this.isDisposed||(this.isDisposed=!0,this._driverStop())},__class__:j},f=function(){},(t["awe6.interfaces.IFactory"]=f).__name__="awe6.interfaces.IFactory",f.__isInterface__=!0,f.prototype={__class__:f},(t["awe6.core.drivers.AFactory"]=Y).__name__="awe6.core.drivers.AFactory",Y.__interfaces__=[r,f],Y.prototype={_driverInit:function(){null!=this._config&&"<?xml"==k.substr(this._config,0,5)&&this._traverseElements(E.parse(this._config).firstElement().elements(),""),this._launchKernel()},_traverseElements:function(e,t){0!=t.length&&(t+=".");for(var i=e;i.hasNext();){var n=i.next();if(n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));var s,r=t+n.nodeName;if(n.elements().hasNext()&&this._traverseElements(n.elements(),r),n.nodeType!=E.Document&&n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));if(null!=n.children[0]){if(n.nodeType!=E.Document&&n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));s="<![CDATA["==k.substr(ot.print(n.children[0]),0,9)}else s=!1;if(s){if(n.nodeType!=E.Document&&n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));var _=n.children[0];if(n.nodeType!=E.Document&&n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));var a=ot.print(n.children[0]).split("<![CDATA[").join("").split("]]>").join("");if(_.nodeType==E.Document||_.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==_.nodeType?"null":b.toString(_.nodeType)));_.nodeValue=a}if(n.nodeType!=E.Document&&n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));if(null==n.children[0])this.config.h[r]="";else{if(n.nodeType!=E.Document&&n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));_=n.children[0].nodeType;if(_!=E.Element&&_!=E.Document){var o,a=this.config;if(n.nodeType!=E.Document&&n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));if(null==n.children[0])o="";else{if(n.nodeType!=E.Document&&n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));_=n.children[0];if(_.nodeType==E.Document||_.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==_.nodeType?"null":b.toString(_.nodeType)));o=_.nodeValue}a.h[r]=o}else this.config.h[r]=""}for(var l=n.attributes();l.hasNext();){var u=l.next(),h=r+"."+u,c=this.config,u=n.get(u);c.h[h]=u}}},_configurer:function(e){null==e&&(e=!1)},_launchKernel:function(){var e;null==this._concreteKernel&&(null==(e=!1)&&(e=!1),e&&(this.id="awe6",this.version="0.0.1",this.author="unknown",this.isDecached=!1,this.isEyeCandyOptionEnabled=!0,this.isFullScreenOptionEnabled=!0,this.isResetSessionsOptionEnabled=!0,this.width=600,this.height=400,this.bgColor=16711680,this.fullScreenType=Ce.SCALE_ASPECT_RATIO_PRESERVE,this.joypadTouchType=Ie.DISABLED,this.secret="YouMustOverrideThis",this.targetFramerate=25,this.isFixedUpdates=!0,this.startingSceneType=Oe.GAME,this.keyPause=Ae.P,this.keyMute=Ae.M,this.keyNext=Ae.SPACE,this.keyBack=Ae.ESCAPE,this.keySpecial=Ae.CONTROL),this._configurer(e),this._concreteKernel=new de(this,this._context))},_getAssetUrls:function(){for(var e=[],t=0;t<1e3;){var i="settings.assets.url"+t++;Object.prototype.hasOwnProperty.call(this.config.h,i)&&e.push(A.string(this.config.h[i]))}return e},onInitComplete:function(e){null==this._kernel&&null!=e&&(this._kernel=e,this._tools=this._kernel.tools,this.id=k.substr(this._tools.toConstCase(u.trim(this.id)),0,16),this.version=k.substr(u.trim(this.version),0,16),this.author=k.substr(u.trim(this.author),0,16))},createAssetManager:function(){return lt.__implements(this._kernel.assets,V)?lt.__cast(this._kernel.assets,V):new ae(this._kernel)},createEncrypter:function(){return new M(this.secret)},createLogger:function(){return null},createOverlay:function(){return new pe(this._kernel)},createPreloader:function(){return new fe(this._kernel,this._getAssetUrls(),this.isDecached)},createScene:function(e){return null==e&&(e=this.startingSceneType),new L(this._kernel,e)},createSceneTransition:function(e,t){return new ye(this._kernel)},createSession:function(e){return new re(this._kernel,e)},getBackSceneType:function(e){return null},getNextSceneType:function(e){return null},dispose:function(){var e;this.isDisposed||null==this._concreteKernel||(this.isDisposed=!0,this._driverDisposer(),(e=this._concreteKernel).isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer()),this._concreteKernel=null,this._kernel=null,this.config=null)},_driverDisposer:function(){},__class__:Y},B=function(){},(t["awe6.interfaces.IInputKeyboard"]=B).__name__="awe6.interfaces.IInputKeyboard",B.__isInterface__=!0,B.prototype={__class__:B},(t["awe6.core.drivers.AInputKeyboard"]=W).__name__="awe6.core.drivers.AInputKeyboard",W.__interfaces__=[B],W.__super__=l,W.prototype=e(l.prototype,{_init:function(){l.prototype._init.call(this),this._driverInit(),this._reset()},_driverInit:function(){},_updater:function(e){null==e&&(e=0),l.prototype._updater.call(this,e);for(var t=Object.create(null),i=[],n=0,s=this._buffer;n<s.length;){var r=s[n];++n;var _=null==r.keyCode?"null":""+r.keyCode;Object.prototype.hasOwnProperty.call(t,_)?i.push(r):r.isDown?this._keys[r.keyCode].isDown||(this._onDown(r.keyCode),t[_]=!0):this._keys[r.keyCode].isDown&&(this._onUp(r.keyCode),t[_]=!0)}this._buffer=i.slice();for(n=0,s=this._keys;n<s.length;){r=s[n];++n,r.isDown?r.updatesDown++:r.updatesUp++,r.isDown?r.timeDown+=e:r.timeUp+=e}},_disposer:function(){this._keys=null,l.prototype._disposer.call(this)},_addEvent:function(e,t){this._buffer.push(new J(e,t))},_onDown:function(e){e=this._keys[e];e.isUsed=!0,e.isDown=!0,e.timeUpPrevious=e.timeUp,e.updatesUpPrevious=e.updatesUp,e.updatesUp=0,e.timeUp=0},_onUp:function(e){e=this._keys[e];e.isDown=!1,e.timeDownPrevious=e.timeDown,e.updatesDownPrevious=e.updatesDown,e.updatesDown=0,e.timeDown=0},_reset:function(e){this._buffer=[],this._keys=[];for(var t=0;t<256;){var i=t++;this._keys[i]=new Q(this._kernel)}},getIsKeyDown:function(e){if(null==e)return!1;e=this.getKeyCode(e);return this._keys[e].isDown},getIsKeyPress:function(e){if(null==e)return!1;e=this.getKeyCode(e);return 1==this._keys[e].updatesDown},getIsKeyRelease:function(e){if(null==e)return!1;e=this.getKeyCode(e);return!!this._keys[e].isUsed&&1==this._keys[e].updatesUp},getKeyCode:function(e){switch(e._hx_index){case 0:return 144;case 1:return 12;case 2:return 47;case 3:return 18;case 4:return 8;case 5:return 20;case 6:return 17;case 7:return 46;case 8:return 40;case 9:return 35;case 10:return 13;case 11:return 27;case 12:return 112;case 13:return 121;case 14:return 122;case 15:return 123;case 16:return 124;case 17:return 125;case 18:return 126;case 19:return 113;case 20:return 114;case 21:return 115;case 22:return 116;case 23:return 117;case 24:return 118;case 25:return 119;case 26:return 120;case 27:return 36;case 28:return 45;case 29:return 37;case 30:return 96;case 31:return 97;case 32:return 98;case 33:return 99;case 34:return 100;case 35:return 101;case 36:return 102;case 37:return 103;case 38:return 104;case 39:return 105;case 40:return 107;case 41:return 110;case 42:return 111;case 43:return 108;case 44:return 106;case 45:return 109;case 46:return 34;case 47:return 33;case 48:return 39;case 49:return 16;case 50:return 32;case 51:return 9;case 52:return 38;case 53:return 65;case 54:return 66;case 55:return 67;case 56:return 68;case 57:return 69;case 58:return 70;case 59:return 71;case 60:return 72;case 61:return 73;case 62:return 74;case 63:return 75;case 64:return 76;case 65:return 77;case 66:return 78;case 67:return 79;case 68:return 80;case 69:return 81;case 70:return 82;case 71:return 83;case 72:return 84;case 73:return 85;case 74:return 86;case 75:return 87;case 76:return 88;case 77:return 89;case 78:return 90;case 79:return 48;case 80:return 49;case 81:return 50;case 82:return 51;case 83:return 52;case 84:return 53;case 85:return 54;case 86:return 55;case 87:return 56;case 88:return 57;case 89:return 186;case 90:return 187;case 91:return 189;case 92:return 191;case 93:return 222;case 94:return 219;case 95:return 221;case 96:return 220;case 97:return 192;case 98:return 223;case 99:return 0|e.value}},getKey:function(e){for(var t=Ae.__constructs__,i=new Array(t.length),n=0,s=t.length;n<s;)i[_=n++]=t[_]._hx_name;var r=i;r.pop();for(n=0;n<r.length;){var _=r[n];++n;var a=P.createEnum(Ae,_);if(this.getKeyCode(a)==e)return a}return Ae.SUB_TYPE(e)},__class__:W});var Q=function(e){this.isDown=!1,this.updatesDown=0,this.updatesUp=e.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=e.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=e.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=e.tools.BIG_NUMBER};(t["awe6.core.drivers._AInputKeyboard._HelperKey"]=Q).__name__="awe6.core.drivers._AInputKeyboard._HelperKey",Q.prototype={__class__:Q};var J=function(e,t){this.keyCode=e,this.isDown=t};function q(e){l.call(this,e)}(t["awe6.core.drivers._AInputKeyboard._HelperKeyEvent"]=J).__name__="awe6.core.drivers._AInputKeyboard._HelperKeyEvent",J.prototype={__class__:J},f=function(){},(t["awe6.interfaces.IInputMouse"]=f).__name__="awe6.interfaces.IInputMouse",f.__isInterface__=!0,f.prototype={__class__:f,__properties__:{set_cursorType:"set_cursorType"}},(t["awe6.core.drivers.AInputMouse"]=q).__name__="awe6.core.drivers.AInputMouse",q.__interfaces__=[f],q.__super__=l,q.prototype=e(l.prototype,{_init:function(){l.prototype._init.call(this),this._driverInit(),this.x=this.y=this._xPrev=this._yPrev=this._deltaX=this._deltaY=this.scroll=this._deltaScroll=0,this.relativeX=this.relativeY=this.relativeCentralisedX=this.relativeCentralisedY=0,this.isMoving=!1,this._buffer=[],this._getPosition(),this.isMoving=!1,this.set_isVisible(!0),this.scroll=0,this.set_cursorType(De.AUTO),this._scrollPrev=0,this._stillUpdates=0,this._stillDuration=0,this._reset()},_driverInit:function(){},_updater:function(e){null==e&&(e=0),this._deltaTimePrev=e,l.prototype._updater.call(this,e),this._xPrev=this.x,this._yPrev=this.y,this._getPosition(),this._handleButton(Pe.LEFT,0<this._buffer.length?this._buffer.shift():this._buttonLeft.isDown,e),this._handleButton(Pe.MIDDLE,this._isMiddleDown(),e),this._handleButton(Pe.RIGHT,this._isRightDown(),e),this._deltaScroll=this.scroll-this._scrollPrev,this._scrollPrev=this.scroll,this._deltaX=this.x-this._xPrev,this._deltaY=this.y-this._yPrev,this.isMoving=this.x!=this._xPrev||this.y!=this._yPrev,this.isMoving?this._stillUpdates=this._stillDuration=0:(this._stillUpdates++,this._stillDuration+=e),this.relativeX=this.x/this._kernel.factory.width,this.relativeY=this.y/this._kernel.factory.height,this.relativeCentralisedX=2*(this.relativeX-.5),this.relativeCentralisedY=2*(this.relativeY-.5),this.isWithinBounds=this._isWithinBounds()},_isMiddleDown:function(){return!1},_isRightDown:function(){return!1},_isWithinBounds:function(){return!0},_getPosition:function(){this.x=0,this.y=0},_handleButton:function(e,t,i){null==i&&(i=0);e=this._getButton(e);t?(e.isDown||(e.timeUpPrevious=e.timeUp,e.updatesUpPrevious=e.updatesUp,e.timeUp=e.updatesUp=0,e.clickX=this.x,e.clickY=this.y),e.timeDown+=i,e.updatesDown++,e.isDown=!0):(e.isDown&&(e.timeDownPrevious=e.timeDown,e.updatesDownPrevious=e.updatesDown,e.timeDown=e.updatesDown=0),e.timeUp+=i,e.updatesUp++,e.isDown=!1)},_disposer:function(){l.prototype._disposer.call(this)},_reset:function(e){this._buffer=[],this._buttonLeft=new Z(this._kernel),this._buttonMiddle=new Z(this._kernel),this._buttonRight=new Z(this._kernel)},_getButton:function(e){switch(null==e&&(e=Pe.LEFT),e._hx_index){case 0:return this._buttonLeft;case 1:return this._buttonMiddle;case 2:return this._buttonRight}},getIsButtonDown:function(e){return this._getButton(e).isDown},getIsButtonPress:function(e){return 1==this._getButton(e).updatesDown},getIsButtonRelease:function(e){return 1==this._getButton(e).updatesUp},set_isVisible:function(e){return this.isVisible=e,this.isVisible},set_cursorType:function(e){return this.cursorType=e,this.cursorType},__class__:q,__properties__:e(l.prototype.__properties__,{set_cursorType:"set_cursorType",set_isVisible:"set_isVisible"})});var Z=function(e){this.isDown=!1,this.updatesDown=0,this.updatesUp=e.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=e.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=e.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=e.tools.BIG_NUMBER};function $(e,t){this.factory=e,this._context=t,this.tools=this._tools=new X(this),l.call(this,this)}(t["awe6.core.drivers._AInputMouse._HelperButton"]=Z).__name__="awe6.core.drivers._AInputMouse._HelperButton",Z.prototype={__class__:Z},B=function(){},(t["awe6.interfaces.ILogger"]=B).__name__="awe6.interfaces.ILogger",B.__isInterface__=!0,B.prototype={__class__:B},f=function(){},(t["awe6.interfaces.IKernel"]=f).__name__="awe6.interfaces.IKernel",f.__isInterface__=!0,f.__interfaces__=[B,s],f.prototype={__class__:f,__properties__:{set_session:"set_session",get_session:"get_session",set_isFullScreen:"set_isFullScreen"}},(t["awe6.core.drivers.AKernel"]=$).__name__="awe6.core.drivers.AKernel",$.__interfaces__=[f],$.__super__=l,$.prototype=e(l.prototype,{_init:function(){l.prototype._init.call(this),this._view=new xe(this,this._context,0,this),this._processes=new qe,this._helperFramerate=new ee(this.factory.targetFramerate),this._isPreloaded=!1,this.isDebug=this.factory.isDebug,this.isLocal=this._driverGetIsLocal(),this._driverInit(),this.assets=this._assetManagerProcess=new ae(this._kernel),this.audio=this._audioManager=new oe(this._kernel),this.inputs=this._inputManager=new N(this._kernel),this.scenes=this._sceneManager=new G(this._kernel),this.messenger=this._messageManager=new R(this._kernel),this._view.addChild(this._sceneManager.view,1),this._addProcess(this._assetManagerProcess),this._addProcess(this._inputManager),this._addProcess(this._sceneManager),this._addProcess(this._messageManager),this._addProcess(this._audioManager),this.set_isEyeCandy(!0),this.set_isFullScreen(!1),this.factory.onInitComplete(this),this.set_session(this.factory.createSession()),this.get_session().reset(),this._preloader=this.factory.createPreloader(),this._addProcess(this._preloader),this._view.addChild(this._preloader.get_view(),2)},_driverGetIsLocal:function(){return!1},_driverInit:function(){},_driverDisposer:function(){},onPreloaderComplete:function(e){this._isPreloaded=!0,this._removeProcess(this._preloader),this._preloader=null,this._logger=this.factory.createLogger();var t=this.factory.createAssetManager();t!=this._assetManagerProcess&&(this._removeProcess(this._assetManagerProcess),this.assets=this._assetManagerProcess=t,this._addProcess(this._assetManagerProcess,!1)),this.overlay=this._overlayProcess=this.factory.createOverlay(),this._addProcess(this._overlayProcess,!0),this._view.addChild(this._overlayProcess.get_view(),3),this.isDebug&&(this._addProcess(this._profiler=new ge(this)),this._view.addChild(this._profiler.get_view(),this._tools.BIG_NUMBER)),this.scenes.setScene(this.factory.startingSceneType),this.overlay.flash()},_updater:function(e){null==e&&(e=0),this._helperFramerate.update();var t=this.factory.isFixedUpdates?1e3/this.factory.targetFramerate|0:this._helperFramerate.timeInterval;l.prototype._updater.call(this,t);for(var i=this._processes.h;null!=i;){var n=i.item,i=i.next;n.update(t)}var s=this._view;null==(e=t)&&(e=0),s.isActive&&!s.isDisposed&&(s._age+=e,s._updates++,s._updater(e))},_disposer:function(){for(var e=this._processes.h;null!=e;){var t=e.item,e=e.next;this._removeProcess(t)}lt.__implements(this.factory,r)&&lt.__cast(this.factory,r).dispose(),this.factory=null;var i=this._view;i.isDisposed||(i.isDisposed=!0,i.set_isActive(!1),i._disposer()),this._view=null,this._driverDisposer(),this.assets=this._assetManagerProcess=null,this.audio=this._audioManager=null,this.inputs=this._inputManager=null,this.scenes=this._sceneManager=null,this.messenger=this._messageManager=null,this.overlay=this._overlayProcess=null,this.tools=this._tools=null,this._logger=null,this._preloader=null,this.set_session(null),l.prototype._disposer.call(this)},getConfig:function(e){return Object.prototype.hasOwnProperty.call(this.factory.config.h,e)?this.factory.config.h[e]:null},log:function(e){null!=this._logger?this._logger.log(e):this.isDebug&&Re.trace("LOG: "+A.string(e),{fileName:"awe6/core/drivers/AKernel.hx",lineNumber:248,className:"awe6.core.drivers.AKernel",methodName:"log"})},getFramerate:function(e){return null==e&&(e=!0),e?this._helperFramerate.framerate:this.factory.targetFramerate},_addProcess:function(e,t){null==t&&(t=!0),null!=e&&(t?this._processes.add(e):this._processes.push(e))},_removeProcess:function(e){return null!=e&&(e.dispose(),this._processes.remove(e))},set_isEyeCandy:function(e){return this.factory.isEyeCandyOptionEnabled?(this.isEyeCandy=e,this._driverSetIsEyeCandy(e)):this.isEyeCandy=!0,this.isEyeCandy},_driverSetIsEyeCandy:function(e){},set_isFullScreen:function(e){return!this.factory.isFullScreenOptionEnabled||P.enumEq(this.factory.fullScreenType,Ce.DISABLED)?this.isFullScreen=!1:(this.isFullScreen=e,this._driverSetIsFullScreen(e)),this.isFullScreen},_driverSetIsFullScreen:function(e){},_pauser:function(){l.prototype._pauser.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().pause()},_resumer:function(){l.prototype._resumer.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().resume()},get_session:function(){return this.session},set_session:function(e){return this.session=e,this.get_session()},__class__:$,__properties__:e(l.prototype.__properties__,{set_session:"set_session",get_session:"get_session",set_isFullScreen:"set_isFullScreen",set_isEyeCandy:"set_isEyeCandy"})});var ee=function(e){this.framerate=e,this._timeAtLastUpdate=k.now()/1e3*1e3|0};function te(e,t,i,n,s,r,_,a,o,l,u,h,c,d,p,f,g){null==g&&(g=.35),null==f&&(f=0),null==p&&(p=8),null==i&&(i=30),null==t&&(t=30),null==n&&(n=new xe(e)),null==s&&(s=new xe(e)),null==r&&(r=new xe(e)),null==_&&(_=new xe(e)),null==a&&(a=new xe(e)),null==o&&(o=new xe(e)),null==l&&(l=new xe(e)),null==u&&(u=new xe(e)),null==h&&(h=new xe(e)),null==c&&(c=new xe(e)),null==d&&(d=new xe(e)),this._borderView=n,this._buttonBack=new x(e,s,r,t,i),this._buttonMute=new x(e,_,a,t,i),this._buttonUnmute=new x(e,o,l,t,i),this._buttonPause=new x(e,u,h,t,i),this._buttonUnpause=new x(e,c,d,t,i),this._pauseBlur=p,this._pauseColor=f,this._pauseAlpha=g,this._context=new PIXI.Container,m.call(this,e,null,this._context)}function ie(e,t,i){null==i&&(i=!1),this._assets=t,this._isDecached=i,l.call(this,e)}function ne(e){this._context=new PIXI.Container,m.call(this,e,null,this._context)}function se(e,t){null==t&&(t=500),this._duration=t,this._context=new PIXI.Container,m.call(this,e,null,this._context)}(t["awe6.core.drivers._AKernel._HelperFramerate"]=ee).__name__="awe6.core.drivers._AKernel._HelperFramerate",ee.prototype={update:function(){this.timeInterval=(k.now()/1e3*1e3|0)-this._timeAtLastUpdate,this.framerate=1e3/this.timeInterval,this._timeAtLastUpdate=k.now()/1e3*1e3|0},__class__:ee},s=function(){},(t["awe6.interfaces.IOverlay"]=s).__name__="awe6.interfaces.IOverlay",s.__isInterface__=!0,s.prototype={__class__:s},f=function(){},(t["awe6.interfaces.IOverlayProcess"]=f).__name__="awe6.interfaces.IOverlayProcess",f.__isInterface__=!0,f.__interfaces__=[g,a,s],(t["awe6.core.drivers.AOverlay"]=te).__name__="awe6.core.drivers.AOverlay",te.__interfaces__=[f],te.__super__=m,te.prototype=e(m.prototype,{_init:function(){m.prototype._init.call(this),this.get_view().addChild(this._borderView,4),this._wasMute=this._kernel.audio.isMute,this._driverInit(),this._progressView=new xe(this._kernel,this._progressContext),this._progressView.set_isVisible(!1),this._pauseView=new xe(this._kernel,this._pauseContext),this._pauseView.set_isVisible(!1),this._flashView=new xe(this._kernel,this._flashContext),this._flashView.set_isVisible(!1),this._flashStartingAlpha=1,this._flashAsTime=!0,this._flashDuration=this._flashStartingDuration=100;var e=Oi(this,this.activateButton),t=Me.BACK,i=function(){e(t)};this._buttonBack.onClickCallback=i;var n=Oi(this,this.activateButton),s=Me.MUTE,i=function(){n(s)};this._buttonMute.onClickCallback=i;var r=Oi(this,this.activateButton),_=Me.PAUSE,i=function(){r(_)};this._buttonPause.onClickCallback=i;var a=Oi(this,this.activateButton),o=Me.UNMUTE,i=function(){a(o)};this._buttonUnmute.onClickCallback=i;var l=Oi(this,this.activateButton),u=Me.UNPAUSE,i=function(){l(u)};this._buttonUnpause.onClickCallback=i,this.get_view().addChild(this._flashView,1),this.get_view().addChild(this._pauseView,2),this.get_view().addChild(this._progressView,3),this.addEntity(this._buttonBack,null,!0,21),this.addEntity(this._buttonUnmute,null,!0,22),this.addEntity(this._buttonMute,null,!0,23),this.addEntity(this._buttonUnpause,null,!0,24),this.addEntity(this._buttonPause,null,!0,25);var h=this._buttonBack.height,c=this._buttonBack.width,i=this._kernel.factory.width-4*c,h=h;this.positionButton(Me.BACK,i,h),this.positionButton(Me.MUTE,i+=c,h),this.positionButton(Me.UNMUTE,i,h),this.positionButton(Me.PAUSE,i+=c,h),this.positionButton(Me.UNPAUSE,i,h)},_driverInit:function(){this._progressContext=new PIXI.Container,this._pauseContext=new PIXI.Container,this._flashContext=new PIXI.Container},_updater:function(e){var t;null==e&&(e=0),m.prototype._updater.call(this,e),0<this._flashDuration&&(this._flashDuration-=this._flashAsTime?e:1,t=this._flashStartingAlpha*(this._flashDuration/this._flashStartingDuration),this._flashAlpha=1<t?1:t<0?0:t),this._flashView.set_isVisible(0<this._flashAlpha),null!=this._kernel.factory.keyBack&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyBack)&&this.activateButton(this._kernel.isActive?Me.BACK:Me.UNPAUSE),null!=this._kernel.factory.keyPause&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyPause)&&this.activateButton(this._kernel.isActive?Me.PAUSE:Me.UNPAUSE),null!=this._kernel.factory.keyMute&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyMute)&&this.activateButton(this._kernel.audio.isMute?Me.UNMUTE:Me.MUTE),null==this.get_pauseEntity()||this._kernel.isActive||(this.get_pauseEntity().update(e),this._pauseView.update(e))},_disposer:function(){null!=this.get_pauseEntity()&&this.get_pauseEntity().dispose(),this.get_view().dispose(),m.prototype._disposer.call(this)},_getButton:function(e){switch(e._hx_index){case 0:return this._buttonBack;case 1:return this._buttonMute;case 2:return this._buttonUnmute;case 3:return this._buttonPause;case 4:return this._buttonUnpause;case 5:e.value;return null}},showButton:function(e,t){null==t&&(t=!0);e=this._getButton(e);null!=e&&(t?this.addEntity(e,null,!0):this.removeEntity(e,null,!0))},positionButton:function(e,t,i,n,s){e=this._getButton(e);null!=e&&(e.set_x(t),e.set_y(i),null!=n&&e.set_width(n),null!=s&&e.set_height(s))},hideButtons:function(){this.showButton(Me.BACK,!1),this.showButton(Me.MUTE,!1),this.showButton(Me.UNMUTE,!1),this.showButton(Me.PAUSE,!1),this.showButton(Me.UNPAUSE,!1)},flash:function(e,t,i,n){null==n&&(n=16777215),null==i&&(i=1),null==t&&(t=!0),null==e&&(e=t?500:.5*this._kernel.factory.targetFramerate),this._flashDuration=this._flashStartingDuration=e,this._flashAsTime=t,this._flashAlpha=this._flashStartingAlpha=1<i?1:i<0?0:i},activateButton:function(e){switch(e._hx_index){case 0:this._buttonBack.get_view().get_isInViewStack()&&(this._kernel.isActive||this.activateButton(Me.UNPAUSE),this._drawPause(!1),this._kernel.resume(),this._kernel.scenes.back());break;case 1:this._buttonMute.get_view().get_isInViewStack()&&(this.showButton(Me.MUTE,!1),this.showButton(Me.UNMUTE,!0),this._kernel.audio.set_isMute(!0));break;case 2:this._buttonUnmute.get_view().get_isInViewStack()&&!this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(Me.MUTE,!0),this.showButton(Me.UNMUTE,!1),this._kernel.audio.set_isMute(!1));break;case 3:this._buttonPause.get_view().get_isInViewStack()&&(this._kernel.pause(),this._drawPause(!0),this._wasMute=this._kernel.audio.isMute,this.showButton(Me.PAUSE,!1),this.showButton(Me.UNPAUSE,!0),this.activateButton(Me.MUTE));break;case 4:this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(Me.PAUSE,!0),this.showButton(Me.UNPAUSE,!1),this.activateButton(this._wasMute?Me.MUTE:Me.UNMUTE),this._kernel.resume(),this._drawPause(!1));break;case 5:e.value}},_drawPause:function(e){null==e&&(e=!0),this._pauseView.set_isVisible(e)},get_pauseEntity:function(){return this.pauseEntity},__class__:te,__properties__:e(m.prototype.__properties__,{get_pauseEntity:"get_pauseEntity"})}),s=function(){},(t["awe6.interfaces.IProgress"]=s).__name__="awe6.interfaces.IProgress",s.__isInterface__=!0,f=function(){},(t["awe6.interfaces.IPreloader"]=f).__name__="awe6.interfaces.IPreloader",f.__isInterface__=!0,f.__interfaces__=[s,g,a],(t["awe6.core.drivers.APreloader"]=ie).__name__="awe6.core.drivers.APreloader",ie.__interfaces__=[f],ie.__super__=l,ie.prototype=e(l.prototype,{_init:function(){l.prototype._init.call(this),this.progress=0,null==this.get_view()&&(this.view=new xe(this._kernel)),this._encrypter=this._tools,this._currentProgress=0,this._currentAsset=0,this._isComplete=!1,0<this._assets.length&&this._next()},_next:function(){if(this._currentAsset++,this._currentAsset>this._assets.length){if(!this._isComplete){try{var e=Oi(o=this._kernel,o.onPreloaderComplete),t=this;Ge.delay(function(){e(t)},100)}catch(e){}this._isComplete=!0}}else this._driverLoad(this._assets[this._currentAsset-1]),this._currentProgress=0},_driverLoad:function(e){},_updater:function(e){null==e&&(e=0),l.prototype._updater.call(this,e),0==this._assets.length&&this._kernel.onPreloaderComplete(this),this.get_view().set_isVisible(100<this._age)},_disposer:function(){this.get_view().dispose(),this._driverDisposer(),l.prototype._disposer.call(this)},_driverDisposer:function(){},get_view:function(){return this.view},__class__:ie,__properties__:e(l.prototype.__properties__,{get_view:"get_view"})}),(t["awe6.core.drivers.AProfiler"]=ne).__name__="awe6.core.drivers.AProfiler",ne.__super__=m,ne.prototype=e(m.prototype,{_init:function(){m.prototype._init.call(this),this._marginHeight=25,this._marginColor=128,this._backgroundColor=-2147483520,this._fpsColor=16777215,this._memoryColor=16744448,this._fpsLabel="FPS",this._memoryLabel="MBs",this._width=60,this._height=50,this._agePrev=0},_updater:function(e){null==e&&(e=0),m.prototype._updater.call(this,e),this._age<this._agePrev+250||(this._agePrev=this._age,this._driverUpdate())},_driverUpdate:function(){},__class__:ne}),f=function(){},(t["awe6.interfaces.ISceneTransition"]=f).__name__="awe6.interfaces.ISceneTransition",f.__isInterface__=!0,f.__interfaces__=[g,s,a],(t["awe6.core.drivers.ASceneTransition"]=se).__name__="awe6.core.drivers.ASceneTransition",se.__interfaces__=[f],se.__super__=m,se.prototype=e(m.prototype,{_init:function(){m.prototype._init.call(this)},_updater:function(e){null==e&&(e=0),m.prototype._updater.call(this,e),this._age>this._duration&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},get_progress:function(){var e=this._age/this._duration;return 1<e?1:e<0?0:e},__class__:se,__properties__:e(m.prototype.__properties__,{get_progress:"get_progress"})}),a=function(){},(t["awe6.interfaces.ISession"]=a).__name__="awe6.interfaces.ISession",a.__isInterface__=!0,a.prototype={__class__:a};var re=function(e,t){null==t&&(t=""),this._kernel=e,""==t&&(t="DEBUG_AWE6"),this.id=t,this._tools=this._kernel.tools,this._version=1,this._init()};function _e(e,t,i,n){null==i&&(i=0),this.context=t,this.set_priority(i),this.owner=n,l.call(this,e)}(t["awe6.core.drivers.ASession"]=re).__name__="awe6.core.drivers.ASession",re.__interfaces__=[a],re.prototype={_init:function(){this._driverLoad(),I.field(this._savedData,"_____VERSION")!=this._version&&this._driverReset();var e=null!=I.field(this._savedData,this.id);this._data={},this._resetter(),this._setter(),e&&(this._data=I.field(this._savedData,this.id),this._getter(),this.loadCount++)},_driverLoad:function(){this._savedData={}},_driverSave:function(){},_driverReset:function(){this._savedData={}},_getter:function(){this.loadCount=this._data.loadCount,this.saveCount=this._data.saveCount},_setter:function(){this._data.loadCount=this.loadCount,this._data.saveCount=this.saveCount},_resetter:function(){this.loadCount=0,this.saveCount=0},reset:function(e){null==e&&(e=!1),this._data={},this._resetter(),this._setter(),e&&(this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave())},save:function(){this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave()},__class__:re},f=function(){},(t["awe6.interfaces.IPriority"]=f).__name__="awe6.interfaces.IPriority",f.__isInterface__=!0,f.prototype={__class__:f,__properties__:{set_priority:"set_priority",get_priority:"get_priority"}},a=function(){},(t["awe6.interfaces.IView"]=a).__name__="awe6.interfaces.IView",a.__isInterface__=!0,a.__interfaces__=[_,r,w,f],a.prototype={__class__:a,__properties__:{get_isInViewStack:"get_isInViewStack",set_isVisible:"set_isVisible",get_parent:"get_parent"}},(t["awe6.core.drivers.AView"]=_e).__name__="awe6.core.drivers.AView",_e.__interfaces__=[a],_e.__super__=l,_e.prototype=e(l.prototype,{_init:function(){l.prototype._init.call(this),this.globalX=0,this.globalY=0,this.set_x(0),this.set_y(0),this.set_isVisible(!0),this._isDirty=!0,this._children=[]},addChild:function(e,t){return null==t&&(t=0),this.isDisposed||null==e?null:(e.get_parent()!=this&&(e.remove(),e instanceof _e&&(i=e,this._children.push(i),i._setParent(this))),0!=t&&e.set_priority(t),this._isDirty=!0,e);var i},removeChild:function(e){if(!this.isDisposed&&null!=e){if(e instanceof _e){e=e;if(e.get_parent()!=this)return;k.remove(this._children,e),e._setParent(null)}this._isDirty=!0}},remove:function(){null!=this.get_parent()&&this.get_parent().removeChild(this)},clear:function(){for(var e=0,t=this._children;e<t.length;){var i=t[e];++e,this.removeChild(i)}},_updater:function(e){null==e&&(e=0),l.prototype._updater.call(this,e);for(var t=0,i=this._children;t<i.length;){var n=i[t];++t;var s=e;null==s&&(s=0),n.isActive&&!n.isDisposed&&(n._age+=s,n._updates++,n._updater(s))}this._isDirty&&this._draw(),this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY},_disposer:function(){this.remove(),this._driverDisposer(),this.clear(),l.prototype._disposer.call(this)},_driverDisposer:function(){},_draw:function(){this.isDisposed||(this._children.sort(Oi(o=this._tools,o.sortByPriority)),this._driverDraw(),this._isDirty=!1)},_driverDraw:function(){},_setParent:function(e){this.parent=e},get_priority:function(){return this.priority},set_priority:function(e){return e==this.get_priority()||(this.priority=e,this.get_parent()instanceof _e&&(null!=(e=this.get_parent())&&(e._isDirty=!0))),this.get_priority()},set_isVisible:function(e){return e==this.isVisible||(this.isVisible=e,this.get_parent()instanceof _e&&(null!=(e=this.get_parent())&&e._draw())),this.isVisible},get_parent:function(){return this.parent},get_isInViewStack:function(){return!!this.isVisible&&(this.owner==this._kernel||null!=this.get_parent()&&this.get_parent().get_isInViewStack())},set_x:function(e){return this.x=e,this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.x},set_y:function(e){return this.y=e,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY,this.y},__class__:_e,__properties__:e(l.prototype.__properties__,{get_parent:"get_parent",get_isInViewStack:"get_isInViewStack",set_isVisible:"set_isVisible",set_y:"set_y",set_x:"set_x",set_priority:"set_priority",get_priority:"get_priority"})});var ae=function(e){z.call(this,e)};(t["awe6.core.drivers.pixijs.AssetManager"]=ae).__name__="awe6.core.drivers.pixijs.AssetManager",ae.__super__=z,ae.prototype=e(z.prototype,{_driverGetAsset:function(e,t,i){var n=null;return null!=ae.loader&&(n=ae.loader.resources[e]),n},__class__:ae});var oe=function(e){H.call(this,e)};(t["awe6.core.drivers.pixijs.AudioManager"]=oe).__name__="awe6.core.drivers.pixijs.AudioManager",oe.__super__=H,oe.prototype=e(H.prototype,{_init:function(){H.prototype._init.call(this),this._visibilityWasMute=this.isMute,window.document.addEventListener("visibilitychange",Oi(this,this._onVisibilityChange))},_disposer:function(){window.document.removeEventListener("visibilitychange",Oi(this,this._onVisibilityChange)),H.prototype._disposer.call(this)},_driverSoundFactory:function(e,t,i,n,s,r,_){return null==r&&(r=0),null==s&&(s=1),null==n&&(n=0),null==i&&(i=1),new le(this._kernel,e,this._packageId,t,i,n,s,r,_)},_driverSetIsMute:function(e){try{e?oe.sound.muteAll():oe.sound.unmuteAll()}catch(e){var t=Ne.caught(e).unwrap();Re.trace(t,{fileName:"awe6/core/drivers/pixijs/AudioManager.hx",lineNumber:107,className:"awe6.core.drivers.pixijs.AudioManager",methodName:"_driverSetIsMute"})}},_onVisibilityChange:function(e){this._getVisibilityPropery()?(this._visibilityWasMute=this.isMute,this.set_isMute(!0)):this.set_isMute(this._visibilityWasMute)},_getVisibilityPropery:function(){for(var e=["hidden","mozHidden","msHidden","oHidden","webkitHidden"],t=0;t<e.length;){var i=e[t];++t;var n=window.document;if(Object.prototype.hasOwnProperty.call(n,i))return I.field(window.document,i)}return window.document.hidden},__class__:oe});var le=function(e,t,i,n,s,r,_,a,o){null==a&&(a=0),null==_&&(_=1),null==r&&(r=0),null==s&&(s=1),j.call(this,e,t,i,n,1==s?0:s,r,_,a,o)};function ue(e,t,i){Y.call(this,e,t,i)}(t["awe6.core.drivers.pixijs._HelperSound"]=le).__name__="awe6.core.drivers.pixijs._HelperSound",le.__super__=j,le.prototype=e(j.prototype,{_driverInit:function(){try{var e=oe.sound.find("assets.audio."+this.id),t={complete:Oi(this,this._onSoundComplete),start:this._startTime/1e3,loop:0!=this._loops,volume:this._volume};this._sound=e.play(t),oe.sound.webaudio.WebAudioContext.ctx&&"suspended"==oe.sound.webaudio.WebAudioContext.ctx.state&&oe.sound.webaudio.WebAudioContext.ctx.resume()}catch(e){this._sound=null}null!=this._sound?this._driverTransform():this.dispose()},_driverTransform:function(e){if(null==e&&(e=!1),null!=this._sound&&(e&&(this._volume*=this._sound.volume,null!=this._panFilter&&(this._pan*=this._panFilter.pan)),this._sound.volume=this._volume,0!=this._pan&&oe.sound.supported&&!oe.sound.useLegacy&&null==this._panFilter))try{this._panFilter=new PIXI.sound.filters.StereoFilter(this._pan),this._sound.filters=[this._panFilter]}catch(e){this._pan=0}},_driverStop:function(){if(null!=this._sound)try{this._sound.stop()}catch(e){}},_onSoundComplete:function(){null!=this._onCompleteCallback&&this._onCompleteCallback(),this.dispose()},__class__:le}),(t["awe6.core.drivers.pixijs.Factory"]=ue).__name__="awe6.core.drivers.pixijs.Factory",ue.__super__=Y,ue.prototype=e(Y.prototype,{_driverInit:function(){this.isDebug||(Re.trace=function(e,t){window.console.log(e)}),this.canvas=window.document.getElementById("gameCanvas");var e,t=new PIXI.Container;this._context.addChild(t),this._context=t,this._countConfigsLoaded=0,this._countConfigsToLoad=0,""!=this._config?(e=null!=this._config?this._config:"assets/__Config.xml",null!=(t=this.canvas.getAttribute("config"))&&""!=t&&(e=t),this._loadConfig(e)):this._launchKernel()},_launchKernel:function(){this._displayCredits();var e=!0;Object.prototype.hasOwnProperty.call(this.config.h,"settings.nativeExperience")&&(e="true"==this.config.h["settings.nativeExperience"]);var t=this.canvas.getAttribute("nativeExperience");null!=t&&""!=t&&(e="true"==t),this.isNativeExperience=e,Y.prototype._launchKernel.call(this);var i=this._concreteKernel.system.isDesktop,t="default";Object.prototype.hasOwnProperty.call(this.config.h,"settings.fullScreen")&&(t=this.config.h["settings.fullScreen"]);e=this.canvas.getAttribute("fullScreen");null!=e&&""!=e&&(t=e),this._kernel.set_isFullScreen(i&&("desktop"==t||"all"==t)||!i&&("mobile"==t||"all"==t||"default"==t)),this._kernel.isFullScreen&&this.isNativeExperience&&!i&&(this._concreteKernel.system.requestFullScreen(),this._concreteKernel.system.requestLockScreen())},_displayCredits:function(){Re.trace(Object.prototype.hasOwnProperty.call(this.config.h,"settings.asciiArt")?this.config.h["settings.asciiArt"]:"",{fileName:"awe6/core/drivers/pixijs/Factory.hx",lineNumber:130,className:"awe6.core.drivers.pixijs.Factory",methodName:"_displayCredits"}),Re.trace(this.id+" v"+this.version+" by "+this.author,{fileName:"awe6/core/drivers/pixijs/Factory.hx",lineNumber:131,className:"awe6.core.drivers.pixijs.Factory",methodName:"_displayCredits"}),Re.trace("Powered by awe6 (http://awe6.org)",{fileName:"awe6/core/drivers/pixijs/Factory.hx",lineNumber:132,className:"awe6.core.drivers.pixijs.Factory",methodName:"_displayCredits"}),this.isDecached&&Re.trace("Note: decaching is currently enabled",{fileName:"awe6/core/drivers/pixijs/Factory.hx",lineNumber:135,className:"awe6.core.drivers.pixijs.Factory",methodName:"_displayCredits"}),Re.trace("",{fileName:"awe6/core/drivers/pixijs/Factory.hx",lineNumber:137,className:"awe6.core.drivers.pixijs.Factory",methodName:"_displayCredits"})},_loadConfig:function(e){if("<?xml"==k.substr(e,0,5))this._parseXml(e);else{this.isDecached&&(e+="?dc="+A.random(99999));try{var t=new nt(e);t.onError=Oi(this,this._onIOError),t.onData=Oi(this,this._onComplete),t.request()}catch(e){var i=Ne.caught(e).unwrap();return void this._onIOError(A.string(i))}this._countConfigsToLoad++}},_parseXml:function(e){if(this._traverseElements(E.parse(e).firstElement().elements(),""),Object.prototype.hasOwnProperty.call(this.config.h,"settings.joinXml")&&this._countConfigsLoaded<100){var t=this.config.h["settings.joinXml"],e=this.config;Object.prototype.hasOwnProperty.call(e.h,"settings.joinXml")&&delete e.h["settings.joinXml"];for(var i=t.split(","),n=0;n<i.length;){var s=i[n];++n,this._loadConfig(s)}}this._countConfigsLoaded==this._countConfigsToLoad&&this._launchKernel()},_onIOError:function(e){Re.trace("IO Errors Occurred During Config Loading:"+e,{fileName:"awe6/core/drivers/pixijs/Factory.hx",lineNumber:191,className:"awe6.core.drivers.pixijs.Factory",methodName:"_onIOError"}),Re.trace("Double check your Config path.  Cross domain (or local) file loading of Config is a security risk and is, therefore, disabled on this browser.",{fileName:"awe6/core/drivers/pixijs/Factory.hx",lineNumber:192,className:"awe6.core.drivers.pixijs.Factory",methodName:"_onIOError"}),null!=this._config&&"<?xml"==k.substr(this._config,0,5)?(Re.trace("Embedded Config detected, using that to continue ...",{fileName:"awe6/core/drivers/pixijs/Factory.hx",lineNumber:195,className:"awe6.core.drivers.pixijs.Factory",methodName:"_onIOError"}),this._countConfigsLoaded=this._countConfigsToLoad,this._parseXml(this._config)):(Re.trace("Use a web server (or local server) to run over http and serve all files from the same domain.  Or embed the Config directlty in the code (e.g. as a Resource).",{fileName:"awe6/core/drivers/pixijs/Factory.hx",lineNumber:201,className:"awe6.core.drivers.pixijs.Factory",methodName:"_onIOError"}),Re.trace("Unable to continue without Config.",{fileName:"awe6/core/drivers/pixijs/Factory.hx",lineNumber:202,className:"awe6.core.drivers.pixijs.Factory",methodName:"_onIOError"}))},_onComplete:function(e){var t;this._countConfigsLoaded++,""!=e?("<?xml"!=k.substr(t=e,0,5)&&(t=this.createEncrypter().decrypt(ze.ofString(t)).toString()),this._parseXml(t)):this._onIOError(e)},_getAssetUrls:function(){for(var e=["bin/assets/audio/ButtonClick.m4a","bin/assets/audio/ButtonClick.ogg","bin/assets/audio/ButtonRadio.m4a","bin/assets/audio/ButtonRadio.ogg","bin/assets/audio/MusicGame1.m4a","bin/assets/audio/MusicGame1.ogg","bin/assets/audio/MusicGame2.m4a","bin/assets/audio/MusicGame2.ogg","bin/assets/audio/MusicGame3.m4a","bin/assets/audio/MusicGame3.ogg","bin/assets/audio/MusicGame4.m4a","bin/assets/audio/MusicGame4.ogg","bin/assets/audio/MusicGame5.m4a","bin/assets/audio/MusicGame5.ogg","bin/assets/audio/MusicMenu.m4a","bin/assets/audio/MusicMenu.ogg","bin/assets/audio/MusicResults.m4a","bin/assets/audio/MusicResults.ogg","bin/assets/audio/Silence.m4a","bin/assets/audio/Silence.ogg","bin/assets/audio/Swish1.m4a","bin/assets/audio/Swish1.ogg","bin/assets/audio/Swish2.m4a","bin/assets/audio/Swish2.ogg","bin/assets/audio/TileClick1.m4a","bin/assets/audio/TileClick1.ogg","bin/assets/audio/TileClick2.m4a","bin/assets/audio/TileClick2.ogg","bin/assets/audio/TileClick3.m4a","bin/assets/audio/TileClick3.ogg","bin/assets/audio/TileClick4.m4a","bin/assets/audio/TileClick4.ogg","bin/assets/audio/TileCreateBomb.m4a","bin/assets/audio/TileCreateBomb.ogg","bin/assets/audio/TileCreateColor.m4a","bin/assets/audio/TileCreateColor.ogg","bin/assets/audio/TileCreateRailgun.m4a","bin/assets/audio/TileCreateRailgun.ogg","bin/assets/audio/TileCreateSmartbomb.m4a","bin/assets/audio/TileCreateSmartbomb.ogg","bin/assets/audio/TileDestroyBomb.m4a","bin/assets/audio/TileDestroyBomb.ogg","bin/assets/audio/TileDestroyRailgun.m4a","bin/assets/audio/TileDestroyRailgun.ogg","bin/assets/audio/TileDestroySmartbomb.m4a","bin/assets/audio/TileDestroySmartbomb.ogg","bin/assets/audio/Transition.m4a","bin/assets/audio/Transition.ogg","bin/assets/Blank.png","bin/assets/fonts/__DinPro-bold-webfont.eot","bin/assets/fonts/__DinPro-bold-webfont.svg","bin/assets/fonts/__DinPro-bold-webfont.ttf","bin/assets/fonts/__DinPro-bold-webfont.woff","bin/assets/fonts/__DinPro-webfont.eot","bin/assets/fonts/__DinPro-webfont.svg","bin/assets/fonts/__DinPro-webfont.ttf","bin/assets/fonts/__DinPro-webfont.woff","bin/assets/game/Effects.json","bin/assets/game/Effects.png","bin/assets/game/Sprites.json","bin/assets/game/Sprites.png","bin/assets/gui/Gui.json","bin/assets/gui/Gui.png","bin/assets/__Config.xml","bin/assets/__Icon128.png","bin/assets/__Icon192.png","bin/assets/__Icon196.png","bin/assets/__Icon256.png","bin/assets/__Icon512.png","bin/assets/__IconAppleTouch.png","bin/assets/__PreloaderBg.png"],t=[],i=0,n=e.length;i<n;)e[s=i++]=k.substr(e[s],4,null),("__"==k.substr(e[s],0,2)||-1<e[s].indexOf("/__"))&&t.push(e[s]);for(i=0;i<t.length;){var s=t[i];++i,k.remove(e,s)}return e},_driverDisposer:function(){null!=this._context.parent&&this._context.parent.removeChild(this._context)},preventDefaultForKeys:function(e){this._kernel.inputs.keyboard.preventDefaultForKeys(e)},allowDefaultForKeys:function(e){this._kernel.inputs.keyboard.allowDefaultForKeys(e)},__class__:ue});var he=function(e){W.call(this,e)};(t["awe6.core.drivers.pixijs.InputKeyboard"]=he).__name__="awe6.core.drivers.pixijs.InputKeyboard",he.__super__=W,he.prototype=e(W.prototype,{_driverInit:function(){this._document=window.document,this._preventDefaultKeyCodes=[],this._document.addEventListener("keydown",Oi(this,this._onKeyDown)),this._document.addEventListener("keyup",Oi(this,this._onKeyUp))},_disposer:function(){this._document.removeEventListener("keydown",Oi(this,this._onKeyDown)),this._document.removeEventListener("keyup",Oi(this,this._onKeyUp)),W.prototype._disposer.call(this)},_onKeyDown:function(e){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(e.keyCode)&&e.preventDefault(),this._addEvent(e.keyCode,!0))},_onKeyUp:function(e){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(e.keyCode)&&e.preventDefault(),this._addEvent(e.keyCode,!1))},preventDefaultForKeys:function(e){if(null!=e)for(var t=0;t<e.length;){var i=e[t];++t;i=this.getKeyCode(i);p.has(this._preventDefaultKeyCodes,i)||this._preventDefaultKeyCodes.push(i)}},allowDefaultForKeys:function(e){if(null!=e)for(var t=0;t<this._preventDefaultKeyCodes.length;){var i=this.getKey(this._preventDefaultKeyCodes[t]);p.has(e,i)?this._preventDefaultKeyCodes.splice(t,1):++t}},__class__:he});var ce=function(e){q.call(this,e)};(t["awe6.core.drivers.pixijs.InputMouse"]=ce).__name__="awe6.core.drivers.pixijs.InputMouse",ce.__super__=q,ce.prototype=e(q.prototype,{_driverInit:function(){this._canvas=this._kernel.factory.canvas,this._system=this._kernel.system,this._interactionManager=this._kernel._renderer.plugins.interaction,this._interactionManager.interactionFrequency=100,this._interactionManager.on("pointerdown",Oi(this,this._onPointerDown)),this._interactionManager.on("pointerup",Oi(this,this._onPointerUp)),this._system.isDesktop&&window.document.addEventListener("wheel",Oi(this,this._onWheel)),window.focus()},_disposer:function(){this._interactionManager.off("pointerdown",Oi(this,this._onPointerDown)),this._interactionManager.off("pointerup",Oi(this,this._onPointerUp)),this._system.isDesktop&&window.document.removeEventListener("wheel",Oi(this,this._onWheel)),q.prototype._disposer.call(this)},_isWithinBounds:function(){return 0<this.x&&this.x<this._kernel.factory.width&&0<this.y&&this.y<this._kernel.factory.height},_getPosition:function(){null!=this._interactionManager.eventData&&null!=this._interactionManager.eventData.data&&null!=this._interactionManager.eventData.data.global&&(this.x=0|this._interactionManager.eventData.data.global.x,this.y=0|this._interactionManager.eventData.data.global.y)},_onPointerDown:function(e){window.focus(),this.isActive&&(this._getPosition(),2!=e.data.button&&this._buffer.push(!0))},_onPointerUp:function(e){this.isActive&&(this._getPosition(),2!=e.data.button&&(this._buffer.push(!1),ce._isSoundTriggered||(this._kernel.audio.start("Silence"),ce._isSoundTriggered=!0,!this._system.isDesktop&&this._kernel.isFullScreen&&this._kernel.factory.isNativeExperience&&(this._system.requestFullScreen(),this._system.requestLockScreen()))))},_onWheel:function(e){this.isActive&&(this.scroll+=Math.round(e.deltaY))},set_isVisible:function(e){return this._canvas.style.cursor=e?"none":"auto",q.prototype.set_isVisible.call(this,e)},set_cursorType:function(e){switch(e._hx_index){case 0:t="crosshair";break;case 1:t="auto";break;case 2:case 3:t="pointer";break;case 4:t="text";break;case 5:var t=e.value}return this._canvas.style.cursor=t,q.prototype.set_cursorType.call(this,e)},__class__:ce});var de=function(e,t){$.call(this,e,t)};(t["awe6.core.drivers.pixijs.Kernel"]=de).__name__="awe6.core.drivers.pixijs.Kernel",de.__super__=$,de.prototype=e($.prototype,{_driverGetIsLocal:function(){var e;switch(window.location.protocol){case"http:":case"https:":e=!1;break;default:e=!0}return e},_driverInit:function(){this.system=new we(this),this._scaleX=this._scaleY=1,this._canvas=lt.__cast(this.factory,ue).canvas,this._renderer=PIXI.autoDetectRenderer({view:this._canvas,backgroundColor:this.factory.bgColor,transparent:!0,width:this.factory.width,height:this.factory.height,forceCanvas:this.isLocal||"true"==this._canvas.getAttribute("forceCanvas")}),this._canvas.addEventListener("contextmenu",Oi(this,this._onContextMenu),!1),window.addEventListener("unload",Oi(this,this._onUnload)),this._ticker=PIXI.Ticker.shared,this._ticker.add(Oi(this,this._onEnterFrame)),this._timeOfLastRender=0|(new Date).getTime()},_onUnload:function(e){window.removeEventListener("unload",Oi(this,this._onUnload)),this.get_session().save()},_onContextMenu:function(e){var t,i;e.preventDefault(),e.stopImmediatePropagation(),null!=this.overlay&&(t=Oi(o=this.overlay,o.activateButton),i=Me.PAUSE,Ge.delay(function(){t(i)},100))},_driverDisposer:function(){this._canvas.removeEventListener("contextmenu",Oi(this,this._onContextMenu))},_onEnterFrame:function(){var e=0|(new Date).getTime(),t=e-this._timeOfLastRender,i=1e3/this.factory.targetFramerate|0;t<i||(this._timeOfLastRender=e-t%i,this._updates++,this._updater(0),this._renderer.render(this._context),i=A.string(window.innerWidth)+":"+A.string(window.innerHeight),this._prevWindowSize!=i&&this._driverSetIsFullScreen(this.isFullScreen))},_driverSetIsEyeCandy:function(e){},_driverSetIsFullScreen:function(e){this._prevWindowSize=A.string(window.innerWidth)+":"+A.string(window.innerHeight),this._scaleX=this._scaleY=1;var t=this.factory.width,i=this.factory.height,n=window.innerWidth,s=window.innerHeight,r=t<i,_=n<s;this.system.isRotated=!this.system.isDesktop&&r!=_;r=0,_=0;if(e){var a=Math.min(n/t,s/i),o=this.factory.fullScreenType;switch(o._hx_index){case 0:case 1:break;case 2:this._scaleX=n/t,this._scaleY=s/i;break;case 3:this._scaleX=this._scaleY=a;break;case 4:a=a<.5?.25:a<1?.5:Math.floor(a),this._scaleX=this._scaleY=a;break;case 5:var l,u,h,c=o.value;null!=c.bleedWidth&&null!=c.bleedHeight&&(h=t-2*A.parseInt(A.string(c.bleedWidth)+""),u=i-2*A.parseInt(A.string(c.bleedHeight)+""),l=Math.min(n/h,s/u),1==c.isBleedInternal&&((h=(c=t/i)/(u=Math.min(t/u,Math.max(h/i,n/s))))<1&&(h=u/c),l=Math.min(h*n/t,h*s/i)),this._scaleX=this._scaleY=l)}r=Math.round((n-t*this._scaleX)/2),_=Math.round((s-i*this._scaleY)/2)}this._canvas.style.setProperty("width",Math.round(t*this._scaleX)+"px",""),this._canvas.style.setProperty("height",Math.round(i*this._scaleY)+"px",""),this._canvas.style.setProperty("margin-left",r+"px",""),this._canvas.style.setProperty("margin-top",_+"px","")},__class__:de});var pe=function(e,t,i,n,s,r,_,a,o,l,u,h,c,d,p,f,g){te.call(this,e,t,i,n,s,r,_,a,o,l,u,h,c,d,p,f,g)};(t["awe6.core.drivers.pixijs.Overlay"]=pe).__name__="awe6.core.drivers.pixijs.Overlay",pe.__super__=te,pe.prototype=e(te.prototype,{_driverInit:function(){lt.__cast(this._borderView,xe).context.interactive=!1,this._context.interactive=!1,this._pauseContext=new PIXI.Container,this._pauseContext.interactive=!1;var e=new PIXI.Graphics;e.beginFill(this._pauseColor,this._pauseAlpha),e.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),this._pauseContext.addChild(e),this._flashContext=new PIXI.Container,this._flashContext.interactive=!1},_updater:function(e){null==e&&(e=0),te.prototype._updater.call(this,e),this._flashContext.alpha=this._flashAlpha,this._flashContext.visible=0!=this._flashAlpha},flash:function(e,t,i,n){null==n&&(n=16777215),null==i&&(i=1),null==t&&(t=!0),this._flashContext.removeChildren();var s=new PIXI.Graphics;s.beginFill(n),s.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),this._flashContext.addChild(s),null==e&&(e=t?500:.5*this._kernel.factory.targetFramerate),this._flashDuration=this._flashStartingDuration=e,this._flashAsTime=t,this._flashAlpha=this._flashStartingAlpha=1<i?1:i<0?0:i},__class__:pe});var fe=function(e,t,i){ie.call(this,e,t,i)};(t["awe6.core.drivers.pixijs.Preloader"]=fe).__name__="awe6.core.drivers.pixijs.Preloader",fe.__super__=ie,fe.prototype=e(ie.prototype,{_init:function(){this._context=new PIXI.Container,this.view=new xe(this._kernel,this._context),ie.prototype._init.call(this),this._system=this._kernel.system,this._completedDelay=0,this._loader=new PIXI.Loader("",10);var e=PIXI.sound;e.useLegacy=this._kernel.isLocal||!e.supported,this._audioHoldDelay=this._getAudioHoldDelay();var t=this._isDecached?"?dc="+A.random(999999):"",e=this._isSoundDisabled||null==e||this._system.isAndroid&&this._getIsStockAndroidBrowser(),i=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"];null!=this._proprietaryAudioFormat&&""!=this._proprietaryAudioFormat&&p.has(i,this._proprietaryAudioFormat)||(this._proprietaryAudioFormat="mp3"),this._audioFormat=this._canPlayType("ogg")?"ogg":this._proprietaryAudioFormat;for(var n=[],s=0,r=this._assets;s<r.length;){var _=r[s];++s,p.has(i,k.substr(_,-3,null))&&n.push(_)}for(s=0;s<n.length;){_=n[s];++s,k.remove(this._assets,_)}for(s=0,r=this._assets;s<r.length;){_=r[s];++s,this._loader.add(_,_+t)}if(!e)for(s=0;s<n.length;){_=n[s];++s,k.substr(_,-3,null)==this._audioFormat&&this._loader.add("assets.audio."+k.substr(_.split("/").pop(),0,-4),_+t)}var s=Oi(o=this._loader,o.load),a=Oi(this,this._onComplete);Ge.delay(function(){return s(a)},200)},_next:function(){},get_progress:function(){return this._loader.progress/100},_onComplete:function(e){this._isComplete||(this._isComplete=!0,ae.loader=this._loader,this._completedDelay=this._audioHoldDelay,0!=this._audioHoldDelay&&this._showAudioHoldMessage())},_showAudioHoldMessage:function(){},_updater:function(e){null==e&&(e=0),ie.prototype._updater.call(this,e),this._isComplete&&(this._completedDelay-=e,(0<=this._audioHoldDelay&&this._completedDelay<=0||this._kernel.inputs.keyboard.getIsKeyRelease(this._kernel.factory.keyNext)||this._kernel.inputs.mouse.getIsButtonRelease())&&(this._assets=[]))},_getIsStockAndroidBrowser:function(){var e=-1<this._system.userAgent.indexOf("Android")&&-1<this._system.userAgent.indexOf("Mozilla/5.0")&&-1<this._system.userAgent.indexOf("AppleWebKit"),t=new d("AppleWebKit/([\\d.]+)",""),i=t.match(this._system.userAgent),n=i?parseFloat(t.matched(1)):0,s=new d("Chrome/([\\d.]+)",""),t=s.match(this._system.userAgent),s=t?parseFloat(s.matched(1)):0;return e&&(!!(i&&n<537)||!!t&&s<37)},_getAudioHoldDelay:function(){if(this._isSoundDisabled)return 0;try{var e=PIXI.sound;if(e.useLegacy||"suspended"!=e._context._ctx.state)return 0}catch(e){}var t=-1;Object.prototype.hasOwnProperty.call(this._kernel.factory.config.h,"settings.audioHoldDelay")&&(t=A.parseInt(this._kernel.factory.config.h["settings.audioHoldDelay"]));try{var i=this._kernel.factory._context.getStage().canvas.getAttribute("audioHoldDelay");null!=i&&""!=i&&(t=A.parseInt(i))}catch(e){}return t},_canPlayType:function(e){if(null==fe._audioElement&&(fe._audioElement=window.document.createElement("audio")),null==fe._audioElement.canPlayType)return!1;e=fe._audioElement.canPlayType("audio/"+e);return!(""==e||"no"==e)},__class__:fe});var ge=function(e){ne.call(this,e)};(t["awe6.core.drivers.pixijs.Profiler"]=ge).__name__="awe6.core.drivers.pixijs.Profiler",ge.__super__=ne,ge.prototype=e(ne.prototype,{_init:function(){ne.prototype._init.call(this),this._isMemoryEnabled=null!=window.performance&&null!=window.performance.memory,this._width=75,this._height=24,this._marginHeight=12;var e=new PIXI.Graphics;this._context.addChild(e),this._isMemoryEnabled&&(e.beginFill(this._backgroundColor,.25),e.drawRect(0,0,this._width,this._height),e.endFill()),e.beginFill(this._marginColor),e.drawRect(0,0,this._width,this._marginHeight),e.endFill(),e.cacheAsBitmap=!0;e=new PIXI.TextStyle;e.fontSize=10,e.fill=this._fpsColor,this._fpsTextField=new PIXI.Text("",e),this._context.addChild(this._fpsTextField),this._isMemoryEnabled&&((e=new PIXI.TextStyle).fontSize=10,e.fill=this._memoryColor,this._memoryTextField=new PIXI.Text("",e),this._memoryTextField.y=12,this._context.addChild(this._memoryTextField))},_driverUpdate:function(){var e,t=0|this._kernel.getFramerate(!0);Math.min(this._height,this._height/this._kernel.factory.targetFramerate*t);this._fpsTextField.text=this._fpsLabel+": "+t+" / "+this._kernel.factory.targetFramerate,this._isMemoryEnabled&&this._updates%this._kernel.factory.targetFramerate==0&&(e=Math.round(window.performance.memory.usedJSHeapSize/1024/1024),t=Math.round(window.performance.memory.jsHeapSizeLimit/1024/1024),this._memoryTextField.text=this._memoryLabel+": "+e+" / "+t)},__class__:ge});var ye=function(e,t){se.call(this,e,t)};function me(e,t){re.call(this,e,t)}(t["awe6.core.drivers.pixijs.SceneTransition"]=ye).__name__="awe6.core.drivers.pixijs.SceneTransition",ye.__super__=se,ye.prototype=e(se.prototype,{_init:function(){se.prototype._init.call(this);var e,t=this._kernel._renderer,i=this._kernel.scenes.get_scene().get_view().context;i.getBounds();null!=t&&null!=i&&(e=new PIXI.Rectangle(0,0,this._kernel.factory.width,this._kernel.factory.height),e=t.generateTexture(i,PIXI.SCALE_MODES.DEFAULT,1,e),e=new PIXI.Sprite(e),this._context.interactive=!1,this._context.addChild(e))},_updater:function(e){null==e&&(e=0),se.prototype._updater.call(this,e),this.isDisposed||(e=this.get_progress(),this._context.alpha=1-e)},__class__:ye}),(t["awe6.core.drivers.pixijs.Session"]=me).__name__="awe6.core.drivers.pixijs.Session",me.__super__=re,me.prototype=e(re.prototype,{_init:function(){var e=!0;null!=this._kernel.getConfig("settings.sessionSaved")&&(e="false"!=this._kernel.getConfig("settings.sessionSaved")),this._storage=e?ut.getLocalStorage():ut.getSessionStorage(),re.prototype._init.call(this)},_driverLoad:function(){if(this._savedData={},null!=this._storage)try{var e=this._storage.getItem(this._kernel.factory.id);null!=e&&(this._savedData=this._tools.unserialize(e))}catch(e){}},_driverReset:function(){if(null!=this._storage)try{this._storage.removeItem(this._kernel.factory.id)}catch(e){}this._savedData={}},_driverSave:function(){if(null!=this._storage)try{this._storage.setItem(this._kernel.factory.id,this._tools.serialize(this._savedData))}catch(e){}},__class__:me});var we=function(e){this._kernel=e,this.isRotated=!1,this.isAndroid=this.isChromeOs=this.isIos=this.isLinux=this.isMacOs=this.isSilk=this.isWindows=this.isWindowsPhone=this.isDesktop=!1,this.userAgent=c.navigator.userAgent,this.isSilk=new d("Silk","").match(this.userAgent),this.isKaiOs=new d("KAIOS","").match(this.userAgent),this.isCrosswalk=new d("Crosswalk","").match(this.userAgent),this.isCordova=null!=window.cordova,new d("Android","").match(this.userAgent)?this.isAndroid=!0:new d("CrOS","").match(this.userAgent)?this.isChromeOs=!0:new d("iP[ao]d|iPhone","i").match(this.userAgent)?this.isIos=!0:new d("Linux","").match(this.userAgent)?this.isLinux=!0:new d("Mac OS","").match(this.userAgent)?this.isMacOs=!0:new d("Windows","").match(this.userAgent)&&(this.isWindows=!0,new d("Windows Phone","i").match(this.userAgent)&&(this.isWindowsPhone=!0)),(this.isWindows||this.isMacOs||this.isLinux&&!this.isSilk)&&(this.isDesktop=!0),this.isWindowsPhone&&(this.isDesktop=!1)};(t["awe6.core.drivers.pixijs.System"]=we).__name__="awe6.core.drivers.pixijs.System",we.prototype={get_isWebGL:function(){var e=this._kernel._renderer;return null!=e&&e instanceof PIXI.Renderer},get_isFullScreenSupported:function(){try{var e=window.document.documentElement;if(null!=e.requestFullscreen)return!0;if(null!=e.msRequestFullscreen)return!0;if(null!=e.mozRequestFullScreen)return!0;if(null!=e.webkitRequestFullscreen)return!0}catch(e){}return!1},requestFullScreen:function(){try{var e=window.document.documentElement;null!=e.requestFullscreen?e.requestFullscreen():null!=e.msRequestFullscreen?e.msRequestFullscreen():null!=e.mozRequestFullScreen?e.mozRequestFullScreen():null!=e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}catch(e){}},requestExitFullScreen:function(){try{var e=window.document;null!=e.exitFullscreen?e.exitFullscreen():null!=e.msExitFullscreen?e.msExitFullscreen():null!=e.mozCancelFullScreen?e.mozCancelFullScreen():null!=e.webkitExitFullscreen&&e.webkitExitFullscreen()}catch(e){}},requestLockScreen:function(){if(!this.isDesktop)try{var e=this._kernel.factory.width<this._kernel.factory.height?"portrait-primary":"landscape-primary",t=window.screen;null!=t.orientation?null!=t.orientation.lock?t.orientation.lock(e):null!=t.orientation.lockOrientation&&t.orientation.lockOrientation(e):null!=t.mozOrientation?t.mozLockOrientation(e):null!=t.msOrientation&&t.msLockOrientation(e)}catch(e){}},requestDeviceOrientation:function(){if(!this.isDesktop)try{null!=window.DeviceMotionEvent&&null!=window.DeviceMotionEvent.requestPermission&&window.DeviceMotionEvent.requestPermission()}catch(e){}},__class__:we,__properties__:{get_isFullScreenSupported:"get_isFullScreenSupported",get_isWebGL:"get_isWebGL"}};var xe=function(e,t,i,n){_e.call(this,e,t,i,n)};function ve(e,t,i,n){null==n&&(n=!0),null==i&&(i=100),null==t&&(t=100),this.isFlippedX=!1,this.isFlippedY=!1,this.width=t,this.height=i,this._context=new PIXI.Container,this.setPosition(0,0),n&&((n=new PIXI.Graphics).beginFill(16711680),n.drawRect(0,0,this.width,this.height),n.endFill(),this._context.mask=this._context.addChild(n)),m.call(this,e,null,this._context)}function Ee(e,t,i,n,s,r,_){null==_&&(_=!1),null==r&&(r=!1),null==n&&(n=""),this.textStyle=s,this._isMultiline=r,this.set_text(n),ve.call(this,e,t,i,!1)}function be(e,t,i){null==i&&(i=1e3),this._callbackFunction=t,this._duration=i,m.call(this,e)}(t["awe6.core.drivers.pixijs.View"]=xe).__name__="awe6.core.drivers.pixijs.View",xe.__super__=_e,xe.prototype=e(_e.prototype,{_init:function(){null==this.context&&(this.context=new PIXI.Container),_e.prototype._init.call(this)},_driverDisposer:function(){if(null!=this.context&&null!=this.context.parent)try{this.context.parent.removeChild(this.context)}catch(e){}},_driverDraw:function(){null!=this._container&&null!=this._container.parent&&this._container.parent.removeChild(this._container),this._container=new PIXI.Container,this._container.interactive=!1,this.context.addChild(this._container);for(var e=this._children,t=0;t<e.length;){var i=e[t];++t,i.isVisible&&this._container.addChild(i.context)}},set_x:function(e){return this.context.x=e,_e.prototype.set_x.call(this,e)},set_y:function(e){return this.context.y=e,_e.prototype.set_y.call(this,e)},__class__:xe}),(t["awe6.core.drivers.pixijs.extras.gui.GuiEntity"]=ve).__name__="awe6.core.drivers.pixijs.extras.gui.GuiEntity",ve.__interfaces__=[w],ve.__super__=m,ve.prototype=e(m.prototype,{setPosition:function(e,t){this.set_x(e),this.set_y(t)},set_x:function(e){return this.x=e,this._context.x=this.x,this.x},set_y:function(e){return this.y=e,this._context.y=this.y,this.y},__class__:ve,__properties__:e(m.prototype.__properties__,{set_y:"set_y",set_x:"set_x"})}),(t["awe6.core.drivers.pixijs.extras.gui.Text"]=Ee).__name__="awe6.core.drivers.pixijs.extras.gui.Text",Ee.__super__=ve,Ee.prototype=e(ve.prototype,{_init:function(){ve.prototype._init.call(this),this._textField=new PIXI.Text(this.text),this._draw(),this._context.addChild(this._textField),this._prevTextStyle=this.textStyle.toString()},_createPixiTextStyle:function(e){var t,i=new PIXI.TextStyle;switch(e.align._hx_index){case 0:case 1:t="left";break;case 2:t="center";break;case 3:t="right"}return i.align=t,i.fill=this.textStyle.color,i.fontFamily=e.font,i.fontSize=e.size,i.fontStyle=this.textStyle.isItalic?"italic ":"normal",i.fontWeight=this.textStyle.isBold?"bold ":"normal",i.letterSpacing=e.spacingHorizontal,i.lineHeight=e.spacingVertical,i.strokeThickness=e.thickness,i.stroke="",i.strokeThickness=0,i.dropShadow=!1,i.wordWrap=this._isMultiline,i.wordWrapWidth=this.width,null!=this.textStyle.filters&&(2!=(e=this.textStyle.filters.slice()).length&&6!=e.length||(i.stroke=e.shift(),i.strokeThickness=2*e.shift()),4==e.length&&(i.dropShadow=!0,i.dropShadowColor=e[0],i.dropShadowAlpha=.65,i.dropShadowBlur=e[3],i.dropShadowAngle=e[1],i.dropShadowDistance=e[2])),i},_alignTextField:function(e,t){var i;switch(t.align._hx_index){case 0:case 1:i=0;break;case 2:i=.5;break;case 3:i=1}switch(e.anchor.x=i,t.align._hx_index){case 0:case 1:i=0;break;case 2:i=.5*this.width;break;case 3:i=this.width}e.x=i,e.y=-e.style.strokeThickness/2},_updater:function(e){null==e&&(e=0),ve.prototype._updater.call(this,e),this._isDirty=this._isDirty||this._prevTextStyle!=this.textStyle.toString(),this._isDirty&&this._draw(),this._prevTextStyle=this.textStyle.toString()},_draw:function(){this._prevTextStyle!=this.textStyle.toString()&&(this._textField.style=this._createPixiTextStyle(this.textStyle),this._alignTextField(this._textField,this.textStyle)),this._isDirty=!1},set_text:function(e){return null==e&&(e=""),this.text==e||(this.text=e,null!=this._textField&&(this._textField.text=this.text),null!=this._textFieldOutline&&(this._textFieldOutline.text=this.text),this._isDirty=!0),this.text},__class__:Ee,__properties__:e(ve.prototype.__properties__,{set_text:"set_text"})}),(t["awe6.extras.Delay"]=be).__name__="awe6.extras.Delay",be.__super__=m,be.prototype=e(m.prototype,{_updater:function(e){null==e&&(e=0),m.prototype._updater.call(this,e),this._duration-=e,this._duration<=0&&(null!=this._callbackFunction&&this._callbackFunction(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:be});var Se=C["awe6.interfaces.EAgenda"]={__ename__:"awe6.interfaces.EAgenda",__constructs__:null,ALWAYS:{_hx_name:"ALWAYS",_hx_index:0,__enum__:"awe6.interfaces.EAgenda",toString:i},BIRTH:{_hx_name:"BIRTH",_hx_index:1,__enum__:"awe6.interfaces.EAgenda",toString:i},DEATH:{_hx_name:"DEATH",_hx_index:2,__enum__:"awe6.interfaces.EAgenda",toString:i},STANDARD:{_hx_name:"STANDARD",_hx_index:3,__enum__:"awe6.interfaces.EAgenda",toString:i},ATTACK:{_hx_name:"ATTACK",_hx_index:4,__enum__:"awe6.interfaces.EAgenda",toString:i},DEFEND:{_hx_name:"DEFEND",_hx_index:5,__enum__:"awe6.interfaces.EAgenda",toString:i},SUB_TYPE:((o=function(e){return{_hx_index:6,value:e,__enum__:"awe6.interfaces.EAgenda",toString:i}})._hx_name="SUB_TYPE",o.__params__=["value"],o)};Se.__constructs__=[Se.ALWAYS,Se.BIRTH,Se.DEATH,Se.STANDARD,Se.ATTACK,Se.DEFEND,Se.SUB_TYPE];var Te=C["awe6.interfaces.EAudioChannel"]={__ename__:"awe6.interfaces.EAudioChannel",__constructs__:null,DEFAULT:{_hx_name:"DEFAULT",_hx_index:0,__enum__:"awe6.interfaces.EAudioChannel",toString:i},EFFECTS:{_hx_name:"EFFECTS",_hx_index:1,__enum__:"awe6.interfaces.EAudioChannel",toString:i},INTERFACE:{_hx_name:"INTERFACE",_hx_index:2,__enum__:"awe6.interfaces.EAudioChannel",toString:i},MUSIC:{_hx_name:"MUSIC",_hx_index:3,__enum__:"awe6.interfaces.EAudioChannel",toString:i},SUB_TYPE:((o=function(e){return{_hx_index:4,value:e,__enum__:"awe6.interfaces.EAudioChannel",toString:i}})._hx_name="SUB_TYPE",o.__params__=["value"],o)};Te.__constructs__=[Te.DEFAULT,Te.EFFECTS,Te.INTERFACE,Te.MUSIC,Te.SUB_TYPE];var Ce=C["awe6.interfaces.EFullScreen"]={__ename__:"awe6.interfaces.EFullScreen",__constructs__:null,DISABLED:{_hx_name:"DISABLED",_hx_index:0,__enum__:"awe6.interfaces.EFullScreen",toString:i},NO_SCALE:{_hx_name:"NO_SCALE",_hx_index:1,__enum__:"awe6.interfaces.EFullScreen",toString:i},SCALE_ASPECT_RATIO_IGNORE:{_hx_name:"SCALE_ASPECT_RATIO_IGNORE",_hx_index:2,__enum__:"awe6.interfaces.EFullScreen",toString:i},SCALE_ASPECT_RATIO_PRESERVE:{_hx_name:"SCALE_ASPECT_RATIO_PRESERVE",_hx_index:3,__enum__:"awe6.interfaces.EFullScreen",toString:i},SCALE_NEAREST_MULTIPLE:{_hx_name:"SCALE_NEAREST_MULTIPLE",_hx_index:4,__enum__:"awe6.interfaces.EFullScreen",toString:i},SUB_TYPE:((o=function(e){return{_hx_index:5,value:e,__enum__:"awe6.interfaces.EFullScreen",toString:i}})._hx_name="SUB_TYPE",o.__params__=["value"],o)};Ce.__constructs__=[Ce.DISABLED,Ce.NO_SCALE,Ce.SCALE_ASPECT_RATIO_IGNORE,Ce.SCALE_ASPECT_RATIO_PRESERVE,Ce.SCALE_NEAREST_MULTIPLE,Ce.SUB_TYPE];var Ie=C["awe6.interfaces.EJoypadTouch"]={__ename__:"awe6.interfaces.EJoypadTouch",__constructs__:null,DISABLED:{_hx_name:"DISABLED",_hx_index:0,__enum__:"awe6.interfaces.EJoypadTouch",toString:i},DPAD:{_hx_name:"DPAD",_hx_index:1,__enum__:"awe6.interfaces.EJoypadTouch",toString:i},JOYSTICK:((o=function(e){return{_hx_index:2,distance:e,__enum__:"awe6.interfaces.EJoypadTouch",toString:i}})._hx_name="JOYSTICK",o.__params__=["distance"],o),SWIPE:((o=function(e){return{_hx_index:3,speed:e,__enum__:"awe6.interfaces.EJoypadTouch",toString:i}})._hx_name="SWIPE",o.__params__=["speed"],o)};Ie.__constructs__=[Ie.DISABLED,Ie.DPAD,Ie.JOYSTICK,Ie.SWIPE];var Ae=C["awe6.interfaces.EKey"]={__ename__:"awe6.interfaces.EKey",__constructs__:null,NUM_LOCK:{_hx_name:"NUM_LOCK",_hx_index:0,__enum__:"awe6.interfaces.EKey",toString:i},CLEAR:{_hx_name:"CLEAR",_hx_index:1,__enum__:"awe6.interfaces.EKey",toString:i},HELP:{_hx_name:"HELP",_hx_index:2,__enum__:"awe6.interfaces.EKey",toString:i},ALT:{_hx_name:"ALT",_hx_index:3,__enum__:"awe6.interfaces.EKey",toString:i},BACKSPACE:{_hx_name:"BACKSPACE",_hx_index:4,__enum__:"awe6.interfaces.EKey",toString:i},CAPS_LOCK:{_hx_name:"CAPS_LOCK",_hx_index:5,__enum__:"awe6.interfaces.EKey",toString:i},CONTROL:{_hx_name:"CONTROL",_hx_index:6,__enum__:"awe6.interfaces.EKey",toString:i},DELETE:{_hx_name:"DELETE",_hx_index:7,__enum__:"awe6.interfaces.EKey",toString:i},DOWN:{_hx_name:"DOWN",_hx_index:8,__enum__:"awe6.interfaces.EKey",toString:i},END:{_hx_name:"END",_hx_index:9,__enum__:"awe6.interfaces.EKey",toString:i},ENTER:{_hx_name:"ENTER",_hx_index:10,__enum__:"awe6.interfaces.EKey",toString:i},ESCAPE:{_hx_name:"ESCAPE",_hx_index:11,__enum__:"awe6.interfaces.EKey",toString:i},F1:{_hx_name:"F1",_hx_index:12,__enum__:"awe6.interfaces.EKey",toString:i},F10:{_hx_name:"F10",_hx_index:13,__enum__:"awe6.interfaces.EKey",toString:i},F11:{_hx_name:"F11",_hx_index:14,__enum__:"awe6.interfaces.EKey",toString:i},F12:{_hx_name:"F12",_hx_index:15,__enum__:"awe6.interfaces.EKey",toString:i},F13:{_hx_name:"F13",_hx_index:16,__enum__:"awe6.interfaces.EKey",toString:i},F14:{_hx_name:"F14",_hx_index:17,__enum__:"awe6.interfaces.EKey",toString:i},F15:{_hx_name:"F15",_hx_index:18,__enum__:"awe6.interfaces.EKey",toString:i},F2:{_hx_name:"F2",_hx_index:19,__enum__:"awe6.interfaces.EKey",toString:i},F3:{_hx_name:"F3",_hx_index:20,__enum__:"awe6.interfaces.EKey",toString:i},F4:{_hx_name:"F4",_hx_index:21,__enum__:"awe6.interfaces.EKey",toString:i},F5:{_hx_name:"F5",_hx_index:22,__enum__:"awe6.interfaces.EKey",toString:i},F6:{_hx_name:"F6",_hx_index:23,__enum__:"awe6.interfaces.EKey",toString:i},F7:{_hx_name:"F7",_hx_index:24,__enum__:"awe6.interfaces.EKey",toString:i},F8:{_hx_name:"F8",_hx_index:25,__enum__:"awe6.interfaces.EKey",toString:i},F9:{_hx_name:"F9",_hx_index:26,__enum__:"awe6.interfaces.EKey",toString:i},HOME:{_hx_name:"HOME",_hx_index:27,__enum__:"awe6.interfaces.EKey",toString:i},INSERT:{_hx_name:"INSERT",_hx_index:28,__enum__:"awe6.interfaces.EKey",toString:i},LEFT:{_hx_name:"LEFT",_hx_index:29,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_0:{_hx_name:"NUMPAD_0",_hx_index:30,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_1:{_hx_name:"NUMPAD_1",_hx_index:31,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_2:{_hx_name:"NUMPAD_2",_hx_index:32,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_3:{_hx_name:"NUMPAD_3",_hx_index:33,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_4:{_hx_name:"NUMPAD_4",_hx_index:34,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_5:{_hx_name:"NUMPAD_5",_hx_index:35,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_6:{_hx_name:"NUMPAD_6",_hx_index:36,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_7:{_hx_name:"NUMPAD_7",_hx_index:37,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_8:{_hx_name:"NUMPAD_8",_hx_index:38,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_9:{_hx_name:"NUMPAD_9",_hx_index:39,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_ADD:{_hx_name:"NUMPAD_ADD",_hx_index:40,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_DECIMAL:{_hx_name:"NUMPAD_DECIMAL",_hx_index:41,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_DIVIDE:{_hx_name:"NUMPAD_DIVIDE",_hx_index:42,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_ENTER:{_hx_name:"NUMPAD_ENTER",_hx_index:43,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_MULTIPLY:{_hx_name:"NUMPAD_MULTIPLY",_hx_index:44,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_SUBTRACT:{_hx_name:"NUMPAD_SUBTRACT",_hx_index:45,__enum__:"awe6.interfaces.EKey",toString:i},PAGE_DOWN:{_hx_name:"PAGE_DOWN",_hx_index:46,__enum__:"awe6.interfaces.EKey",toString:i},PAGE_UP:{_hx_name:"PAGE_UP",_hx_index:47,__enum__:"awe6.interfaces.EKey",toString:i},RIGHT:{_hx_name:"RIGHT",_hx_index:48,__enum__:"awe6.interfaces.EKey",toString:i},SHIFT:{_hx_name:"SHIFT",_hx_index:49,__enum__:"awe6.interfaces.EKey",toString:i},SPACE:{_hx_name:"SPACE",_hx_index:50,__enum__:"awe6.interfaces.EKey",toString:i},TAB:{_hx_name:"TAB",_hx_index:51,__enum__:"awe6.interfaces.EKey",toString:i},UP:{_hx_name:"UP",_hx_index:52,__enum__:"awe6.interfaces.EKey",toString:i},A:{_hx_name:"A",_hx_index:53,__enum__:"awe6.interfaces.EKey",toString:i},B:{_hx_name:"B",_hx_index:54,__enum__:"awe6.interfaces.EKey",toString:i},C:{_hx_name:"C",_hx_index:55,__enum__:"awe6.interfaces.EKey",toString:i},D:{_hx_name:"D",_hx_index:56,__enum__:"awe6.interfaces.EKey",toString:i},E:{_hx_name:"E",_hx_index:57,__enum__:"awe6.interfaces.EKey",toString:i},F:{_hx_name:"F",_hx_index:58,__enum__:"awe6.interfaces.EKey",toString:i},G:{_hx_name:"G",_hx_index:59,__enum__:"awe6.interfaces.EKey",toString:i},H:{_hx_name:"H",_hx_index:60,__enum__:"awe6.interfaces.EKey",toString:i},I:{_hx_name:"I",_hx_index:61,__enum__:"awe6.interfaces.EKey",toString:i},J:{_hx_name:"J",_hx_index:62,__enum__:"awe6.interfaces.EKey",toString:i},K:{_hx_name:"K",_hx_index:63,__enum__:"awe6.interfaces.EKey",toString:i},L:{_hx_name:"L",_hx_index:64,__enum__:"awe6.interfaces.EKey",toString:i},M:{_hx_name:"M",_hx_index:65,__enum__:"awe6.interfaces.EKey",toString:i},N:{_hx_name:"N",_hx_index:66,__enum__:"awe6.interfaces.EKey",toString:i},O:{_hx_name:"O",_hx_index:67,__enum__:"awe6.interfaces.EKey",toString:i},P:{_hx_name:"P",_hx_index:68,__enum__:"awe6.interfaces.EKey",toString:i},Q:{_hx_name:"Q",_hx_index:69,__enum__:"awe6.interfaces.EKey",toString:i},R:{_hx_name:"R",_hx_index:70,__enum__:"awe6.interfaces.EKey",toString:i},S:{_hx_name:"S",_hx_index:71,__enum__:"awe6.interfaces.EKey",toString:i},T:{_hx_name:"T",_hx_index:72,__enum__:"awe6.interfaces.EKey",toString:i},U:{_hx_name:"U",_hx_index:73,__enum__:"awe6.interfaces.EKey",toString:i},V:{_hx_name:"V",_hx_index:74,__enum__:"awe6.interfaces.EKey",toString:i},W:{_hx_name:"W",_hx_index:75,__enum__:"awe6.interfaces.EKey",toString:i},X:{_hx_name:"X",_hx_index:76,__enum__:"awe6.interfaces.EKey",toString:i},Y:{_hx_name:"Y",_hx_index:77,__enum__:"awe6.interfaces.EKey",toString:i},Z:{_hx_name:"Z",_hx_index:78,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_0:{_hx_name:"NUMBER_0",_hx_index:79,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_1:{_hx_name:"NUMBER_1",_hx_index:80,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_2:{_hx_name:"NUMBER_2",_hx_index:81,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_3:{_hx_name:"NUMBER_3",_hx_index:82,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_4:{_hx_name:"NUMBER_4",_hx_index:83,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_5:{_hx_name:"NUMBER_5",_hx_index:84,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_6:{_hx_name:"NUMBER_6",_hx_index:85,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_7:{_hx_name:"NUMBER_7",_hx_index:86,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_8:{_hx_name:"NUMBER_8",_hx_index:87,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_9:{_hx_name:"NUMBER_9",_hx_index:88,__enum__:"awe6.interfaces.EKey",toString:i},COLON:{_hx_name:"COLON",_hx_index:89,__enum__:"awe6.interfaces.EKey",toString:i},EQUALS:{_hx_name:"EQUALS",_hx_index:90,__enum__:"awe6.interfaces.EKey",toString:i},HYPHEN:{_hx_name:"HYPHEN",_hx_index:91,__enum__:"awe6.interfaces.EKey",toString:i},SLASH:{_hx_name:"SLASH",_hx_index:92,__enum__:"awe6.interfaces.EKey",toString:i},TILDE:{_hx_name:"TILDE",_hx_index:93,__enum__:"awe6.interfaces.EKey",toString:i},SQUARELEFT:{_hx_name:"SQUARELEFT",_hx_index:94,__enum__:"awe6.interfaces.EKey",toString:i},SQUARERIGHT:{_hx_name:"SQUARERIGHT",_hx_index:95,__enum__:"awe6.interfaces.EKey",toString:i},BACKSLASH:{_hx_name:"BACKSLASH",_hx_index:96,__enum__:"awe6.interfaces.EKey",toString:i},APOSTROPHE:{_hx_name:"APOSTROPHE",_hx_index:97,__enum__:"awe6.interfaces.EKey",toString:i},TOPLEFT:{_hx_name:"TOPLEFT",_hx_index:98,__enum__:"awe6.interfaces.EKey",toString:i},SUB_TYPE:((o=function(e){return{_hx_index:99,value:e,__enum__:"awe6.interfaces.EKey",toString:i}})._hx_name="SUB_TYPE",o.__params__=["value"],o)};Ae.__constructs__=[Ae.NUM_LOCK,Ae.CLEAR,Ae.HELP,Ae.ALT,Ae.BACKSPACE,Ae.CAPS_LOCK,Ae.CONTROL,Ae.DELETE,Ae.DOWN,Ae.END,Ae.ENTER,Ae.ESCAPE,Ae.F1,Ae.F10,Ae.F11,Ae.F12,Ae.F13,Ae.F14,Ae.F15,Ae.F2,Ae.F3,Ae.F4,Ae.F5,Ae.F6,Ae.F7,Ae.F8,Ae.F9,Ae.HOME,Ae.INSERT,Ae.LEFT,Ae.NUMPAD_0,Ae.NUMPAD_1,Ae.NUMPAD_2,Ae.NUMPAD_3,Ae.NUMPAD_4,Ae.NUMPAD_5,Ae.NUMPAD_6,Ae.NUMPAD_7,Ae.NUMPAD_8,Ae.NUMPAD_9,Ae.NUMPAD_ADD,Ae.NUMPAD_DECIMAL,Ae.NUMPAD_DIVIDE,Ae.NUMPAD_ENTER,Ae.NUMPAD_MULTIPLY,Ae.NUMPAD_SUBTRACT,Ae.PAGE_DOWN,Ae.PAGE_UP,Ae.RIGHT,Ae.SHIFT,Ae.SPACE,Ae.TAB,Ae.UP,Ae.A,Ae.B,Ae.C,Ae.D,Ae.E,Ae.F,Ae.G,Ae.H,Ae.I,Ae.J,Ae.K,Ae.L,Ae.M,Ae.N,Ae.O,Ae.P,Ae.Q,Ae.R,Ae.S,Ae.T,Ae.U,Ae.V,Ae.W,Ae.X,Ae.Y,Ae.Z,Ae.NUMBER_0,Ae.NUMBER_1,Ae.NUMBER_2,Ae.NUMBER_3,Ae.NUMBER_4,Ae.NUMBER_5,Ae.NUMBER_6,Ae.NUMBER_7,Ae.NUMBER_8,Ae.NUMBER_9,Ae.COLON,Ae.EQUALS,Ae.HYPHEN,Ae.SLASH,Ae.TILDE,Ae.SQUARELEFT,Ae.SQUARERIGHT,Ae.BACKSLASH,Ae.APOSTROPHE,Ae.TOPLEFT,Ae.SUB_TYPE];var ke=C["awe6.interfaces.EMessage"]={__ename__:"awe6.interfaces.EMessage",__constructs__:null,DISPOSE:{_hx_name:"DISPOSE",_hx_index:0,__enum__:"awe6.interfaces.EMessage",toString:i},INIT:{_hx_name:"INIT",_hx_index:1,__enum__:"awe6.interfaces.EMessage",toString:i},PAUSE:{_hx_name:"PAUSE",_hx_index:2,__enum__:"awe6.interfaces.EMessage",toString:i},RESUME:{_hx_name:"RESUME",_hx_index:3,__enum__:"awe6.interfaces.EMessage",toString:i},SUB_TYPE:((o=function(e){return{_hx_index:4,value:e,__enum__:"awe6.interfaces.EMessage",toString:i}})._hx_name="SUB_TYPE",o.__params__=["value"],o)};ke.__constructs__=[ke.DISPOSE,ke.INIT,ke.PAUSE,ke.RESUME,ke.SUB_TYPE];var Pe=C["awe6.interfaces.EMouseButton"]={__ename__:"awe6.interfaces.EMouseButton",__constructs__:null,LEFT:{_hx_name:"LEFT",_hx_index:0,__enum__:"awe6.interfaces.EMouseButton",toString:i},MIDDLE:{_hx_name:"MIDDLE",_hx_index:1,__enum__:"awe6.interfaces.EMouseButton",toString:i},RIGHT:{_hx_name:"RIGHT",_hx_index:2,__enum__:"awe6.interfaces.EMouseButton",toString:i}};Pe.__constructs__=[Pe.LEFT,Pe.MIDDLE,Pe.RIGHT];var De=C["awe6.interfaces.EMouseCursor"]={__ename__:"awe6.interfaces.EMouseCursor",__constructs__:null,ARROW:{_hx_name:"ARROW",_hx_index:0,__enum__:"awe6.interfaces.EMouseCursor",toString:i},AUTO:{_hx_name:"AUTO",_hx_index:1,__enum__:"awe6.interfaces.EMouseCursor",toString:i},BUTTON:{_hx_name:"BUTTON",_hx_index:2,__enum__:"awe6.interfaces.EMouseCursor",toString:i},HAND:{_hx_name:"HAND",_hx_index:3,__enum__:"awe6.interfaces.EMouseCursor",toString:i},IBEAM:{_hx_name:"IBEAM",_hx_index:4,__enum__:"awe6.interfaces.EMouseCursor",toString:i},SUB_TYPE:((o=function(e){return{_hx_index:5,value:e,__enum__:"awe6.interfaces.EMouseCursor",toString:i}})._hx_name="SUB_TYPE",o.__params__=["value"],o)};De.__constructs__=[De.ARROW,De.AUTO,De.BUTTON,De.HAND,De.IBEAM,De.SUB_TYPE];var Me=C["awe6.interfaces.EOverlayButton"]={__ename__:"awe6.interfaces.EOverlayButton",__constructs__:null,BACK:{_hx_name:"BACK",_hx_index:0,__enum__:"awe6.interfaces.EOverlayButton",toString:i},MUTE:{_hx_name:"MUTE",_hx_index:1,__enum__:"awe6.interfaces.EOverlayButton",toString:i},UNMUTE:{_hx_name:"UNMUTE",_hx_index:2,__enum__:"awe6.interfaces.EOverlayButton",toString:i},PAUSE:{_hx_name:"PAUSE",_hx_index:3,__enum__:"awe6.interfaces.EOverlayButton",toString:i},UNPAUSE:{_hx_name:"UNPAUSE",_hx_index:4,__enum__:"awe6.interfaces.EOverlayButton",toString:i},SUB_TYPE:((o=function(e){return{_hx_index:5,value:e,__enum__:"awe6.interfaces.EOverlayButton",toString:i}})._hx_name="SUB_TYPE",o.__params__=["value"],o)};Me.__constructs__=[Me.BACK,Me.MUTE,Me.UNMUTE,Me.PAUSE,Me.UNPAUSE,Me.SUB_TYPE];var Oe=C["awe6.interfaces.EScene"]={__ename__:"awe6.interfaces.EScene",__constructs__:null,SPLASH:{_hx_name:"SPLASH",_hx_index:0,__enum__:"awe6.interfaces.EScene",toString:i},INTRO:{_hx_name:"INTRO",_hx_index:1,__enum__:"awe6.interfaces.EScene",toString:i},SELECT_SESSION:{_hx_name:"SELECT_SESSION",_hx_index:2,__enum__:"awe6.interfaces.EScene",toString:i},SELECT_STORY:{_hx_name:"SELECT_STORY",_hx_index:3,__enum__:"awe6.interfaces.EScene",toString:i},SELECT_LEVEL:{_hx_name:"SELECT_LEVEL",_hx_index:4,__enum__:"awe6.interfaces.EScene",toString:i},INSTRUCTIONS:{_hx_name:"INSTRUCTIONS",_hx_index:5,__enum__:"awe6.interfaces.EScene",toString:i},SETTINGS:{_hx_name:"SETTINGS",_hx_index:6,__enum__:"awe6.interfaces.EScene",toString:i},MENU:{_hx_name:"MENU",_hx_index:7,__enum__:"awe6.interfaces.EScene",toString:i},AVATAR:{_hx_name:"AVATAR",_hx_index:8,__enum__:"awe6.interfaces.EScene",toString:i},SHOP:{_hx_name:"SHOP",_hx_index:9,__enum__:"awe6.interfaces.EScene",toString:i},REWARDS:{_hx_name:"REWARDS",_hx_index:10,__enum__:"awe6.interfaces.EScene",toString:i},LEADERBOARD:{_hx_name:"LEADERBOARD",_hx_index:11,__enum__:"awe6.interfaces.EScene",toString:i},GAME:{_hx_name:"GAME",_hx_index:12,__enum__:"awe6.interfaces.EScene",toString:i},INTERSTITIAL:{_hx_name:"INTERSTITIAL",_hx_index:13,__enum__:"awe6.interfaces.EScene",toString:i},CINEMATIC:{_hx_name:"CINEMATIC",_hx_index:14,__enum__:"awe6.interfaces.EScene",toString:i},RESULTS:{_hx_name:"RESULTS",_hx_index:15,__enum__:"awe6.interfaces.EScene",toString:i},EXIT:{_hx_name:"EXIT",_hx_index:16,__enum__:"awe6.interfaces.EScene",toString:i},TEST:{_hx_name:"TEST",_hx_index:17,__enum__:"awe6.interfaces.EScene",toString:i},SUB_TYPE:((o=function(e){return{_hx_index:18,value:e,__enum__:"awe6.interfaces.EScene",toString:i}})._hx_name="SUB_TYPE",o.__params__=["value"],o)};Oe.__constructs__=[Oe.SPLASH,Oe.INTRO,Oe.SELECT_SESSION,Oe.SELECT_STORY,Oe.SELECT_LEVEL,Oe.INSTRUCTIONS,Oe.SETTINGS,Oe.MENU,Oe.AVATAR,Oe.SHOP,Oe.REWARDS,Oe.LEADERBOARD,Oe.GAME,Oe.INTERSTITIAL,Oe.CINEMATIC,Oe.RESULTS,Oe.EXIT,Oe.TEST,Oe.SUB_TYPE];var Be=C["awe6.interfaces.ETextAlign"]={__ename__:"awe6.interfaces.ETextAlign",__constructs__:null,JUSTIFY:{_hx_name:"JUSTIFY",_hx_index:0,__enum__:"awe6.interfaces.ETextAlign",toString:i},LEFT:{_hx_name:"LEFT",_hx_index:1,__enum__:"awe6.interfaces.ETextAlign",toString:i},CENTER:{_hx_name:"CENTER",_hx_index:2,__enum__:"awe6.interfaces.ETextAlign",toString:i},RIGHT:{_hx_name:"RIGHT",_hx_index:3,__enum__:"awe6.interfaces.ETextAlign",toString:i}};Be.__constructs__=[Be.JUSTIFY,Be.LEFT,Be.CENTER,Be.RIGHT];var Ue=C["awe6.interfaces.ETextStyle"]={__ename__:"awe6.interfaces.ETextStyle",__constructs__:null,BUTTON:{_hx_name:"BUTTON",_hx_index:0,__enum__:"awe6.interfaces.ETextStyle",toString:i},BODY:{_hx_name:"BODY",_hx_index:1,__enum__:"awe6.interfaces.ETextStyle",toString:i},HEADLINE:{_hx_name:"HEADLINE",_hx_index:2,__enum__:"awe6.interfaces.ETextStyle",toString:i},SUBHEAD:{_hx_name:"SUBHEAD",_hx_index:3,__enum__:"awe6.interfaces.ETextStyle",toString:i},SMALLPRINT:{_hx_name:"SMALLPRINT",_hx_index:4,__enum__:"awe6.interfaces.ETextStyle",toString:i},OVERSIZED:{_hx_name:"OVERSIZED",_hx_index:5,__enum__:"awe6.interfaces.ETextStyle",toString:i},SUB_TYPE:((o=function(e){return{_hx_index:6,value:e,__enum__:"awe6.interfaces.ETextStyle",toString:i}})._hx_name="SUB_TYPE",o.__params__=["value"],o)};Ue.__constructs__=[Ue.BUTTON,Ue.BODY,Ue.HEADLINE,Ue.SUBHEAD,Ue.SMALLPRINT,Ue.OVERSIZED,Ue.SUB_TYPE],w=function(){},(t["haxe.IMap"]=w).__name__="haxe.IMap",w.__isInterface__=!0;var Ne=function(e,t,i){Error.call(this,e),this.message=e,this.__previousException=t,this.__nativeException=null!=i?i:this};(t["haxe.Exception"]=Ne).__name__="haxe.Exception",Ne.caught=function(e){return e instanceof Ne?e:e instanceof Error?new Ne(e.message,null,e):new Ve(e,null,e)},Ne.thrown=function(e){return e instanceof Ne?e.get_native():e instanceof Error?e:new Ve(e)},Ne.__super__=Error,Ne.prototype=e(Error.prototype,{unwrap:function(){return this.__nativeException},get_native:function(){return this.__nativeException},__class__:Ne,__properties__:{get_native:"get_native"}});var Re=function(){};function Fe(){}(t["haxe.Log"]=Re).__name__="haxe.Log",Re.formatOutput=function(e,t){var i=A.string(e);if(null==t)return i;var n=t.fileName+":"+t.lineNumber;if(null!=t.customParams)for(var s=0,r=t.customParams;s<r.length;){e=r[s];++s,i+=", "+A.string(e)}return n+": "+i},Re.trace=function(e,t){t=Re.formatOutput(e,t);"undefined"!=typeof console&&null!=console.log&&console.log(t)},(t["haxe.Resource"]=Fe).__name__="haxe.Resource",Fe.getString=function(e){for(var t=0,i=Fe.content;t<i.length;){var n=i[t];if(++t,n.name==e)return null!=n.str?n.str:je.decode(n.data).toString()}return null};var Le=function(){this.buf=new v,this.cache=[],this.useCache=Le.USE_CACHE,this.useEnumIndex=Le.USE_ENUM_INDEX,this.shash=new et,this.scount=0};(t["haxe.Serializer"]=Le).__name__="haxe.Serializer",Le.run=function(e){var t=new Le;return t.serialize(e),t.toString()},Le.prototype={toString:function(){return this.buf.b},serializeString:function(e){var t=this.shash.h[e];if(null!=t)return this.buf.b+="R",void(this.buf.b+=null==t?"null":""+t);this.shash.h[e]=this.scount++,this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=A.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e},serializeRef:function(e){for(var t=typeof e,i=0,n=this.cache.length;i<n;){var s=i++,r=this.cache[s];if(typeof r==t&&r==e)return this.buf.b+="r",this.buf.b+=null==s?"null":""+s,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var t=0,i=I.fields(e);t<i.length;){var n=i[t];++t,this.serializeString(n),this.serialize(I.field(e,n))}this.buf.b+="g"},serialize:function(e){switch((S=P.typeof(e))._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==(t=e))return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==t?"null":""+t;break;case 2:var t=e;isNaN(t)?this.buf.b+="k":isFinite(t)?(this.buf.b+="d",this.buf.b+=null==t?"null":""+t):this.buf.b+=t<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 4:if(lt.__instanceof(e,Fi)){var i=e.__name__;this.buf.b+="A",this.serializeString(i)}else if(lt.__instanceof(e,Li))this.buf.b+="B",this.serializeString(e.__ename__);else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 5:throw Ne.thrown("Cannot serialize function");case 6:var n=S.c;if(n==String)return void this.serializeString(e);if(this.useCache&&this.serializeRef(e))return;switch(n){case Array:var s=0;this.buf.b+="a";for(var r=0,_=e.length;r<_;)null==e[c=r++]?++s:(0<s&&(1==s?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==s?"null":""+s),s=0),this.serialize(e[c]));0<s&&(1==s?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==s?"null":""+s)),this.buf.b+="h";break;case Date:var a=e;this.buf.b+="v",this.buf.b+=A.string(a.getTime());break;case Je:this.buf.b+="q";for(var o=(t=e).keys();o.hasNext();){var l=o.next();this.buf.b+=":",this.buf.b+=null==l?"null":""+l,this.serialize(t.h[l])}this.buf.b+="h";break;case qe:this.buf.b+="l";for(var u=(t=e).h;null!=u;){var h=u.item,u=u.next,c=h;this.serialize(c)}this.buf.b+="h";break;case $e:this.buf.b+="M";for(o=(t=e).keys();o.hasNext();){var l=o.next(),d=I.field(l,"__id__");I.deleteField(l,"__id__"),this.serialize(l),l.__id__=d,this.serialize(t.h[l.__id__])}this.buf.b+="h";break;case et:this.buf.b+="b";for(var a=(t=e).h,p=Object.keys(a),f=p.length,g=0;g<f;){o=p[g++];this.serializeString(o),this.serialize(t.h[o])}this.buf.b+="h";break;case ze:t=e;this.buf.b+="s",this.buf.b+=A.string(Math.ceil(8*t.length/6)),this.buf.b+=":";var c=0,y=t.length-2;if(null==(m=Le.BASE64_CODES)){for(var m=new Array(Le.BASE64.length),r=0,_=Le.BASE64.length;r<_;){var w=r++;m[w]=k.cca(Le.BASE64,w)}Le.BASE64_CODES=m}for(;c<y;){var x=t.b[c++],v=t.b[c++],E=t.b[c++];this.buf.b+=String.fromCodePoint(m[x>>2]),this.buf.b+=String.fromCodePoint(m[63&(x<<4|v>>4)]),this.buf.b+=String.fromCodePoint(m[63&(v<<2|E>>6)]),this.buf.b+=String.fromCodePoint(m[63&E])}c==y?(x=t.b[c++],v=t.b[c++],this.buf.b+=String.fromCodePoint(m[x>>2]),this.buf.b+=String.fromCodePoint(m[63&(x<<4|v>>4)]),this.buf.b+=String.fromCodePoint(m[v<<2&63])):c==1+y&&(x=t.b[c++],this.buf.b+=String.fromCodePoint(m[x>>2]),this.buf.b+=String.fromCodePoint(m[x<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(n.__name__),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(n.__name__),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 7:i=S.e;if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}this.buf.b+=A.string(this.useEnumIndex?"j":"w"),this.serializeString(i.__ename__),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=A.string(e._hx_index)):(i=e,this.serializeString(C[i.__enum__].__constructs__[i._hx_index]._hx_name)),this.buf.b+=":";var b=P.enumParameters(e);this.buf.b+=A.string(b.length);for(var S=0;S<b.length;){var T=b[S];++S,this.serialize(T)}this.useCache&&this.cache.push(e);break;default:throw Ne.thrown("Cannot serialize "+A.string(e))}},__class__:Le};var Ge=function(e){var t=this;this.id=setInterval(function(){t.run()},e)};function Ke(){}(t["haxe.Timer"]=Ge).__name__="haxe.Timer",Ge.delay=function(e,t){var i=new Ge(t);return i.run=function(){i.stop(),e()},i},Ge.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Ge},(t["haxe._Unserializer.DefaultResolver"]=Ke).__name__="haxe._Unserializer.DefaultResolver",Ke.prototype={resolveClass:function(e){return t[e]},resolveEnum:function(e){return C[e]},__class__:Ke};var Xe=function(e){this.buf=e,this.length=this.buf.length,this.pos=0,this.scache=[],this.cache=[];e=Xe.DEFAULT_RESOLVER;null==e&&(e=new Ke,Xe.DEFAULT_RESOLVER=e),this.resolver=e};(t["haxe.Unserializer"]=Xe).__name__="haxe.Unserializer",Xe.initCodes=function(){for(var e=[],t=0,i=Xe.BASE64.length;t<i;){var n=t++;e[Xe.BASE64.charCodeAt(n)]=n}return e},Xe.run=function(e){return new Xe(e).unserialize()},Xe.prototype={readDigits:function(){for(var e=0,t=!1,i=this.pos;;){var n=this.buf.charCodeAt(this.pos);if(n!=n)break;if(45!=n){if(n<48||57<n)break;e=10*e+(n-48),this.pos++}else{if(this.pos!=i)break;t=!0,this.pos++}}return t&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var t=this.buf.charCodeAt(this.pos);if(t!=t)break;if(!(43<=t&&t<58||101==t||69==t))break;this.pos++}return parseFloat(k.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw Ne.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var t=this.unserialize();if("string"!=typeof t)throw Ne.thrown("Invalid object key");var i=this.unserialize();e[t]=i}this.pos++},unserializeEnum:function(e,t){if(58!=this.buf.charCodeAt(this.pos++))throw Ne.thrown("Invalid enum format");var i=this.readDigits();if(0==i)return P.createEnum(e,t);for(var n=[];0<i--;)n.push(this.unserialize());return P.createEnum(e,t,n)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize();if(null==(c=this.resolver.resolveClass(e)))throw Ne.thrown("Class not found "+e);return c;case 66:e=this.unserialize();if(null==(d=this.resolver.resolveEnum(e)))throw Ne.thrown("Enum not found "+e);return d;case 67:e=this.unserialize();if(null==(c=this.resolver.resolveClass(e)))throw Ne.thrown("Class not found "+e);var t=Object.create(c.prototype);if(this.cache.push(t),t.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw Ne.thrown("Invalid custom data");return t;case 77:var i=new $e;this.cache.push(i);for(var n=this.buf;104!=this.buf.charCodeAt(this.pos);){var s=this.unserialize();i.set(s,this.unserialize())}return this.pos++,i;case 82:if((y=this.readDigits())<0||y>=this.scache.length)throw Ne.thrown("Invalid string reference");return this.scache[y];case 97:var n=this.buf,r=[];for(this.cache.push(r);;){if(104==(f=this.buf.charCodeAt(this.pos))){this.pos++;break}117==f?(this.pos++,y=this.readDigits(),r[r.length+y-1]=null):r.push(this.unserialize())}return r;case 98:i=new et;this.cache.push(i);for(n=this.buf;104!=this.buf.charCodeAt(this.pos);){var s=this.unserialize(),_=this.unserialize();i.h[s]=_}return this.pos++,i;case 99:e=this.unserialize();if(null==(c=this.resolver.resolveClass(e)))throw Ne.thrown("Class not found "+e);t=Object.create(c.prototype);return this.cache.push(t),this.unserializeObject(t),t;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:e=this.unserialize();if(null==(A=this.resolver.resolveEnum(e)))throw Ne.thrown("Enum not found "+e);this.pos++;for(var a=this.readDigits(),o=A.__constructs__,l=new Array(o.length),u=0,h=o.length;u<h;)l[g=u++]=o[g]._hx_name;var c=l[a];if(null==c)throw Ne.thrown("Unknown enum index "+e+"@"+a);var d=this.unserializeEnum(A,c);return this.cache.push(d),d;case 107:return NaN;case 108:var p=new qe;this.cache.push(p);for(n=this.buf;104!=this.buf.charCodeAt(this.pos);)p.add(this.unserialize());return this.pos++,p;case 109:return-1/0;case 110:return null;case 111:t={};return this.cache.push(t),this.unserializeObject(t),t;case 112:return 1/0;case 113:i=new Je;this.cache.push(i);for(var n=this.buf,f=this.buf.charCodeAt(this.pos++);58==f;){var g=this.readDigits(),_=this.unserialize();i.h[g]=_,f=this.buf.charCodeAt(this.pos++)}if(104!=f)throw Ne.thrown("Invalid IntMap format");return i;case 114:var y;if((y=this.readDigits())<0||y>=this.cache.length)throw Ne.thrown("Invalid reference");return this.cache[y];case 115:var m=this.readDigits(),n=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<m)throw Ne.thrown("Invalid bytes length");var w=Xe.CODES;null==w&&(w=Xe.initCodes(),Xe.CODES=w);for(var t=3&m,x=(g=this.pos)+(m-t),v=new ze(new ArrayBuffer(3*(m>>2)+(2<=t?t-1:0))),E=0;g<x;){var b=w[n.charCodeAt(g++)],S=w[n.charCodeAt(g++)];v.b[E++]=b<<2|S>>4;var T=w[n.charCodeAt(g++)];v.b[E++]=S<<4|T>>2;var C=w[n.charCodeAt(g++)];v.b[E++]=T<<6|C}return 2<=t&&(b=w[n.charCodeAt(g++)],S=w[n.charCodeAt(g++)],v.b[E++]=b<<2|S>>4,3==t&&(T=w[n.charCodeAt(g++)],v.b[E++]=S<<4|T>>2)),this.pos+=m,this.cache.push(v),v;case 116:return!0;case 118:var I;return 48<=this.buf.charCodeAt(this.pos)&&this.buf.charCodeAt(this.pos)<=57&&48<=this.buf.charCodeAt(this.pos+1)&&this.buf.charCodeAt(this.pos+1)<=57&&48<=this.buf.charCodeAt(this.pos+2)&&this.buf.charCodeAt(this.pos+2)<=57&&48<=this.buf.charCodeAt(this.pos+3)&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(I=k.strDate(k.substr(this.buf,this.pos,19)),this.pos+=19):I=new Date(this.readFloat()),this.cache.push(I),I;case 119:var A,e=this.unserialize();if(null==(A=this.resolver.resolveEnum(e)))throw Ne.thrown("Enum not found "+e);d=this.unserializeEnum(A,this.unserialize());return this.cache.push(d),d;case 120:throw Ne.thrown(this.unserialize());case 121:m=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<m)throw Ne.thrown("Invalid string length");s=k.substr(this.buf,this.pos,m);return this.pos+=m,s=decodeURIComponent(s.split("+").join(" ")),this.scache.push(s),s;case 122:return 0}throw this.pos--,Ne.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:Xe};var Ve=function(e,t,i){Ne.call(this,String(e),t,i),this.value=e};(t["haxe.ValueException"]=Ve).__name__="haxe.ValueException",Ve.__super__=Ne,Ve.prototype=e(Ne.prototype,{unwrap:function(){return this.value},__class__:Ve});var ze=function(e){this.length=e.byteLength,this.b=new Uint8Array(e),(this.b.bufferValue=e).hxBytes=this,e.bytes=this.b};(t["haxe.io.Bytes"]=ze).__name__="haxe.io.Bytes",ze.ofString=function(e,t){if(t==He.RawNative){for(var i=new Uint8Array(e.length<<1),n=0,s=e.length;n<s;){var r=n++,_=e.charCodeAt(r);i[r<<1]=255&_,i[r<<1|1]=_>>8}return new ze(i.buffer)}for(var a=[],r=0;r<e.length;)55296<=(_=e.charCodeAt(r++))&&_<=56319&&(_=_-55232<<10|1023&e.charCodeAt(r++)),_<=127?a.push(_):(_<=2047?a.push(192|_>>6):(_<=65535?a.push(224|_>>12):(a.push(240|_>>18),a.push(128|_>>12&63)),a.push(128|_>>6&63)),a.push(128|63&_));return new ze(new Uint8Array(a).buffer)},ze.ofData=function(e){var t=e.hxBytes;return null!=t?t:new ze(e)},ze.prototype={getString:function(e,t,i){if(e<0||t<0||e+t>this.length)throw Ne.thrown(st.OutsideBounds);null==i&&(i=He.UTF8);var n="",s=this.b,r=e,_=e+t;switch(i._hx_index){case 0:for(var a,o;r<_;)if((l=s[r++])<128){if(0==l)break;n+=String.fromCodePoint(l)}else l<224?(a=(63&l)<<6|127&s[r++],n+=String.fromCodePoint(a)):l<240?(o=(31&l)<<12|(127&s[r++])<<6|127&s[r++],n+=String.fromCodePoint(o)):(o=(15&l)<<18|(127&s[r++])<<12|(127&s[r++])<<6|127&s[r++],n+=String.fromCodePoint(o));break;case 1:for(;r<_;){var l=s[r++]|s[r++]<<8;n+=String.fromCodePoint(l)}}return n},toString:function(){return this.getString(0,this.length)},__class__:ze};var He=C["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:i},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:i}};He.__constructs__=[He.UTF8,He.RawNative];var je=function(){};(t["haxe.crypto.Base64"]=je).__name__="haxe.crypto.Base64",je.decode=function(e,t){if(null==t&&(t=!0),t)for(;61==k.cca(e,e.length-1);)e=k.substr(e,0,-1);return new Ye(je.BYTES).decodeBytes(ze.ofString(e))};var Ye=function(e){for(var t=e.length,i=1;1<<i<t;)++i;if(8<i||t!=1<<i)throw Ne.thrown("BaseCode : base length must be a power of two.");this.base=e,this.nbits=i};(t["haxe.crypto.BaseCode"]=Ye).__name__="haxe.crypto.BaseCode",Ye.prototype={initTable:function(){for(var e=[],t=0;t<256;)e[n=t++]=-1;for(var t=0,i=this.base.length;t<i;){var n=t++;e[this.base.b[n]]=n}this.tbl=e},decodeBytes:function(e){var t=this.nbits;this.base;null==this.tbl&&this.initTable();for(var i=this.tbl,n=e.length*t>>3,s=new ze(new ArrayBuffer(n)),r=0,_=0,a=0,o=0;o<n;){for(;_<8;){_+=t,r<<=t;var l=i[e.b[a++]];if(-1==l)throw Ne.thrown("BaseCode : invalid encoded char");r|=l}_-=8,s.b[o++]=r>>_&255}return s},__class__:Ye};var We=function(e,t){this.elt=e,this.next=t};(t["haxe.ds.GenericCell"]=We).__name__="haxe.ds.GenericCell",We.prototype={__class__:We};var Qe=function(){};(t["haxe.ds.GenericStack"]=Qe).__name__="haxe.ds.GenericStack",Qe.prototype={remove:function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?this.head=i.next:t.next=i.next;break}i=(t=i).next}return null!=i},iterator:function(){var t=this.head;return{hasNext:function(){return null!=t},next:function(){var e=t;return t=e.next,e.elt}}},__class__:Qe};var Je=function(){this.h={}};(t["haxe.ds.IntMap"]=Je).__name__="haxe.ds.IntMap",Je.__interfaces__=[w],Je.prototype={keys:function(){var e,t=[];for(e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return new rt(t)},__class__:Je};var qe=function(){this.length=0};(t["haxe.ds.List"]=qe).__name__="haxe.ds.List",qe.prototype={add:function(e){e=new Ze(e,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},push:function(e){e=new Ze(e,this.h);this.h=e,null==this.q&&(this.q=e),this.length++},remove:function(e){for(var t=null,i=this.h;null!=i;){if(i.item==e)return null==t?this.h=i.next:t.next=i.next,this.q==i&&(this.q=t),this.length--,!0;i=(t=i).next}return!1},__class__:qe};var Ze=function(e,t){this.item=e,this.next=t};(t["haxe.ds._List.ListNode"]=Ze).__name__="haxe.ds._List.ListNode",Ze.prototype={__class__:Ze};var $e=function(){this.h={__keys__:{}}};(t["haxe.ds.ObjectMap"]=$e).__name__="haxe.ds.ObjectMap",$e.__interfaces__=[w],$e.prototype={set:function(e,t){var i=e.__id__;null==i&&(i=e.__id__=c.$haxeUID++),this.h[i]=t,this.h.__keys__[i]=e},keys:function(){var e,t=[];for(e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return new rt(t)},__class__:$e};var et=function(){this.h=Object.create(null)};(t["haxe.ds.StringMap"]=et).__name__="haxe.ds.StringMap",et.__interfaces__=[w],et.prototype={__class__:et};var tt=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};function it(e){this.url=e,this.headers=[],this.params=[],this.emptyOnData=Oi(this,this.onData)}(t["haxe.ds._StringMap.StringMapKeyIterator"]=tt).__name__="haxe.ds._StringMap.StringMapKeyIterator",tt.prototype={hasNext:function(){return this.current<this.length},next:function(){return this.keys[this.current++]},__class__:tt},(t["haxe.http.HttpBase"]=it).__name__="haxe.http.HttpBase",it.prototype={onData:function(e){},onBytes:function(e){},onError:function(e){},onStatus:function(e){},hasOnData:function(){return!I.compareMethods(Oi(this,this.onData),this.emptyOnData)},success:function(e){this.responseBytes=e,this.responseAsString=null,this.hasOnData()&&this.onData(this.get_responseData()),this.onBytes(this.responseBytes)},get_responseData:function(){return null==this.responseAsString&&null!=this.responseBytes&&(this.responseAsString=this.responseBytes.getString(0,this.responseBytes.length,He.UTF8)),this.responseAsString},__class__:it,__properties__:{get_responseData:"get_responseData"}};var nt=function(e){this.async=!0,this.withCredentials=!1,it.call(this,e)};(t["haxe.http.HttpJs"]=nt).__name__="haxe.http.HttpJs",nt.__super__=it,nt.prototype=e(it.prototype,{request:function(e){var s=this;this.responseAsString=null,this.responseBytes=null;function t(e){if(4==r.readyState){var t,i;try{t=r.status}catch(e){t=null}if(0==t&&ut.get_supported()&&null!=c.location&&(i=c.location.protocol.toLowerCase(),new d("^(?:about|app|app-storage|.+-extension|file|res|widget):$","").match(i)&&(t=null!=r.response?200:404)),null==t&&(t=null),null!=t&&s.onStatus(t),null!=t&&200<=t&&t<400)s.req=null,s.success(ze.ofData(r.response));else if(null==t||0==t&&null==r.response)s.req=null,s.onError("Failed to connect or resolve host");else if(null==t){var n=(s.req=null)!=r.response?ze.ofData(r.response):null;s.responseBytes=n,s.onError("Http Error #"+r.status)}else switch(t){case 12007:s.req=null,s.onError("Unknown host");break;case 12029:s.req=null,s.onError("Failed to connect to host");break;default:n=(s.req=null)!=r.response?ze.ofData(r.response):null;s.responseBytes=n,s.onError("Http Error #"+r.status)}}}var r=this.req=ut.createXMLHttpRequest();this.async&&(r.onreadystatechange=t);var i,n,_=this.postData,a=this.postBytes;if(null!=(i=null==_?null==a?null:new Blob([a.b.bufferValue]):null==a?_:null))e=!0;else for(_=0,a=this.params;_<a.length;){var o=a[_];++_,i=null==i?"":(null==i?"null":A.string(i))+"&";var l=o.name,l=(null==i?"null":A.string(i))+encodeURIComponent(l)+"=",o=o.value;i=l+encodeURIComponent(o)}try{e?r.open("POST",this.url,this.async):null!=i?(n=this.url.split("?").length<=1,r.open("GET",this.url+(n?"?":"&")+(null==i?"null":A.string(i)),this.async),i=null):r.open("GET",this.url,this.async),r.responseType="arraybuffer"}catch(_){var u=Ne.caught(_).unwrap();return this.req=null,void this.onError(u.toString())}r.withCredentials=this.withCredentials,!p.exists(this.headers,function(e){return"Content-Type"==e.name})&&e&&null==this.postData&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(_=0,a=this.headers;_<a.length;){var h=a[_];++_,r.setRequestHeader(h.name,h.value)}r.send(i),this.async||t()},__class__:nt});var st=C["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:i},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:i},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:i},Custom:((o=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:i}})._hx_name="Custom",o.__params__=["e"],o)};st.__constructs__=[st.Blocked,st.Overflow,st.OutsideBounds,st.Custom];var rt=function(e){this.current=0,this.array=e};function _t(e,t,i){this.xml=t,this.message=e,this.position=i,this.lineNumber=1;for(var n=this.positionAtLine=0,s=i;n<s;){var r=n++,r=t.charCodeAt(r);10==r?(this.lineNumber++,this.positionAtLine=0):13!=r&&this.positionAtLine++}}(t["haxe.iterators.ArrayIterator"]=rt).__name__="haxe.iterators.ArrayIterator",rt.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:rt},(t["haxe.xml.XmlParserException"]=_t).__name__="haxe.xml.XmlParserException",_t.prototype={toString:function(){return lt.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:_t};var at=function(){};(t["haxe.xml.Parser"]=at).__name__="haxe.xml.Parser",at.parse=function(e,t){null==t&&(t=!1);var i=E.createDocument();return at.doParse(e,t,0,i),i},at.doParse=function(e,t,i,n){null==i&&(i=0);for(var s=null,r=1,_=1,a=null,o=0,l=0,u=0,h=new v,c=1,d=-1;i<e.length;){var p,f,g=e.charCodeAt(i);switch(r){case 0:switch(g){case 9:case 10:case 13:case 32:break;default:r=_;continue}break;case 1:if(60!=g){o=i,r=13;continue}r=0,_=2;break;case 2:switch(g){case 33:if(91==e.charCodeAt(i+1)){if("CDATA["!=k.substr(e,i+=2,6).toUpperCase())throw Ne.thrown(new _t("Expected <![CDATA[",e,i));r=17,o=(i+=5)+1}else if(68==e.charCodeAt(i+1)||100==e.charCodeAt(i+1)){if("OCTYPE"!=k.substr(e,i+2,6).toUpperCase())throw Ne.thrown(new _t("Expected <!DOCTYPE",e,i));r=16,o=(i+=8)+1}else{if(45!=e.charCodeAt(i+1)||45!=e.charCodeAt(i+2))throw Ne.thrown(new _t("Expected \x3c!--",e,i));r=15,o=(i+=2)+1}break;case 47:if(null==n)throw Ne.thrown(new _t("Expected node name",e,i));o=i+1,r=0,_=10;break;case 63:r=14,o=i;break;default:r=3,o=i;continue}break;case 3:if(97<=g&&g<=122||65<=g&&g<=90||48<=g&&g<=57||58==g||46==g||95==g||45==g)break;if(i==o)throw Ne.thrown(new _t("Expected node name",e,i));s=E.createElement(k.substr(e,o,i-o)),n.addChild(s),++l,r=0,_=4;continue;case 4:switch(g){case 47:r=11;break;case 62:r=9;break;default:r=5,o=i;continue}break;case 5:if(97<=g&&g<=122||65<=g&&g<=90||48<=g&&g<=57||58==g||46==g||95==g||45==g)break;if(o==i)throw Ne.thrown(new _t("Expected attribute name",e,i));a=k.substr(e,o,i-o);if(s.exists(a))throw Ne.thrown(new _t("Duplicate attribute ["+a+"]",e,i));r=0,_=6;continue;case 6:if(61!=g)throw Ne.thrown(new _t("Expected =",e,i));r=0,_=7;break;case 7:switch(g){case 34:case 39:h=new v,r=8,o=i+1,d=g;break;default:throw Ne.thrown(new _t('Expected "',e,i))}break;case 8:switch(g){case 38:var y=i-o;h.b+=k.substr(e,o,null==y?null:y),r=18,c=8,o=i+1;break;case 60:case 62:if(t)throw Ne.thrown(new _t("Invalid unescaped "+String.fromCodePoint(g)+" in attribute value",e,i));g==d&&(p=i-o,h.b+=k.substr(e,o,null==p?null:p),p=h.b,h=new v,s.set(a,p),r=0,_=4);break;default:g==d&&(p=i-o,h.b+=k.substr(e,o,null==p?null:p),p=h.b,h=new v,s.set(a,p),r=0,_=4)}break;case 9:o=i=at.doParse(e,t,i,s),r=1;break;case 10:if(97<=g&&g<=122||65<=g&&g<=90||48<=g&&g<=57||58==g||46==g||95==g||45==g)break;if(o==i)throw Ne.thrown(new _t("Expected node name",e,i));var m=k.substr(e,o,i-o);if(null==n||0!=n.nodeType)throw Ne.thrown(new _t("Unexpected </"+m+">, tag is not open",e,i));if(n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));if(m!=n.nodeName){if(n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));throw Ne.thrown(new _t("Expected </"+n.nodeName+">",e,i))}r=0,_=12;continue;case 11:if(62!=g)throw Ne.thrown(new _t("Expected >",e,i));r=1;break;case 12:if(62==g)return 0==l&&n.addChild(E.createPCData("")),i;throw Ne.thrown(new _t("Expected >",e,i));case 13:60==g?(m=i-o,h.b+=k.substr(e,o,null==m?null:m),m=E.createPCData(h.b),h=new v,n.addChild(m),++l,r=0,_=2):38==g&&(f=i-o,h.b+=k.substr(e,o,null==f?null:f),r=18,c=13,o=i+1);break;case 14:63==g&&62==e.charCodeAt(i+1)&&(f=k.substr(e,o+1,++i-o-2),n.addChild(E.createProcessingInstruction(f)),++l,r=1);break;case 15:45==g&&45==e.charCodeAt(i+1)&&62==e.charCodeAt(i+2)&&(n.addChild(E.createComment(k.substr(e,o,i-o))),++l,i+=2,r=1);break;case 16:91==g?++u:93==g?--u:62==g&&0==u&&(n.addChild(E.createDocType(k.substr(e,o,i-o))),++l,r=1);break;case 17:93==g&&93==e.charCodeAt(i+1)&&62==e.charCodeAt(i+2)&&(x=E.createCData(k.substr(e,o,i-o)),n.addChild(x),++l,i+=2,r=1);break;case 18:if(59==g){var w=k.substr(e,o,i-o);if(35==w.charCodeAt(0)){var x=120==w.charCodeAt(1)?A.parseInt("0"+k.substr(w,1,w.length-1)):A.parseInt(k.substr(w,1,w.length-1));h.b+=String.fromCodePoint(x)}else if(Object.prototype.hasOwnProperty.call(at.escapes.h,w))h.b+=A.string(at.escapes.h[w]);else{if(t)throw Ne.thrown(new _t("Undefined entity: "+w,e,i));h.b+=A.string("&"+w+";")}o=i+1,r=c}else if(!(97<=g&&g<=122||65<=g&&g<=90||48<=g&&g<=57||58==g||46==g||95==g||45==g)&&35!=g){if(t)throw Ne.thrown(new _t("Invalid character in entity: "+String.fromCodePoint(g),e,i));h.b+=String.fromCodePoint(38);w=i-o;h.b+=k.substr(e,o,null==w?null:w),o=--i+1,r=c}}++i}if(1==r&&(o=i,r=13),13==r){if(0!=n.nodeType)return i==o&&0!=l||(y=i-o,h.b+=k.substr(e,o,null==y?null:y),n.addChild(E.createPCData(h.b)),++l),i;if(n.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":b.toString(n.nodeType)));throw Ne.thrown(new _t("Unclosed node <"+n.nodeName+">",e,i))}if(t||18!=r||13!=c)throw Ne.thrown(new _t("Unexpected end",e,i));h.b+=String.fromCodePoint(38);y=i-o;return h.b+=k.substr(e,o,null==y?null:y),n.addChild(E.createPCData(h.b)),++l,i};var ot=function(e){this.output=new v,this.pretty=e};(t["haxe.xml.Printer"]=ot).__name__="haxe.xml.Printer",ot.print=function(e,t){null==t&&(t=!1);t=new ot(t);return t.writeNode(e,""),t.output.b},ot.prototype={writeNode:function(e,t){switch(e.nodeType){case 0:if(this.output.b+=A.string(t+"<"),e.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":b.toString(e.nodeType)));this.output.b+=A.string(e.nodeName);for(var i=e.attributes();i.hasNext();){var n=i.next();this.output.b+=A.string(" "+n+'="');var s=u.htmlEscape(e.get(n),!0);this.output.b+=A.string(s),this.output.b+='"'}if(this.hasChildren(e)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),e.nodeType!=E.Document&&e.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":b.toString(e.nodeType)));for(var r=0,_=e.children;r<_.length;){var a=_[r++];this.writeNode(a,this.pretty?t+"\t":t)}if(this.output.b+=A.string(t+"</"),e.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":b.toString(e.nodeType)));this.output.b+=A.string(e.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(e.nodeType==E.Document||e.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":b.toString(e.nodeType)));var o=e.nodeValue;0!=o.length&&(s=t+u.htmlEscape(o),this.output.b+=A.string(s),this.pretty&&(this.output.b+="\n"));break;case 2:if(this.output.b+=A.string(t+"<![CDATA["),e.nodeType==E.Document||e.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":b.toString(e.nodeType)));this.output.b+=A.string(e.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(e.nodeType==E.Document||e.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":b.toString(e.nodeType)));var l=e.nodeValue,o=new RegExp("[\n\r\t]+","g".split("u").join(""));l="\x3c!--"+(l=l.replace(o,""))+"--\x3e",this.output.b+=null==t?"null":""+t;s=u.trim(l);this.output.b+=A.string(s),this.pretty&&(this.output.b+="\n");break;case 4:if(e.nodeType==E.Document||e.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":b.toString(e.nodeType)));this.output.b+=A.string("<!DOCTYPE "+e.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(e.nodeType==E.Document||e.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":b.toString(e.nodeType)));this.output.b+=A.string("<?"+e.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(e.nodeType!=E.Document&&e.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":b.toString(e.nodeType)));for(r=0,_=e.children;r<_.length;){a=_[r++];this.writeNode(a,t)}}},hasChildren:function(e){if(e.nodeType!=E.Document&&e.nodeType!=E.Element)throw Ne.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":b.toString(e.nodeType)));for(var t=0,i=e.children;t<i.length;){var n=i[t++];switch(n.nodeType){case 0:case 1:return!0;case 2:case 3:if(n.nodeType==E.Document||n.nodeType==E.Element)throw Ne.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":b.toString(n.nodeType)));if(0!=u.ltrim(n.nodeValue).length)return!0}}return!1},__class__:ot};var lt=function(){};(t["js.Boot"]=lt).__name__="js.Boot",lt.getClass=function(e){if(null==e)return null;if(e instanceof Array)return Array;var t=e.__class__;if(null!=t)return t;e=lt.__nativeClassName(e);return null!=e?lt.__resolveNativeClass(e):null},lt.__string_rec=function(s,r){if(null==s)return"null";if(5<=r.length)return"<...>";var e,t=typeof s;switch("function"==t&&(s.__name__||s.__ename__)&&(t="object"),t){case"function":return"<function>";case"object":if(s.__enum__){var _=C[s.__enum__].__constructs__[s._hx_index],i=_._hx_name;return _.__params__?(r+="\t",i+"("+function(){for(var e=[],t=0,i=_.__params__;t<i.length;){var n=i[t];t+=1,e.push(lt.__string_rec(s[n],r))}return e}().join(",")+")"):i}if(s instanceof Array){var n="[";r+="\t";for(var a=0,o=s.length;a<o;){var l=a++;n+=(0<l?",":"")+lt.__string_rec(s[l],r)}return n+="]"}try{e=s.toString}catch(a){return"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e){i=s.toString();if("[object Object]"!=i)return i}n="{\n";r+="\t";var u=null!=s.hasOwnProperty,h=null;for(h in s)u&&!s.hasOwnProperty(h)||"prototype"!=h&&"__class__"!=h&&"__super__"!=h&&"__interfaces__"!=h&&"__properties__"!=h&&(2!=n.length&&(n+=", \n"),n+=r+h+" : "+lt.__string_rec(s[h],r));return n+="\n"+(r=r.substring(1))+"}";case"string":return s;default:return String(s)}},lt.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var i=e.__interfaces__;if(null!=i)for(var n=0,s=i.length;n<s;){var r=i[n++];if(r==t||lt.__interfLoop(r,t))return!0}return lt.__interfLoop(e.__super__,t)},lt.__instanceof=function(e,t){if(null==t)return!1;switch(t){case Array:return e instanceof Array;case Ri:return"boolean"==typeof e;case Ui:return null!=e;case Ni:return"number"==typeof e;case Bi:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof t){if(lt.__downcastCheck(e,t))return!0}else if("object"==typeof t&&lt.__isNativeObj(t)&&e instanceof t)return!0;return t==Fi&&null!=e.__name__?!0:t==Li&&null!=e.__ename__||null!=e.__enum__&&C[e.__enum__]==t}},lt.__downcastCheck=function(e,t){return e instanceof t||!!t.__isInterface__&&lt.__interfLoop(lt.getClass(e),t)},lt.__implements=function(e,t){return lt.__interfLoop(lt.getClass(e),t)},lt.__cast=function(e,t){if(null==e||lt.__instanceof(e,t))return e;throw Ne.thrown("Cannot cast "+A.string(e)+" to "+A.string(t))},lt.__nativeClassName=function(e){e=lt.__toStr.call(e).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},lt.__isNativeObj=function(e){return null!=lt.__nativeClassName(e)},lt.__resolveNativeClass=function(e){return c[e]};var ut=function(){};function ht(e){this._context=new PIXI.Container,this._session=e.get_session(),this._factory=e.factory,this._context.interactive=!1,m.call(this,e,null,this._context)}function ct(e){this._kernel=e,this._system=this._kernel.system,this._tools=this._kernel.tools,this._session=this._kernel.get_session(),this._factory=this._kernel.factory,this._init()}function dt(e){ae.call(this,e)}function pt(e){this.isEffectsMute=!1,this.isMusicMute=!1,ct.call(this,e),this.set_isMusicMute("false"==this._kernel.getConfig("settings.audio.music")),this.set_isEffectsMute("false"==this._kernel.getConfig("settings.audio.effects"))}function ft(e,t,i){this.SCENE_RESULTS=Oe.RESULTS,this.SCENE_GAME=Oe.GAME,this.SCENE_INSTRUCTIONS=Oe.INSTRUCTIONS,this.SCENE_MENU=Oe.MENU,this.SCENE_INTRO=Oe.INTRO,this.SCENE_TEST=Oe.TEST,this.DEFAULT_SESSION_ID="defaultSessionId",ue.call(this,e,t,i)}(t["js.Browser"]=ut).__name__="js.Browser",ut.__properties__={get_supported:"get_supported"},ut.get_supported=function(){return"undefined"!=typeof window&&void 0!==window.location&&"string"==typeof window.location.protocol},ut.getLocalStorage=function(){try{var e,t=window.localStorage;return t.getItem(""),0==t.length&&(e="_hx_"+Math.random(),t.setItem(e,e),t.removeItem(e)),t}catch(e){return null}},ut.getSessionStorage=function(){try{var e,t=window.sessionStorage;return t.getItem(""),0==t.length&&(e="_hx_"+Math.random(),t.setItem(e,e),t.removeItem(e)),t}catch(e){return null}},ut.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw Ne.thrown("Unable to create XMLHttpRequest object.")},(t["lilsag.AEntity"]=ht).__name__="lilsag.AEntity",ht.__super__=m,ht.prototype=e(m.prototype,{__class__:ht}),(t["lilsag.AManager"]=ct).__name__="lilsag.AManager",ct.prototype={_init:function(){},__class__:ct},(t["lilsag.AssetManager"]=dt).__name__="lilsag.AssetManager",dt.__super__=ae,dt.prototype=e(ae.prototype,{getTextureFromAtlas:function(e,t){var i=this.getAsset(e);return Object.prototype.hasOwnProperty.call(i,"textures")?I.getProperty(this.getAsset(e).textures,t):null},getTexturesFromAtlas:function(t,e){var i=this,n=this.getAsset(t),n=I.field(n.data.animations,e);if(null!=n)return n.map(function(e){return i.getTextureFromAtlas(t,e)});e=this.getTextureFromAtlas(t,e);return null==e?[]:[e]},__class__:dt}),(t["lilsag.AudioManager"]=pt).__name__="lilsag.AudioManager",pt.__interfaces__=[D],pt.__super__=ct,pt.prototype=e(ct.prototype,{set_isMusicMute:function(e){return this.isMusicMute=e,this.transform(null,Te.MUSIC,this.isMusicMute?0:.2),this.isMusicMute},set_isEffectsMute:function(e){return this.isEffectsMute=e,this.transform(null,Te.EFFECTS,this.isEffectsMute?0:.5),this.transform(null,Te.INTERFACE,this.isEffectsMute?0:.5),this.transform(null,Te.DEFAULT,this.isEffectsMute?0:.5),this.isEffectsMute},set_isMute:function(e){return this._kernel.audio.isMute},start:function(e,t,i,n,s,r,_,a){if(null==_&&(_=!1),null==r&&(r=0),null==s&&(s=1),null==n&&(n=0),null==i&&(i=1),r=0,null==t)this.isEffectsMute&&(s=0);else switch(t._hx_index){case 3:this.isMusicMute&&(s=0);break;case 4:t.value;break;default:this.isEffectsMute&&(s=0)}this._kernel.audio.start(e,t,i,n,s,r,_,a)},stop:function(e,t){this._kernel.audio.stop(e,t)},transform:function(e,t,i,n,s){if(null==s&&(s=!1),null==n&&(n=0),null==i&&(i=1),null==t)this.isEffectsMute&&(i=0);else switch(t._hx_index){case 3:this.isMusicMute&&(i=0);break;case 4:t.value;break;default:this.isEffectsMute&&(i=0)}this._kernel.audio.transform(e,t,i,n,s)},__class__:pt,__properties__:{set_isMute:"set_isMute",set_isEffectsMute:"set_isEffectsMute",set_isMusicMute:"set_isMusicMute"}}),(t["lilsag.Factory"]=ft).__name__="lilsag.Factory",ft.__super__=ue,ft.prototype=e(ue.prototype,{_configurer:function(e){null==e&&(e=!1),e&&(this.id="lilsag",e=null!=(e=Fe.getString("revision"))?e.split("\r\n")[0]:"1",this.version="1.0."+e,this.author="https://hypersurge.com",this.isDecached=!0,this.isDecached=!1,this.width=960,this.height=540,this.bgColor=0,this.startingSceneType=this.SCENE_INTRO,this.targetFramerate=60,this.isFixedUpdates=!0,this.joypadTouchType=Ie.DISABLED)},_launchKernel:function(){ue.prototype._launchKernel.call(this),this._kernel.set_session(this.createSession(this.DEFAULT_SESSION_ID)),this.isDebug&&(this._kernel.audio.set_isMute(!0),this._session.setIsTester(!0))},createAssetManager:function(){return null==this.assets&&(this.assets=new dt(this._kernel),this.data=new Et(this._kernel),this.gui=new Yt(this._kernel),this.audio=new pt(this._kernel)),this.assets},createLogger:function(){return new gt(this._kernel,this._kernel.getConfig("settings.googleAnalytics.id"))},createOverlay:function(){return new ei(this._kernel)},createPreloader:function(){return new mt(this._kernel,this._getAssetUrls(),this.isDecached)},createSceneTransition:function(e,t){return new fi(this._kernel)},createSession:function(e){return this._session=new wt(this._kernel,e)},createTextStyle:function(e){var t=this._kernel.getConfig("settings.font.name"),i=new K(t,18,8421504,!1,!1,Be.CENTER,0,0,0,[]);return null!=e&&(6==e._hx_index&&"PRELOADER"==e.value)&&(i=new K(t,14,16777215,!1,!1,Be.CENTER)),i},createScene:function(e){return this._kernel.log("GA: scene: "+A.string(e)),e==this.SCENE_TEST?new gi(this._kernel,e):e==this.SCENE_INTRO?new ci(this._kernel,e):e==this.SCENE_MENU?new di(this._kernel,e):e==this.SCENE_INSTRUCTIONS?new hi(this._kernel,e):e==this.SCENE_GAME?new ui(this._kernel,e):e==this.SCENE_RESULTS?new pi(this._kernel,e):ue.prototype.createScene.call(this,e)},getBackSceneType:function(e){return this.SCENE_MENU},getNextSceneType:function(e){return e==this.SCENE_INTRO?this.isDebug?this.SCENE_GAME:this.SCENE_MENU:e==this.SCENE_MENU||e==this.SCENE_INSTRUCTIONS?this.SCENE_GAME:e==this.SCENE_GAME?this.SCENE_RESULTS:e==this.SCENE_RESULTS?this.SCENE_GAME:ue.prototype.getBackSceneType.call(this,e)},__class__:ft});var gt=function(e,t){if(this._kernel=e,this._id=t,this._isEnabled=!e.isLocal&&"true"==e.getConfig("settings.googleAnalytics.enabled"),this._isEnabled)try{this._gaLib=ga,this._gaLib("create",this._id,"auto"),this._gaLib("send","pageview"),Re.trace("Google Analytics enabled with property ID "+this._id,{fileName:"src/lilsag/LoggerGoogleAnalytics.hx",lineNumber:31,className:"lilsag.LoggerGoogleAnalytics",methodName:"new"})}catch(e){this._isEnabled=!1,Re.trace("Google Analytics failed with property ID "+this._id,{fileName:"src/lilsag/LoggerGoogleAnalytics.hx",lineNumber:36,className:"lilsag.LoggerGoogleAnalytics",methodName:"new"})}};function yt(){}(t["lilsag.LoggerGoogleAnalytics"]=gt).__name__="lilsag.LoggerGoogleAnalytics",gt.__interfaces__=[B],gt.prototype={log:function(e){var t;!this._isEnabled||3<=(t=A.string(e).split(": ")).length&&"GA"==t[0]&&(t={hitType:"event",eventCategory:t[1],eventAction:t[2],eventLabel:3<=t.length?t[3]:null,eventValue:4<=t.length?A.parseInt(t[4]):null},this._gaLib("send",t));for(var i=A.string(e).split("\n"),n=0;n<i.length;){i[n];++n}},__class__:gt},(t["lilsag.Main"]=yt).__name__="lilsag.Main",yt.main=function(){var e=window.document.getElementById("gameCanvas"),t=yt.getParams().h.lang;null!=t&&(i="assets/__Config_"+t+".xml",e.setAttribute("config",i));var i=new PIXI.Container;yt.factory=new ft(i,!1,Fe.getString("config"))},yt.getParams=function(){for(var e=k.substr(c.location.search,1,null),t=new et,i=0,n=new d("[&;]","g").split(e);i<n.length;){var s=n[i];++i;var r=s.split("=");r.length<2||(s=r.shift(),s=decodeURIComponent(s.split("+").join(" ")),r=r.join("="),r=decodeURIComponent(r.split("+").join(" ")),t.h[s]=r)}return t};var mt=function(e,t,i){fe.call(this,e,t,i)};(t["lilsag.Preloader"]=mt).__name__="lilsag.Preloader",mt.__super__=fe,mt.prototype=e(fe.prototype,{_init:function(){this._factory=this._kernel.factory,this._proprietaryAudioFormat="m4a",this._sprite=new PIXI.Sprite(PIXI.Texture.from("assets/__PreloaderBg.png")),fe.prototype._init.call(this);var e=this._factory.width-60;this._bg=new PIXI.Graphics,this._bg.beginFill(16777215),this._bg.drawRoundedRect(0,0,2+e+2,14,6),this._bg.beginFill(16777215),this._bg.drawRoundedRect(2,2,e,10,6),this._fg=new PIXI.Graphics,this._fg.beginFill(15612457),this._fg.drawRoundedRect(2,2,e,10,4),this._bg.x=this._fg.x=.5*(this._kernel.factory.width-e),this._bg.y=this._fg.y=this._factory.height-30,this._context.addChild(this._sprite),this._context.addChild(this._bg),this._context.addChild(this._fg)},_updater:function(e){null==e&&(e=0),fe.prototype._updater.call(this,e),this._fg.scale.x=this.get_progress()},_showAudioHoldMessage:function(){var e=new _i(this._kernel,this._kernel.factory.width,20,A.string(this._kernel.getConfig("gui.audioHoldMessage")).toUpperCase(),this._factory.createTextStyle(Ue.SUB_TYPE("PRELOADER")));e.setPosition(0,this._bg.y-10),this.get_view().addChild(e.get_view()),this._context.removeChild(this._bg),this._context.removeChild(this._fg)},__class__:mt});var wt=function(e,t){this._isTester=!1,me.call(this,e,t)};(t["lilsag.Session"]=wt).__name__="lilsag.Session",wt.__super__=me,wt.prototype=e(me.prototype,{_init:function(){this._version=3,this._factory=this._kernel.factory,me.prototype._init.call(this)},_getter:function(){me.prototype._getter.call(this),this.isInstructioned=this._data.isInstructioned,this.scoreBest=this._data.scoreBest},_setter:function(){me.prototype._setter.call(this),this._data.isInstructioned=this.isInstructioned,this._data.scoreBest=this.scoreBest},_resetter:function(){me.prototype._resetter.call(this),this.isInstructioned=!1,this.scoreBest=0,this.cache=new xt(this._kernel)},setIsTester:function(e){this._isTester=e},get_isTester:function(){return this._isTester},__class__:wt});var xt=function(e){this.isMusicFadedIn=!0,this._kernel=e,this.debugMessage="",this.reset()};function vt(){this.setSeed(Math.round((new Date).getTime()))}(t["lilsag._Session._HelperCache"]=xt).__name__="lilsag._Session._HelperCache",xt.prototype={reset:function(){this.levelType=bt.DEFAULT,this.results=null},__class__:xt},(t["lilsag.data.DataFunctions"]=vt).__name__="lilsag.data.DataFunctions",vt.prototype={setSeed:function(e){null==e&&(e=0),this._seed=e,this._getRandom()},_getRandom:function(){return 0==this._seed&&(this._seed=462622201),1073741823&(this._seed=16807*this._seed%2147483647)},getRandomFloat:function(){return this._getRandom()/1073741823},getRandomInt:function(e){return this.getRandomFloat()*e|0},getRandomIntRange:function(e,t){return null==t&&(t=0),null==e&&(e=0),this.getRandomInt(t-e)+e},getRandomElementFromArray:function(e){return e[A.random(e.length)]},__class__:vt};var Et=function(e){ct.call(this,e)};(t["lilsag.data.DataManager"]=Et).__name__="lilsag.data.DataManager",Et.__super__=ct,Et.prototype=e(ct.prototype,{_init:function(){ct.prototype._init.call(this),this.functions=new vt},__class__:Et});var bt=C["lilsag.data.enums.ELevel"]={__ename__:"lilsag.data.enums.ELevel",__constructs__:null,DEFAULT:{_hx_name:"DEFAULT",_hx_index:0,__enum__:"lilsag.data.enums.ELevel",toString:i}};bt.__constructs__=[bt.DEFAULT];var St=C["lilsag.data.enums.EModal"]={__ename__:"lilsag.data.enums.EModal",__constructs__:null,SETTINGS:{_hx_name:"SETTINGS",_hx_index:0,__enum__:"lilsag.data.enums.EModal",toString:i}};St.__constructs__=[St.SETTINGS];var Tt=C["lilsag.data.enums.ETile"]={__ename__:"lilsag.data.enums.ETile",__constructs__:null,COLOR:((o=function(e){return{_hx_index:0,p_type:e,__enum__:"lilsag.data.enums.ETile",toString:i}})._hx_name="COLOR",o.__params__=["p_type"],o),BOMB:{_hx_name:"BOMB",_hx_index:1,__enum__:"lilsag.data.enums.ETile",toString:i},RAILGUN_X:{_hx_name:"RAILGUN_X",_hx_index:2,__enum__:"lilsag.data.enums.ETile",toString:i},RAILGUN_Y:{_hx_name:"RAILGUN_Y",_hx_index:3,__enum__:"lilsag.data.enums.ETile",toString:i},SMARTBOMB:((o=function(e){return{_hx_index:4,p_type:e,__enum__:"lilsag.data.enums.ETile",toString:i}})._hx_name="SMARTBOMB",o.__params__=["p_type"],o)};Tt.__constructs__=[Tt.COLOR,Tt.BOMB,Tt.RAILGUN_X,Tt.RAILGUN_Y,Tt.SMARTBOMB];var Ct=C["lilsag.data.enums.ETileColor"]={__ename__:"lilsag.data.enums.ETileColor",__constructs__:null,COLOR_A:{_hx_name:"COLOR_A",_hx_index:0,__enum__:"lilsag.data.enums.ETileColor",toString:i},COLOR_B:{_hx_name:"COLOR_B",_hx_index:1,__enum__:"lilsag.data.enums.ETileColor",toString:i},COLOR_C:{_hx_name:"COLOR_C",_hx_index:2,__enum__:"lilsag.data.enums.ETileColor",toString:i},COLOR_D:{_hx_name:"COLOR_D",_hx_index:3,__enum__:"lilsag.data.enums.ETileColor",toString:i},COLOR_E:{_hx_name:"COLOR_E",_hx_index:4,__enum__:"lilsag.data.enums.ETileColor",toString:i}};Ct.__constructs__=[Ct.COLOR_A,Ct.COLOR_B,Ct.COLOR_C,Ct.COLOR_D,Ct.COLOR_E];var It=function(e){this._kernel=e,this._tools=this._kernel.tools,this._factory=this._kernel.factory,this._session=this._kernel.get_session(),this.id="Vo#"+It._ID++};function At(e,t){It.call(this,e),this.type=t,this.id='"'+A.string(this.type)+"-#"+It._ID+'"',this.duration=this._getDuration()}function kt(e,t){It.call(this,e),this.type=t,this.id='"'+A.string(this.type)+"-#"+It._ID+'"',this.colorType=this._getColorType(),this.isColor=this._getIsColor(),this.isSpecial=!this.isColor,this.isSmartbomb=this.type._hx_index==Tt.SMARTBOMB(null)._hx_index,this.audioIdCreate=this._getAudioIdCreate(),this.audioIdDestroy=this._getAudioIdDestroy()}function Pt(e,t){this._isGameOver=!1,this._GAME_OVER_DELAY_DURATION=3e3,this._callbackGameOver=t,ht.call(this,e)}(t["lilsag.data.vos.AVo"]=It).__name__="lilsag.data.vos.AVo",It.prototype={__class__:It},(t["lilsag.data.vos.VLevel"]=At).__name__="lilsag.data.vos.VLevel",At.__super__=It,At.prototype=e(It.prototype,{_getDuration:function(){this.type;return 9e4},__class__:At}),(t["lilsag.data.vos.VTile"]=kt).__name__="lilsag.data.vos.VTile",kt.__super__=It,kt.prototype=e(It.prototype,{_getColorType:function(){var e=this.type;switch(e._hx_index){case 0:case 4:return e.p_type;default:return null}},_getIsColor:function(){var e=this.type;if(0!=e._hx_index)return!1;e.p_type;return!0},_getAudioIdCreate:function(){var e=this.type;switch(e._hx_index){case 0:e.p_type;return"TileCreateColor";case 1:return"TileCreateBomb";case 2:case 3:return"TileCreateRailgun";case 4:e.p_type;return"TileCreateSmartbomb"}},_getAudioIdDestroy:function(){var e=this.type;switch(e._hx_index){case 0:e.p_type;return null;case 1:return"TileDestroyBomb";case 2:case 3:return"TileDestroyRailgun";case 4:e.p_type;return"TileDestroySmartbomb"}},getTexture:function(e){null==e&&(e=!1);var t,i,n=this.type;switch(n._hx_index){case 0:switch(n.p_type._hx_index){case 0:i="TileColorA";break;case 1:i="TileColorB";break;case 2:i="TileColorC";break;case 3:i="TileColorD";break;case 4:i="TileColorE"}t=i+(e?"Icon":"");break;case 1:t="TileBomb";break;case 2:t="TileRailgunX";break;case 3:t="TileRailgunY";break;case 4:switch(n.p_type._hx_index){case 0:t="TileSmartbombA";break;case 1:t="TileSmartbombB";break;case 2:t="TileSmartbombC";break;case 3:t="TileSmartbombD";break;case 4:t="TileSmartbombE"}}return this._factory.assets.getTextureFromAtlas("assets/game/Sprites.json",t)},__class__:kt}),(t["lilsag.game.Engine"]=Pt).__name__="lilsag.game.Engine",Pt.__super__=ht,Pt.prototype=e(ht.prototype,{_init:function(){ht.prototype._init.call(this),this.addEntity(this._level=new Dt(this._kernel,this._session.cache.levelType),null,!0,100),this.addEntity(this._location=new Mt(this._kernel,this._level),null,!0,10)},_updater:function(e){null==e&&(e=0),this._factory.gui.isModal||(this._session.get_isTester()&&(this._kernel.inputs.keyboard.getIsKeyDown(Ae.NUMPAD_ADD)&&(e*=10),this._kernel.inputs.keyboard.getIsKeyDown(Ae.BACKSPACE)&&this._level.addScore(1)),ht.prototype._updater.call(this,e),this._isGameOver||this._level.getIsGameOver()&&(this._level.stopMusic(),this._callbackGameOver(this._level.getResults(),this._GAME_OVER_DELAY_DURATION),this._isGameOver=!0))},getDebugHelper:function(){return{level:this._level,location:this._location}},__class__:Pt});var Dt=function(e,t){this._musicLoop=0,this._timeExtended=0,this._gui={},this.vo=new At(e,t),ht.call(this,e)};(t["lilsag.game.Level"]=Dt).__name__="lilsag.game.Level",Dt.__super__=ht,Dt.prototype=e(ht.prototype,{getResults:function(){return this._results},getIsGameOver:function(){return 0==this._getTimeRemaining()},_getTimeRemaining:function(){return 0|Math.max(this.vo.duration-this._age+this._timeExtended,0)},_init:function(){ht.prototype._init.call(this),this._results={level:this.vo.type,score:0},this.addEntity(this._gui.hudTimer=new Jt(this._kernel,0),null,!0,100),this.addEntity(this._gui.hudScore=new Qt(this._kernel,0,this._session.scoreBest),null,!0,100),this._factory.gui.align(this._gui.hudTimer,Ht.RIGHT,100,null,jt.TOP,60),this._factory.gui.align(this._gui.hudScore,Ht.RIGHT,100,null,jt.TOP,160),this.addEntity(new be(this._kernel,Oi(this,this.startMusic),600))},_updater:function(e){null==e&&(e=0),ht.prototype._updater.call(this,e),this._gui.hudScore.configure(this._results.score,this._session.scoreBest);e=this._getTimeRemaining();this._gui.hudTimer.configure(e,0==e||1e4<e||200<this._age%1e3)},_disposer:function(){this.stopMusic(),ht.prototype._disposer.call(this)},startMusic:function(){this._factory.audio.start("MusicGame"+(0==this._musicLoop++?1:A.random(5)+1),Te.MUSIC,1,0,.25,0,null,Oi(this,this.startMusic))},stopMusic:function(){this._factory.audio.stop(null,Te.MUSIC)},addScore:function(e){this._results.score+=e,this._session.scoreBest<this._results.score&&(this._session.scoreBest=this._results.score)},calculateScore:function(e){return e<=0?0:10*Math.round(Math.pow(e,1.25))},__class__:Dt});var Mt=function(e,t){this._tilesDestroyed=0,this._isDestroying=!1,this._cells=[],this._gui={},this._level=t,ht.call(this,e)};(t["lilsag.game.Location"]=Mt).__name__="lilsag.game.Location",Mt.__super__=ht,Mt.prototype=e(ht.prototype,{_getCell:function(e,t,i){if(null==i&&(i=!1),i){var n=e-this._gui.panel.x-27,i=t-this._gui.panel.y-27;if(n<0||492<n)return null;if(i<0||492<i)return null;n=n/54;e=0|(8<n?8:n<0?0:n),t=0|(8<(n=i/54)?8:n<0?0:n)}return this._cells[9*t+e]},_getLowestOccupiedCellBelow:function(e){return null==e.below||null!=e.below.tile?e:this._getLowestOccupiedCellBelow(e.below)},_getRandomColor:function(){return this._factory.data.functions.getRandomElementFromArray([Tt.COLOR(Ct.COLOR_A),Tt.COLOR(Ct.COLOR_B),Tt.COLOR(Ct.COLOR_C),Tt.COLOR(Ct.COLOR_D),Tt.COLOR(Ct.COLOR_E)])},_getSpecialCells:function(){for(var e=[],t=0,i=this._cells;t<i.length;){var n=i[t];++t,null!=n.tile&&n.tile.vo.isSpecial&&e.push(n)}return e},_init:function(){ht.prototype._init.call(this);var e=this._kernel,t=this._factory.assets.getTextureFromAtlas("assets/game/Sprites.json","LocationPanel");this.addEntity(this._gui.panel=new qt(e,t),null,!0,1),this._gui.panel.addEntity(this._gui.gamegrid=new Bt(this._kernel,492,492),null,!0,2),this._gui.panel.set_x(87),this._gui.gamegrid.setPosition(54,54);var i={tile:null,x:0,y:0,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:1,y:0,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:2,y:0,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:3,y:0,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:4,y:0,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:5,y:0,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:6,y:0,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:7,y:0,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:8,y:0,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:0,y:1,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:1,y:1,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:2,y:1,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:3,y:1,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:4,y:1,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:5,y:1,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:6,y:1,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:7,y:1,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:8,y:1,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:0,y:2,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:1,y:2,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:2,y:2,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:3,y:2,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:4,y:2,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:5,y:2,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:6,y:2,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:7,y:2,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:8,y:2,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:0,y:3,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:1,y:3,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:2,y:3,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:3,y:3,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:4,y:3,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:5,y:3,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:6,y:3,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:7,y:3,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:8,y:3,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:0,y:4,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:1,y:4,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:2,y:4,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:3,y:4,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:4,y:4,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:5,y:4,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:6,y:4,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:7,y:4,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:8,y:4,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:0,y:5,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:1,y:5,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:2,y:5,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:3,y:5,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:4,y:5,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:5,y:5,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:6,y:5,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:7,y:5,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:8,y:5,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:0,y:6,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:1,y:6,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:2,y:6,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:3,y:6,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:4,y:6,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:5,y:6,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:6,y:6,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:7,y:6,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:8,y:6,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:0,y:7,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:1,y:7,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:2,y:7,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:3,y:7,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:4,y:7,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:5,y:7,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:6,y:7,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:7,y:7,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:8,y:7,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:0,y:8,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:1,y:8,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:2,y:8,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:3,y:8,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:4,y:8,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:5,y:8,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:6,y:8,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:7,y:8,above:null,right:null,below:null,left:null};this._cells.push(i);i={tile:null,x:8,y:8,above:null,right:null,below:null,left:null};this._cells.push(i);for(var n=0,s=this._cells;n<s.length;){i=s[n];++n,0<i.x&&(i.left=this._getCell(i.x-1,i.y)),i.x<8&&(i.right=this._getCell(i.x+1,i.y)),0<i.y&&(i.above=this._getCell(i.x,i.y-1)),i.y<8&&(i.below=this._getCell(i.x,i.y+1))}this._fillEmptyTiles()},_updater:function(e){if(null==e&&(e=0),ht.prototype._updater.call(this,e),!this._isDestroying)if(this._level.getIsGameOver())for(var t=0,i=this._getSpecialCells();t<i.length;){var n=i[t];++t,this._activateSpecial(n)}else this._inputter()},_inputter:function(){var e=this._kernel.inputs.mouse;e.getIsButtonPress()&&(e=this._getCell(e.x,e.y,!0),this._clickCell(e))},_clickCell:function(e){if(null!=e&&null!=e.tile){var t=this._factory.data.functions.getRandomElementFromArray(["TileClick1","TileClick2","TileClick3","TileClick4"]);if(e.tile.vo.isSpecial)return this._factory.audio.start(t,Te.EFFECTS,1,0,.75),void this._activateSpecial(e,!0);var i,n=this._calculateMatchingNeighbors([e]),s=n.length;s<=1||(i=e.tile.vo.colorType,this._destroyTiles(n),5<=s?(null!=(s=this._createTile(9<=s?Tt.SMARTBOMB(i):7<=s?this._factory.data.functions.getRandomElementFromArray([Tt.RAILGUN_X,Tt.RAILGUN_Y]):Tt.BOMB,e.x,e.y,!0,!1)).vo.audioIdCreate&&this._factory.audio.start(s.vo.audioIdCreate,Te.EFFECTS,1,0,1),this._factory.gui.addBurst(54*e.x,54*e.y,5,null,null,this._gui.gamegrid),this._factory.audio.start(t,Te.EFFECTS,1,0,.5)):(this._factory.audio.start("TileCreateColor",Te.EFFECTS,1,0,.5),this._factory.audio.start(t,Te.EFFECTS,1,0,.25)))}},_activateSpecial:function(r,_){null==_&&(_=!1);var a=this;this._isDestroying=!0,r.tile.destroy(function(){a._kernel.overlay.flash(500,null,.75);for(var e,t=a._calculateSpecialCells(r,_),i=0,n=t.slice();i<n.length;){var s=n[i];++i,s!=r&&null!=s.tile&&(a._factory.gui.addLightning(1,r.tile._context.x,r.tile._context.y,s.tile._context.x,s.tile._context.y,.75,a._gui.gamegrid),s.tile.vo.isSpecial&&(s.tile.isDestroying||a._activateSpecial(s),k.remove(t,s)))}a._destroyTiles(t,!1),null!=a._delaySpecial&&((e=a._delaySpecial).isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer())),a._delaySpecial=a._factory.gui.createDelay(a,500,function(){a._destroyTiles([r])})})},_destroyTiles:function(e,t){null==t&&(t=!0);var i=this;this._isDestroying=!0;for(var n=0;n<e.length;){var s=e[n];++n,null!=s.tile&&(this._tilesDestroyed++,s.tile.destroy(),s.tile=null)}this._gui.gamegrid.shake(.025*e.length),t&&(this._level.addScore(this._level.calculateScore(this._tilesDestroyed)),this._factory.gui.createDelay(this,200,function(){i._dropTiles(),i._fillEmptyTiles(),i._isDestroying=!1,i._tilesDestroyed=0}))},_dropTiles:function(){var e=this._cells.slice();e.reverse();for(var t=0;t<e.length;){var i,n=e[t];++t,null==n.tile||n!=(i=this._getLowestOccupiedCellBelow(n))&&(n.tile.setIntendedPosition(i.x,i.y),i.tile=n.tile,n.tile=null)}},_fillEmptyTiles:function(){(t=[]).push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0);for(var e=t,t=0,i=this._cells;t<i.length;){var n=i[t];++t,null==n.tile&&e[n.x]++}for(t=0,i=e[0];t<i;){var s=t++;this._createTile(null,0,s,!0)}for(t=0,i=e[1];t<i;){s=t++;this._createTile(null,1,s,!0)}for(t=0,i=e[2];t<i;){s=t++;this._createTile(null,2,s,!0)}for(t=0,i=e[3];t<i;){s=t++;this._createTile(null,3,s,!0)}for(t=0,i=e[4];t<i;){s=t++;this._createTile(null,4,s,!0)}for(t=0,i=e[5];t<i;){s=t++;this._createTile(null,5,s,!0)}for(t=0,i=e[6];t<i;){s=t++;this._createTile(null,6,s,!0)}for(t=0,i=e[7];t<i;){s=t++;this._createTile(null,7,s,!0)}for(t=0,i=e[8];t<i;){s=t++;this._createTile(null,8,s,!0)}},_createTile:function(e,t,i,n,s){null==s&&(s=!0),null==n&&(n=!1),null==e&&(e=this._getRandomColor());s=new Ot(this._kernel,e,{x:t,y:i-(s?10:0)},{x:t,y:i});return n&&(this._gui.gamegrid.addEntity(s,null,!0,10),this._getCell(t,i).tile=s),s},_calculateMatchingNeighbors:function(e,t){null==t&&(t=e.slice());for(var i=e[e.length-1],n=[i.above,i.left,i.below,i.right],s=0;s<n.length;){var r=n[s];++s,null!=r&&null!=r.tile&&(0<=t.indexOf(r)||(t.push(r),P.enumEq(r.tile.vo.type,e[0].tile.vo.type)&&(e.push(r),this._calculateMatchingNeighbors(e,t))))}return e},_calculateSpecialCells:function(e,t){null==t&&(t=!1);var i=[];if(null==e)return i;if(null==e.tile)return i;if(!e.tile.vo.isSpecial)return i;var n=e.tile.vo.type;if(t){var s=this._calculateHighestNeighbor(e);if(null!=s)switch(n._hx_index){case 1:case 2:case 3:break;case 4:var r=n.p_type;if(4!=s._hx_index)break;r=s.p_type;return this._cells.slice()}}for(var _=[],a=0,o=this._cells;a<o.length;){var l=o[a];switch(++a,n._hx_index){case 1:this._tools;var u=l.x-e.x,h=l.y-e.y,h=u*u+h*h,c=Math.sqrt(h)<1.5;break;case 2:c=l.y==e.y;break;case 3:c=l.x==e.x;break;case 4:r=n.p_type;c=l==e||null!=l.tile&&l.tile.vo.colorType==r;break;default:c=!1}c&&_.push(l)}return i=_},_calculateHighestNeighbor:function(e){for(var t=[],i=0,n=[e.above,e.left,e.below,e.right];i<n.length;){var s=n[i];++i,null!=s&&null!=s.tile&&t.push(s)}for(var r=t,_=-1,a=null,t=0;t<r.length;){var o=r[t];++t,o.tile.vo.type._hx_index>_&&(_=(a=o.tile.vo.type)._hx_index)}return a},__class__:Mt});var Ot=function(e,t,i,n){this._gui={},this.isDestroying=!1,this.vo=new kt(e,t),this._state={position:{x:i.x,y:i.y},intendedPosition:{x:(null==n?i:n).x,y:(null==n?i:n).y},velocity:0},this._callbacks={},ht.call(this,e)};(t["lilsag.game.Tile"]=Ot).__name__="lilsag.game.Tile",Ot.__super__=ht,Ot.prototype=e(ht.prototype,{setIntendedPosition:function(e,t){this._state.intendedPosition.x=e,this._state.intendedPosition.y=t},_init:function(){ht.prototype._init.call(this);var e=this.vo.getTexture();this._gui.sprite=new PIXI.Sprite(e),this._gui.sprite.scale.set(.5),this._gui.sprite.anchor.set(.5,.5),this._context.addChild(this._gui.sprite),this._context.x=54*this._state.position.x,this._context.y=54*this._state.position.y},_updater:function(e){null==e&&(e=0),ht.prototype._updater.call(this,e);e=this._state.velocity+.01;this._state.velocity=.75<e?.75:e<-.75?-.75:e,this._state.position.y+=this._state.velocity,this._state.position.y>this._state.intendedPosition.y&&(this._state.position.y=this._state.intendedPosition.y,this._state.velocity*=-.3*(.025*this._state.position.x+.975)),this._context.x=54*this._state.position.x,this._context.y=54*this._state.position.y,this.vo.isSpecial&&this._age%2e3<400&&(this._context.x+=Math.sin(this._age/20),this._context.y+=Math.cos(this._age/26))},destroy:function(e){var t,i=this;this.isDisposed||this.isDestroying||(this.isDestroying=!0,t=this.vo.isSpecial?100:10,this.get_view().set_priority(t),this.vo.isColor&&(this._gui.sprite.texture=this.vo.getTexture(!0)),this._factory.gui.addBurst(this._context.x,this._context.y,this.vo.isSpecial?2:1,null,null,this.get_parent()),this._factory.gui.createTweezer(this,function(e){i._gui.sprite.scale.set(.5*e)},1,this.vo.isSpecial?1.25:0,this.vo.isSpecial?0:50,this.vo.isSpecial?300:250,null,yi.EASE_IN,mi.QUARTIC,function(){null!=i.vo.audioIdDestroy&&i._factory.audio.start(i.vo.audioIdDestroy,Te.EFFECTS,1,0,1),i.isDisposed||(i.isDisposed=!0,i.set_isActive(!1),i._disposer()),null!=e&&e()}))},__class__:Ot}),B=function(){},(t["lilsag.gui.IAlignable"]=B).__name__="lilsag.gui.IAlignable",B.__isInterface__=!0,B.prototype={__class__:B,__properties__:{set_y:"set_y",set_x:"set_x"}};var Bt=function(e,t,i,n){null==n&&(n=!1),null==i&&(i=100),null==t&&(t=100),this._shake={value:0,resistance:.95,dx:0,dy:0},this._factory=lt.__cast(e.factory,ft),this._session=lt.__cast(e.get_session(),wt),ve.call(this,e,t,i,n),this._context.interactive=!1};function Ut(e,t,i,n,s,r,_,a,o,l,u){null==u&&(u=!0),null==r&&(r=!1),null==s&&(s=0),null==n&&(n=0),this._initialDelay=500,this._isEventRequired=!1,this._isModal=!1,this._isEnabled=!0,this._isRound=!1,this._isRound=r,this._keyType=_,this.onClickCallback=a,this.onRollOverCallback=o,this.onRollOutCallback=l,this._isEnabled=u,Bt.call(this,e,t,i,!1),this.setPosition(n,s)}(t["lilsag.gui.AGuiEntity"]=Bt).__name__="lilsag.gui.AGuiEntity",Bt.__interfaces__=[B],Bt.__super__=ve,Bt.prototype=e(ve.prototype,{_updater:function(e){var t;null==e&&(e=0),ve.prototype._updater.call(this,e),0<this._shake.value&&(this._context.x-=this._shake.dx,this._context.y-=this._shake.dy,this._shake.value*=this._shake.resistance,this._shake.value<.05?(this._shake.value=0,this._shake.dx=0,this._shake.dy=0):(t=Math.random()*this._shake.value*10,e=Math.random()<.5?-1:1,this._shake.dx=t*e,t=Math.random()*this._shake.value*10,e=Math.random()<.5?-1:1,this._shake.dy=t*e,this._context.x+=this._shake.dx,this._context.y+=this._shake.dy))},isPointWithinView:function(e,t){var i=this._context.toGlobal(new PIXI.Point(0,0),null,!1);return!(e<i.x)&&(!(t<i.y)&&(!(e>i.x+this.width)&&!(t>i.y+this.height)))},shake:function(e){this._shake.value=Math.abs(1<e?1:e<0?0:e)},__class__:Bt}),(t["lilsag.gui.AButton"]=Ut).__name__="lilsag.gui.AButton",Ut.__super__=Bt,Ut.prototype=e(Bt.prototype,{_init:function(){Bt.prototype._init.call(this),this.isOver=!1,this._stateUp=new Nt(this._kernel,new xe(this._kernel,this._contextUp=new PIXI.Container)),this._stateOver=new Nt(this._kernel,new xe(this._kernel,this._contextOver=new PIXI.Container)),this.addEntity(this._stateUp,Se.SUB_TYPE(Rt.UP),!0),this.addEntity(this._stateOver,Se.SUB_TYPE(Rt.OVER),!0),this.setAgenda(Se.SUB_TYPE(Rt.UP)),this.audioId="ButtonClick"},_updater:function(e){var t;null==e&&(e=0),Bt.prototype._updater.call(this,e),this._age<this._initialDelay||this._kernel.isActive&&this._isModal!=this._factory.gui.isModal||(t=this._kernel.inputs.mouse,(e=this.isPointWithinView(t.x,t.y)&&(!this._factory.gui.get_isTouch()||t.getIsButtonDown()||t.getIsButtonRelease()))&&t.set_cursorType(De.BUTTON),e&&!this.isOver&&this.onRollOver(),!e&&this.isOver&&(t.set_cursorType(De.AUTO),this.onRollOut()),this.isOver=e,this.isOver&&t.getIsButtonDown()&&this.onDown(),this.isOver&&t.getIsButtonRelease()&&!this._isEventRequired&&this.onClick(),null!=this._keyType&&this._kernel.inputs.keyboard.getIsKeyRelease(this._keyType)&&this.onClick())},_disposer:function(){this.setIsEventRequired(!1),Bt.prototype._disposer.call(this),this._kernel.inputs.mouse.set_cursorType(De.AUTO)},onDown:function(){this._isEnabled&&this.setAgenda(Se.SUB_TYPE(Rt.OVER))},onClick:function(){this._isEnabled&&(this.setAgenda(Se.SUB_TYPE(Rt.UP)),null!=this.onClickCallback&&this.onClickCallback(),""!=this.audioId&&this._factory.audio.start(this.audioId,Te.INTERFACE,1,0,1,0))},onRollOver:function(){this._isEnabled&&(this.setAgenda(Se.SUB_TYPE(Rt.OVER)),null!=this.onRollOverCallback&&this.onRollOverCallback())},onRollOut:function(){this._isEnabled&&(this.setAgenda(Se.SUB_TYPE(Rt.UP)),null!=this.onRollOutCallback&&this.onRollOutCallback())},setIsModal:function(e){null==e&&(e=!0),this._isModal=e},setIsEventRequired:function(e){null==e&&(e=!0),this._isEventRequired!=e&&(this._isEventRequired=e,this._context.interactive=e,this._context.off(this._factory.gui.get_isTouch()?"touchend":"click",Oi(this,this._eventHandler)),e&&this._context.on(this._factory.gui.get_isTouch()?"touchend":"click",Oi(this,this._eventHandler)))},_eventHandler:function(e){this._kernel.isActive&&this._isEventRequired&&(this.onClick(),e.stopPropagation())},isPointWithinView:function(e,t){if(!this._isEnabled)return!1;if(this._isRound){var i=this._context.toGlobal(new PIXI.Point(0,0),null,!1),n=e-i.x-this.width/2,i=t-i.y-this.height/2;return Math.sqrt(n*n+i*i)<.45*this.width}return Bt.prototype.isPointWithinView.call(this,e,t)},__class__:Ut});var Nt=function(e,t){m.call(this,e),this.view=t};(t["lilsag.gui._AButton._HelperState"]=Nt).__name__="lilsag.gui._AButton._HelperState",Nt.__super__=m,Nt.prototype=e(m.prototype,{__class__:Nt});var Rt=C["lilsag.gui._AButton._HelperEState"]={__ename__:"lilsag.gui._AButton._HelperEState",__constructs__:null,UP:{_hx_name:"UP",_hx_index:0,__enum__:"lilsag.gui._AButton._HelperEState",toString:i},OVER:{_hx_name:"OVER",_hx_index:1,__enum__:"lilsag.gui._AButton._HelperEState",toString:i}};function Ft(e){Bt.call(this,e,540,540,!1)}function Lt(e){this._circles=[],Bt.call(this,e,e.factory.width,e.factory.height,!1)}function Gt(e,t,i,n,s){null==s&&(s=0),null==n&&(n=1),this._delayDuration=0,this._scale=n,this._delayDuration=s,Bt.call(this,e,1,1,!1),this.setPosition(t,i)}function Kt(e,t,i,n,s,r,_,a){null==n&&(n=0),null==i&&(i=0),this.set_isOn(t),this._onClickCallback=r,Ut.call(this,e,90,40,i,n,!0,s,null,_,a)}function Xt(e,t,i,n,s,r,_){null==i&&(i=0),null==t&&(t=0),Ut.call(this,e,40,40,t,i,!1,n,s,r,_)}function Vt(e,t,i,n,s,r,_,a){null==n&&(n=0),null==i&&(i=0),null==t&&(t=""),this._title=t.toUpperCase(),Ut.call(this,e,100,30,i,n,null,s,r,_,a)}function zt(e,t,i,n,s,r,_,a){null==n&&(n=0),null==i&&(i=0),null==t&&(t=""),this._title=t.toUpperCase(),Ut.call(this,e,200,70,i,n,null,s,r,_,a)}Rt.__constructs__=[Rt.UP,Rt.OVER],(t["lilsag.gui.APanel"]=Ft).__name__="lilsag.gui.APanel",Ft.__super__=Bt,Ft.prototype=e(Bt.prototype,{_init:function(){Bt.prototype._init.call(this),this._sprite=new PIXI.Sprite(this._createTexture()),this._context.addChild(this._sprite),this.addEntity(this._title=new _i(this._kernel,400,40,"",this._factory.gui.textStyles.panelTitle(),!0),null,!0,1),this._title.setPosition(60,40)},_createTexture:function(){return this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","Panel")},addButtons:function(e,t){this.addEntity(e,null,!0,100),e.setPosition(.5*(this.width-e.width),426),null!=t&&(e.setPosition(290,426),this.addEntity(t,null,!0,100),t.setPosition(50,426))},__class__:Ft}),(t["lilsag.gui.Background"]=Lt).__name__="lilsag.gui.Background",Lt.__super__=Bt,Lt.prototype=e(Bt.prototype,{_init:function(){Bt.prototype._init.call(this),this._context.addChild(this._sprite=new PIXI.Sprite(PIXI.Texture.WHITE)),this._sprite.width=this.width,this._sprite.height=this.height;for(var e=0;e<25;){e++;var t={sprite:new PIXI.Sprite(this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","BackgroundCircle"+(A.random(5)+1))),position:{x:Math.random()*this.width,y:Math.random()*this.height},velocity:{x:5*(Math.random()-.5),y:5*(Math.random()-.5)},period:A.random(1e3)+1e3,periodOffset:A.random(2e4)};t.sprite.anchor.set(.5,.5),t.sprite.scale.set(.25*Math.random()+.75),t.sprite.position.set(t.position.x,t.position.y),this._circles.push(t),this._context.addChild(t.sprite)}this._context.addChild(new PIXI.Sprite(this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","BackgroundWave")))},_updater:function(e){null==e&&(e=0),Bt.prototype._updater.call(this,e);for(var t=0,i=this._circles;t<i.length;){var n=i[t];++t,n.sprite.alpha=.5*Math.sin((this._age+n.periodOffset)/n.period)+.5,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.sprite.position.set(n.position.x,n.position.y);var s=n.sprite.getBounds();s.left>this.width&&(n.position.x-=this.width+s.width),s.right<0&&(n.position.x+=this.width+s.width),s.top>this.height&&(n.position.y-=this.height+s.height),s.bottom<0&&(n.position.y+=this.height+s.height)}},__class__:Lt}),(t["lilsag.gui.Burst"]=Gt).__name__="lilsag.gui.Burst",Gt.__super__=Bt,Gt.prototype=e(Bt.prototype,{_init:function(){Bt.prototype._init.call(this),this._animatedSprite=new PIXI.AnimatedSprite(this._factory.assets.getTexturesFromAtlas("assets/game/Effects.json","Burst")),this._animatedSprite.loop=!1,this._animatedSprite.anchor.x=.5,this._animatedSprite.anchor.y=.5;var e=this._scale,t=Math.random()<.5?-1:1;this._animatedSprite.scale.x=e*t;e=this._scale,t=Math.random()<.5?-1:1;this._animatedSprite.scale.y=e*t,this._animatedSprite.blendMode=PIXI.BLEND_MODES.ADD,this._animatedSprite.animationSpeed=.65,this._context.addChild(this._animatedSprite),this._animatedSprite.visible=!1,this._animatedSprite.onComplete=Oi(this,this.dispose)},_updater:function(e){null==e&&(e=0),Bt.prototype._updater.call(this,e),this._age>this._delayDuration&&(this._animatedSprite.visible=!0,this._animatedSprite.play())},__class__:Gt}),(t["lilsag.gui.ButtonRadio"]=Kt).__name__="lilsag.gui.ButtonRadio",Kt.__super__=Ut,Kt.prototype=e(Ut.prototype,{_init:function(){Ut.prototype._init.call(this),this._sprite=new PIXI.Sprite(this._createTexture(this.isOn)),this._context.addChild(this._sprite),this.audioId="ButtonRadio"},set_isOn:function(e){return this.isOn=e,null!=this._sprite&&(this._sprite.texture=this._createTexture(this.isOn)),this.isOn},onClick:function(){this.set_isOn(!this.isOn),null!=this._onClickCallback&&this._onClickCallback(this.isOn),this._factory.audio.start(this.audioId,Te.SUB_TYPE("SETTINGS"),1,0,1,0)},_createTexture:function(e){return null==e&&(e=!0),this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json",this.isOn?"ButtonRadioOn":"ButtonRadioOff")},__class__:Kt,__properties__:e(Ut.prototype.__properties__,{set_isOn:"set_isOn"})}),(t["lilsag.gui.ButtonSettings"]=Xt).__name__="lilsag.gui.ButtonSettings",Xt.__super__=Ut,Xt.prototype=e(Ut.prototype,{_init:function(){Ut.prototype._init.call(this),this._contextUp.addChild(new PIXI.Sprite(this._createTexture(!0))),this._contextOver.addChild(new PIXI.Sprite(this._createTexture(!1)))},_createTexture:function(e){return null==e&&(e=!0),this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json",e?"ButtonSettingsUp":"ButtonSettingsOver")},__class__:Xt}),(t["lilsag.gui.ButtonSmall"]=Vt).__name__="lilsag.gui.ButtonSmall",Vt.__super__=Ut,Vt.prototype=e(Ut.prototype,{_init:function(){Ut.prototype._init.call(this),this._contextUp.addChild(new PIXI.Sprite(this._createTexture(!0))),this._contextOver.addChild(new PIXI.Sprite(this._createTexture(!1)));var e=this.width-10,t=this.height-6;this._textUp=new _i(this._kernel,e,t,this._title,this._factory.gui.textStyles.buttonSmall(!1)),this._textOver=new _i(this._kernel,e,t,this._title,this._factory.gui.textStyles.buttonSmall(!0)),this._textUp.set_x(this._textOver.set_x(5)),this._textUp.set_y(this._textOver.set_y(6)),this._stateUp.addEntity(this._textUp,null,!0,2),this._stateOver.addEntity(this._textOver,null,!0,2)},_createTexture:function(e){return null==e&&(e=!0),this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json",e?"ButtonSmallUp":"ButtonSmallOver")},__class__:Vt}),(t["lilsag.gui.ButtonText"]=zt).__name__="lilsag.gui.ButtonText",zt.__super__=Ut,zt.prototype=e(Ut.prototype,{_init:function(){Ut.prototype._init.call(this),null==zt._IS_PLAIN_ENABLED&&(zt._IS_PLAIN_ENABLED="false"!=this._kernel.getConfig("settings.plainButtons.enabled")),this._contextUp.addChild(this._spriteUp=new PIXI.Sprite(this._createTexture(!0))),this._contextOver.addChild(this._spriteOver=new PIXI.Sprite(this._createTexture(!1)));var e=18,t=this.width-20,i=this.height-e,n=this._factory.gui.textStyles.buttonText(!1),s=this._factory.gui.textStyles.buttonText(!0);zt._IS_PLAIN_ENABLED&&(e+=3,n.size-=4,s.size-=4),this._textUp=new _i(this._kernel,t,i,this._title,n),this._textOver=new _i(this._kernel,t,i,this._title,s),this._textUp.set_x(this._textOver.set_x(10)),this._textUp.set_y(this._textOver.set_y(e)),this._stateUp.addEntity(this._textUp,null,!0,2),this._stateOver.addEntity(this._textOver,null,!0,2)},_createTexture:function(e){return null==e&&(e=!0),this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json",(e?"ButtonTextUp":"ButtonTextOver")+(zt._IS_PLAIN_ENABLED?"Plain":""))},__class__:zt});var Ht=C["lilsag.gui.EGuiAlignX"]={__ename__:"lilsag.gui.EGuiAlignX",__constructs__:null,LEFT:{_hx_name:"LEFT",_hx_index:0,__enum__:"lilsag.gui.EGuiAlignX",toString:i},RIGHT:{_hx_name:"RIGHT",_hx_index:1,__enum__:"lilsag.gui.EGuiAlignX",toString:i},CENTER:{_hx_name:"CENTER",_hx_index:2,__enum__:"lilsag.gui.EGuiAlignX",toString:i}};Ht.__constructs__=[Ht.LEFT,Ht.RIGHT,Ht.CENTER];var jt=C["lilsag.gui.EGuiAlignY"]={__ename__:"lilsag.gui.EGuiAlignY",__constructs__:null,TOP:{_hx_name:"TOP",_hx_index:0,__enum__:"lilsag.gui.EGuiAlignY",toString:i},BOTTOM:{_hx_name:"BOTTOM",_hx_index:1,__enum__:"lilsag.gui.EGuiAlignY",toString:i},MIDDLE:{_hx_name:"MIDDLE",_hx_index:2,__enum__:"lilsag.gui.EGuiAlignY",toString:i}};jt.__constructs__=[jt.TOP,jt.BOTTOM,jt.MIDDLE];var Yt=function(e){this.colors={black:0,white:16777215,red:15612457,silver:14407891,bronze:15258533,darkRed:3937562,darkGreen:22835,darkBlue:1915756,greyDark:8221037,greyLight:11509140,orange:16088610,yellow:16702720,green:109659,blue:1812705,purple:10953868},this.isUrlsBlankWindow=!1,this.isModal=!1,ct.call(this,e)};(t["lilsag.gui.GuiManager"]=Yt).__name__="lilsag.gui.GuiManager",Yt.__super__=ct,Yt.prototype=e(ct.prototype,{_init:function(){ct.prototype._init.call(this),this.textStyles=new Wt(this,this._kernel.getConfig("settings.font.name"),"true"==this._kernel.getConfig("settings.font.bold")),this.isUrlsBlankWindow="true"==this._kernel.getConfig("settings.urls.blankWindow")},get_isWebGL:function(){return this._system.get_isWebGL()},get_isTouch:function(){return!this._system.isDesktop},get_isFullScreen:function(){try{var e=window.document;return!!e.fullscreenElement||(!!e.mozFullScreenElement||(!!e.webkitFullscreenElement||e.msFullscreenElement))}catch(e){}return!1},set_isFullScreen:function(e){return e?this._system.requestExitFullScreen():(this._system.requestFullScreen(),this._system.requestLockScreen()),this.get_isFullScreen()},get_isFullScreenSupported:function(){return this._system.get_isFullScreenSupported()},openUrl:function(e,t){null==t&&(t=!1),t?window.open(e,"_blank"):Ge.delay(function(){window.top.location.href=e},500)},addBurst:function(e,t,i,n,s,r){null==s&&(s=0),null==n&&(n=1),null==i&&(i=1),null==r&&(r=this._kernel.scenes.get_scene());for(var _=0,a=n;_<a;){var o=_++,o=new Gt(this._kernel,e+(Math.random()-.5)*(o/n)*i*64,t+(Math.random()-.5)*(o/n)*i*64,i,s+50*o);r.addEntity(o,null,!0,2e3)}},addLightning:function(e,t,i,n,s,r,_){null==r&&(r=.5),null==_&&(_=this._kernel.scenes.get_scene());r=new Zt(this._kernel,e,t,i,n,s,r);_.addEntity(r,null,!0,1900)},alignX:function(e,t,i,n){var s,r=null!=i?i:0,_=null!=n?n:r;switch(t._hx_index){case 0:s=r;break;case 1:s=this._factory.width-e.width-_;break;case 2:s=Math.round((this._factory.width-e.width-r-_)/2+r)}e.set_x(s)},alignY:function(e,t,i,n){var s,r=null!=i?i:0,_=null!=n?n:r;switch(t._hx_index){case 0:s=r;break;case 1:s=this._factory.height-e.height-_;break;case 2:s=Math.round((this._factory.height-e.height-r-_)/2+r)}e.set_y(s)},align:function(e,t,i,n,s,r,_){this.alignX(e,t,i,n),this.alignY(e,s,r,_)},createTweezer:function(e,t,i,n,s,r,_,a,o,l,u){null==_&&(_=0),null==r&&(r=1e3),null==s&&(s=0);u=new xi(this._kernel,t,i,n,s,r,_,a,o,l,u);return e.addEntity(u),u},createDelay:function(e,t,i){null==t&&(t=1e3);t=new be(this._kernel,i,t);return e.addEntity(t),t},debugConfirm:function(e,t,i){try{simplePopup(1,e,t).then(function(e){i(e)})}catch(e){}},debugPrompt:function(e,t,i){try{simplePopup(2,e,t).then(function(e){i(e)})}catch(e){}},__class__:Yt,__properties__:{get_isFullScreenSupported:"get_isFullScreenSupported",set_isFullScreen:"set_isFullScreen",get_isFullScreen:"get_isFullScreen",get_isTouch:"get_isTouch",get_isWebGL:"get_isWebGL"}});var Wt=function(e,t,i){this._gui=e,this._font=t,this._isBold=i};(t["lilsag.gui._GuiManager._HelperTextStyles"]=Wt).__name__="lilsag.gui._GuiManager._HelperTextStyles",Wt.prototype={buttonSmall:function(e){return null==e&&(e=!1),new K(this._font,12,e?this._gui.colors.black:this._gui.colors.white,this._isBold,!1,Be.CENTER,0,0,0,[])},buttonText:function(e){return null==e&&(e=!1),new K(this._font,25,e?this._gui.colors.red:this._gui.colors.white,this._isBold,!1,Be.CENTER,0,0,0,[])},hudTitle:function(e){return null==e&&(e=!1),new K(this._font,e?15:25,this._gui.colors.greyDark,this._isBold,!1,Be.LEFT,0,0,0,[])},hudValue:function(e){return null==e&&(e=!1),new K(this._font,e?15:60,this._gui.colors.red,this._isBold,!1,Be.LEFT,0,0,0,[])},panelTitle:function(){return new K(this._font,35,this._gui.colors.white,this._isBold,!1,Be.LEFT,0,0,0,[])},panelBody:function(){return new K(this._font,20,this._gui.colors.greyDark,this._isBold,!1,Be.LEFT,0,0,0,[])},modalTitle:function(){return this.panelTitle()},modalBody:function(){return new K(this._font,12,this._gui.colors.greyDark,this._isBold,!1,Be.CENTER,0,0,0,[])},__class__:Wt};var Qt=function(e,t,i,n){null==n&&(n=!1),null==i&&(i=0),null==t&&(t=0),this._value=-1,this._isResults=n,Bt.call(this,e,200,100,!1),this.configure(t,i)};(t["lilsag.gui.HudScore"]=Qt).__name__="lilsag.gui.HudScore",Qt.__super__=Bt,Qt.prototype=e(Bt.prototype,{_init:function(){Bt.prototype._init.call(this),this.addEntity(this._title=new _i(this._kernel,this.width,30,A.string(this._kernel.getConfig(this._isResults?"gui.scenes.game.hudScore.results":"gui.scenes.game.hudScore.title")).toUpperCase(),this._factory.gui.textStyles.hudTitle(),!0),null,!0,1),this._title.setPosition(0,0),this.addEntity(this._message=new _i(this._kernel,95,30,"",this._factory.gui.textStyles.hudValue(),!0),null,!0,1),this._message.setPosition(-3,15),this.addEntity(this._bestTitle=new _i(this._kernel,this.width,30,A.string(this._kernel.getConfig("gui.scenes.game.hudScore.best")).toUpperCase(),this._factory.gui.textStyles.hudTitle(!0),!0),null,!0,1),this._bestTitle.setPosition(0,80),this.addEntity(this._bestMessage=new _i(this._kernel,95,30,"100",this._factory.gui.textStyles.hudValue(!0),!0),null,!0,1),this._bestMessage.setPosition(40,80)},_getValue:function(e){return A.string(0|e).toUpperCase()},configure:function(e,t){this._value!=e&&(this._value=e,this._message.set_text(this._getValue(this._value)),this._bestMessage.set_text(this._getValue(t)))},__class__:Qt});var Jt=function(e,t){null==t&&(t=0),this._delimeter=":",this._value=t,Bt.call(this,e,200,100,!1)};(t["lilsag.gui.HudTimer"]=Jt).__name__="lilsag.gui.HudTimer",Jt.__super__=Bt,Jt.prototype=e(Bt.prototype,{_init:function(){Bt.prototype._init.call(this),this.addEntity(this._title=new _i(this._kernel,this.width,30,A.string(this._kernel.getConfig("gui.scenes.game.hudTimer.title")).toUpperCase(),this._factory.gui.textStyles.hudTitle(),!0),null,!0,1),this._title.setPosition(0,0),this._digits=[];for(var e=-3,t=0,i=this._getMessage().split("");t<i.length;){var n=i[t];++t,e-=(this._delimeter,0);var s=this._createDigit(n,e,15);this._digits.push(s),this.addEntity(s,null,!0,10),e+=n==this._delimeter?18:30}},_getMessage:function(){return k.substr(this._tools.convertAgeToFormattedTime(this._value,this._delimeter),1,7)},configure:function(e,t){if(null==t&&(t=!0),this._value!=e){this._value=e;for(var i=0,n=0,s=this._getMessage().split("");n<s.length;){var r=s[n];++n,this._digits[i].set_text(r),this._digits[i].get_view().set_isVisible(t),++i}}},_createDigit:function(e,t,i){var n=new _i(this._kernel,40,40,"",this._factory.gui.textStyles.hudValue());return n.setPosition(t,i),n},__class__:Jt});var qt=function(e,t,i,n){null==n&&(n=1),null==i&&(i=!1),this._texture=t,this._isAdd=i,Bt.call(this,e,this._texture.width,this._texture.height,!1),this.set_alpha(n)};(t["lilsag.gui.Image"]=qt).__name__="lilsag.gui.Image",qt.__super__=Bt,qt.prototype=e(Bt.prototype,{_init:function(){Bt.prototype._init.call(this),this._sprite=new PIXI.Sprite,this._context.addChild(this._sprite),this.configure(this._texture,this._isAdd)},configure:function(e,t){null==t&&(t=!1),this._isAdd=t,this._texture=e,this._sprite.texture=e,this._sprite.blendMode=this._isAdd?PIXI.BLEND_MODES.ADD:PIXI.BLEND_MODES.NORMAL,this.width=this._texture.width,this.height=this._texture.height},set_alpha:function(e){return this._sprite.alpha=e},__class__:qt,__properties__:e(Bt.prototype.__properties__,{set_alpha:"set_alpha"})});var Zt=function(e,t,i,n,s,r,_){null==_&&(_=.5),this._color=t,this._startX=i,this._startY=n,this._endX=s,this._endY=r,this._intensity=Math.max(Math.min(_,1),.25),this._duration=Math.round(500*this._intensity),Bt.call(this,e,null,null,!1)};function $t(e,t){null==t&&(t=!1),Bt.call(this,e,400,400,!1),t&&this._context.scale.set(.5)}(t["lilsag.gui.Lightning"]=Zt).__name__="lilsag.gui.Lightning",Zt.__super__=Bt,Zt.prototype=e(Bt.prototype,{_init:function(){Bt.prototype._init.call(this),this._points=[];var e=this._endX-this._startX,t=this._endY-this._startY;this._points.push(new PIXI.Point(0*e,0*t));this._points.push(new PIXI.Point(.1111111111111111*e,.1111111111111111*t));this._points.push(new PIXI.Point(.2222222222222222*e,.2222222222222222*t));this._points.push(new PIXI.Point(.3333333333333333*e,.3333333333333333*t));this._points.push(new PIXI.Point(.4444444444444444*e,.4444444444444444*t));this._points.push(new PIXI.Point(.5555555555555556*e,.5555555555555556*t));this._points.push(new PIXI.Point(.6666666666666666*e,.6666666666666666*t));this._points.push(new PIXI.Point(.7777777777777778*e,.7777777777777778*t));this._points.push(new PIXI.Point(.8888888888888888*e,.8888888888888888*t));this._points.push(new PIXI.Point(e,t)),this._rope=new PIXI.SimpleRope(this._factory.assets.getTextureFromAtlas("assets/game/Sprites.json","Lightning"),this._points),this._rope.x=this._startX,this._rope.y=this._startY,this._rope.blendMode=PIXI.BLEND_MODES.ADD,this._context.addChild(this._rope)},_updater:function(e){null==e&&(e=0),Bt.prototype._updater.call(this,e),this._randomize(),this._context.alpha=this._age/this._duration,this._age>this._duration&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},_randomize:function(){this._tools;for(var e=this._endX-this._startX,t=this._endY-this._startY,t=e*e+t*t,i=Math.sqrt(t),n=-5,s=0,r=this._points;s<r.length;){var _=r[s];++s,++n;var a=i/100*(.5-Math.abs(n/10));_.x+=10*(Math.random()-.5)*a,_.y+=10*(Math.random()-.5)*a}},__class__:Zt}),(t["lilsag.gui.Logo"]=$t).__name__="lilsag.gui.Logo",$t.__super__=Bt,$t.prototype=e(Bt.prototype,{_init:function(){Bt.prototype._init.call(this),this._bg=new qt(this._kernel,this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","LogoBackground")),this._bg._context.pivot.set(.5*this.width,.5*this.height),this._bg._context.position.set(.5*this.width,.5*this.height),this.addEntity(this._bg,null,!0,1),this._fg=new qt(this._kernel,this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","LogoForeground")),this.addEntity(this._fg,null,!0,1e3)},_updater:function(e){null==e&&(e=0),Bt.prototype._updater.call(this,e),this._bg._context.scale.set(.975+.025*Math.sin(this._age/1300)),.075<Math.random()||(this._factory.gui.addBurst(this._factory.data.functions.getRandomIntRange(.125*this.width|0,.875*this.width|0),this._factory.data.functions.getRandomIntRange(.25*this.height|0,.75*this.height|0),.5*Math.random()+1,1,0,this),this._fg.shake(.125))},__class__:$t});var ei=function(e){pe.call(this,e,1,1,null,null,null,null,null,null,null,null,null,null,null,4,0,.75)};function ti(e){Ft.call(this,e)}function ii(e){Ft.call(this,e)}function ni(e,t){this._results=t,Ft.call(this,e)}function si(e,t){this._type=t,Bt.call(this,e,70,70,!1)}function ri(e){Bt.call(this,e,200,200,!1)}(t["lilsag.gui.Overlay"]=ei).__name__="lilsag.gui.Overlay",ei.__super__=pe,ei.prototype=e(pe.prototype,{_init:function(){pe.prototype._init.call(this);var e=-1e3,t=-1e3;this.positionButton(Me.PAUSE,e,t),this.positionButton(Me.UNPAUSE,e,t),this.positionButton(Me.BACK,e,t),this.positionButton(Me.MUTE,e,t),this.positionButton(Me.UNMUTE,e,t),this._flashView.set_isVisible(!0)},__class__:ei}),(t["lilsag.gui.PanelInstructions"]=ti).__name__="lilsag.gui.PanelInstructions",ti.__super__=Ft,ti.prototype=e(Ft.prototype,{_init:function(){Ft.prototype._init.call(this),this._title.set_text(A.string(this._kernel.getConfig("gui.scenes.instructions.title")).toUpperCase()),this.addEntity(this._logo=new $t(this._kernel,!0),null,!0,1),this._logo.setPosition(290,50),this.addEntity(this._text=new _i(this._kernel,400,200,this._kernel.getConfig("gui.scenes.instructions.message"),this._factory.gui.textStyles.panelBody(),!0),null,!0,1),this._text.setPosition(60,265)},__class__:ti}),(t["lilsag.gui.PanelMenu"]=ii).__name__="lilsag.gui.PanelMenu",ii.__super__=Ft,ii.prototype=e(Ft.prototype,{_init:function(){Ft.prototype._init.call(this),this.addEntity(this._logo=new $t(this._kernel),null,!0,1e3),this._logo.setPosition(70,30)},__class__:ii}),(t["lilsag.gui.PanelResults"]=ni).__name__="lilsag.gui.PanelResults",ni.__super__=Ft,ni.prototype=e(Ft.prototype,{_init:function(){Ft.prototype._init.call(this),this._title.set_text(A.string(this._kernel.getConfig("gui.scenes.results.title")).toUpperCase()),this.addEntity(this._logo=new $t(this._kernel,!0),null,!0,1),this._logo.setPosition(290,50),this.addEntity(this._subtitle=new qt(this._kernel,this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","ResultsSubtitle"+(A.random(2)+1))),null,!0,2),this._subtitle.setPosition(70,280),this.addEntity(this._hudScore=new Qt(this._kernel,this._results.score,this._session.scoreBest,!0),null,!0,100),this._hudScore.setPosition(60,165)},__class__:ni}),(t["lilsag.gui.RadioIcon"]=si).__name__="lilsag.gui.RadioIcon",si.__super__=Bt,si.prototype=e(Bt.prototype,{_init:function(){Bt.prototype._init.call(this),this._context.addChild(this._sprite=new PIXI.Sprite(this._createTexture()))},_createTexture:function(e){var t;switch(null==e&&(e=!0),this._type){case 1:t="RadioIconMusic";break;case 2:t="RadioIconFullScreen";break;default:t="RadioIconEffects"}return this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json",t)},__class__:si}),(t["lilsag.gui.Sponsor"]=ri).__name__="lilsag.gui.Sponsor",ri.__super__=Bt,ri.prototype=e(Bt.prototype,{get_alpha:function(){return this._sprite.alpha},set_alpha:function(e){return this._sprite.alpha=e},_init:function(){Bt.prototype._init.call(this),this._isEnabled="false"!=this._kernel.getConfig("settings.sponsor.enabled"),this._sprite=new PIXI.Sprite(this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","Sponsor")),this._isEnabled&&this._context.addChild(this._sprite)},__class__:ri,__properties__:e(Bt.prototype.__properties__,{set_alpha:"set_alpha",get_alpha:"get_alpha"})});var _i=function(e,t,i,n,s,r,_,a){null==a&&(a=1),null==_&&(_=!1),null==r&&(r=!1),null==n&&(n=""),n=u.replace(n=null==n?"null":""+n,"<BR/>","\n"),n=u.replace(n,"<br/>","\n"),Ee.call(this,e,t,i,n,s,r,_),this.set_alpha(a)};function ai(e,t,i){this._isDismissable=!0,this._DURATION_OUT=500,this._DURATION_IN=750,this._DURATION_DELAY=100,this.type=t,this._callback=i,ht.call(this,e)}function oi(e,t,i,n,s,r){null==s&&(s=!1),null==n&&(n=!0),this._gui={},this._extra=null==i?null:{title:t,callback:i,isExit:n,isEventRequired:s},ai.call(this,e,St.SETTINGS,r)}function li(e,t,i,n,s){null==s&&(s=!1),null==n&&(n=!0),null==i&&(i=!1),this._session=e.get_session(),this._factory=e.factory,L.call(this,e,t,i,n,s)}(t["lilsag.gui.Text"]=_i).__name__="lilsag.gui.Text",_i.__interfaces__=[B],_i.__super__=Ee,_i.prototype=e(Ee.prototype,{set_alpha:function(e){return this._context.alpha=e},__class__:_i,__properties__:e(Ee.prototype.__properties__,{set_alpha:"set_alpha"})}),(t["lilsag.modals.AModal"]=ai).__name__="lilsag.modals.AModal",ai.__super__=ht,ai.prototype=e(ht.prototype,{_init:function(){var t=this;ht.prototype._init.call(this),this._factory.gui.isModal=!0,this._keyBackOriginal=this._kernel.factory.keyBack,this._kernel.factory.keyBack=null,this._kernel.inputs.mouse.set_cursorType(De.AUTO),this._background=new PIXI.Container;var e=new PIXI.Sprite(this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","ModalBackground"));e.scale.set(1,1),this._background.addChild(e),(e=new PIXI.Sprite(this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","ModalBackground"))).position.set(this._factory.width,0),e.scale.set(-1,1),this._background.addChild(e),(e=new PIXI.Sprite(this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","ModalBackground"))).position.set(this._factory.width,this._factory.height),e.scale.set(-1,-1),this._background.addChild(e),(e=new PIXI.Sprite(this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","ModalBackground"))).position.set(0,this._factory.height),e.scale.set(1,-1),this._background.addChild(e),this._context.addChild(this._background),this.addEntity(this._panel=new qt(this._kernel,this._getPanelTexture()),null,!0,10),this._panel.addEntity(this._title=new _i(this._kernel,400,30,"",this._factory.gui.textStyles.modalTitle()),null,!0,999),this._factory.gui.align(this._title,Ht.LEFT,260,null,jt.TOP,100),this.addEntity(new xi(this._kernel,function(e){t._panel.set_y(e)},this._factory.height,0,0,this._DURATION_IN,null,yi.EASE_OUT,mi.QUARTIC)),this.addEntity(new xi(this._kernel,function(e){t._background.alpha=e},0,1,this._DURATION_DELAY,this._DURATION_IN,null,yi.EASE_OUT,mi.QUARTIC)),this._factory.audio.start("Swish1",Te.INTERFACE,1,0,.25,0)},_updater:function(e){null==e&&(e=0),ht.prototype._updater.call(this,e),this._isDismissable&&this._kernel.inputs.keyboard.getIsKeyRelease(this._keyBackOriginal)&&this.exit()},_disposer:function(){ht.prototype._disposer.call(this),this._factory.gui.isModal=!1,this._kernel.factory.keyBack=this._keyBackOriginal,null!=this._callback&&this._callback()},_setTitle:function(e){this._title.set_text(e.toUpperCase())},_getPanelTexture:function(){return this._factory.assets.getTextureFromAtlas("assets/gui/Gui.json","ModalPanel")},exit:function(){var t=this;this._isExiting||(this._isExiting=!0,this.addEntity(new xi(this._kernel,function(e){t._panel.set_y(e)},this._panel.y,this._factory.height,0,this._DURATION_OUT,null,yi.EASE_IN,mi.BACK())),this.addEntity(new xi(this._kernel,function(e){t._background.alpha=e},this._background.alpha,0,0,this._DURATION_OUT,null,yi.EASE_IN,mi.QUARTIC,Oi(this,this.dispose))),this._factory.audio.start("Swish2",Te.INTERFACE,1,0,.25,0))},__class__:ai}),(t["lilsag.modals.Settings"]=oi).__name__="lilsag.modals.Settings",oi.__super__=ai,oi.prototype=e(ai.prototype,{_init:function(){var t=this;ai.prototype._init.call(this),this._setTitle(this._kernel.getConfig("gui.modals.settings.title"));var e=this._panel,i=this._kernel,n=("App-ID: "+this._factory.id+" v"+this._factory.version+" ("+(this._factory.gui.get_isWebGL()?"WebGL":"Canvas")+")\n"+this._getCredits()).toUpperCase(),s=this._factory.gui.textStyles.modalBody();e.addEntity(this._gui.message=new _i(i,460,200,n,s,!0,null,.5),null,!0,1),this._panel.addEntity(this._gui.radioIconEffects=new si(this._kernel,0),null,!0,12),this._panel.addEntity(this._gui.radioIconMusic=new si(this._kernel,1),null,!0,12),this._panel.addEntity(this._gui.buttonRadioEffects=new Kt(this._kernel,!this._factory.audio.isEffectsMute,null,null,null,function(e){t._factory.audio.set_isEffectsMute(!e)}),null,!0,11),this._panel.addEntity(this._gui.buttonRadioMusic=new Kt(this._kernel,!this._factory.audio.isMusicMute,null,null,null,function(e){t._factory.audio.set_isMusicMute(!e)}),null,!0,11);e=this._panel,i=this._kernel,n=this._kernel.getConfig("gui.buttons.continue");e.addEntity(this._gui.buttonContinue=new zt(i,n,null,null,this._factory.keyNext,Oi(this,this.exit)),null,!0,11),this._gui.buttonRadioEffects.setIsModal(),this._gui.buttonRadioMusic.setIsModal(),this._gui.buttonContinue.setIsModal();var r=300,s=360/(this._factory.gui.get_isFullScreenSupported()?3:2)|0;r-=.5*(s+this._gui.radioIconEffects.width)|0,this._factory.gui.align(this._gui.message,Ht.CENTER,null,null,jt.TOP,325),this._factory.gui.align(this._gui.radioIconEffects,Ht.LEFT,r+=s,null,jt.TOP,205),this._factory.gui.align(this._gui.buttonRadioEffects,Ht.LEFT,r-10,null,jt.TOP,275),this._factory.gui.align(this._gui.radioIconMusic,Ht.LEFT,r+=s,null,jt.TOP,205),this._factory.gui.align(this._gui.buttonRadioMusic,Ht.LEFT,r-10,null,jt.TOP,275),this._factory.gui.align(this._gui.buttonContinue,Ht.CENTER,null,null,jt.BOTTOM,100),this._factory.gui.get_isFullScreenSupported()&&(this._panel.addEntity(this._gui.radioIconFullScreen=new si(this._kernel,2),null,!0,12),e=this._panel,i=this._kernel,n=this._factory.gui.get_isFullScreen(),e.addEntity(this._gui.buttonRadioFullScreen=new Kt(i,n,null,null,null,function(e){t._factory.gui.set_isFullScreen(!e)}),null,!0,11),this._gui.buttonRadioFullScreen.setIsModal(),this._gui.buttonRadioFullScreen.setIsEventRequired(),this._factory.gui.align(this._gui.radioIconFullScreen,Ht.LEFT,r+=s,null,jt.TOP,205),this._factory.gui.align(this._gui.buttonRadioFullScreen,Ht.LEFT,r-10,null,jt.TOP,275)),null!=this._extra&&(this._panel.addEntity(this._gui.buttonExtra=new zt(this._kernel,this._extra.title,null,null,null,function(){t._extra.isExit?(t._callback=t._extra.callback,t.exit()):t._extra.callback()}),null,!0,11),this._gui.buttonExtra.audioId="Silence",this._gui.buttonExtra.setIsModal(),this._gui.buttonExtra.setIsEventRequired(this._extra.isEventRequired),this._factory.gui.align(this._gui.buttonExtra,Ht.CENTER,0,250,jt.BOTTOM,100),this._factory.gui.align(this._gui.buttonContinue,Ht.CENTER,250,0,jt.BOTTOM,100))},exit:function(){ai.prototype.exit.call(this)},_getCredits:function(){return"Game produced by "+A.string(this._kernel.getConfig("settings.urls.author"))},__class__:oi}),(t["lilsag.scenes.AScene"]=li).__name__="lilsag.scenes.AScene",li.__super__=L,li.prototype=e(L.prototype,{_init:function(){L.prototype._init.call(this),this._factory.preventDefaultForKeys([Ae.SPACE]),this._factory.gui.isModal=!1},_updater:function(e){null==e&&(e=0),200<e&&(e=200),L.prototype._updater.call(this,e)},_disposer:function(){this._factory.allowDefaultForKeys([Ae.SPACE]),L.prototype._disposer.call(this)},_intro:function(){},_outro:function(e,t){if(null==t&&(t=0),!this._isOutroCalled){this._isOutroCalled=!0,this._factory.gui.isModal=!0;for(var i=0,n=this.getEntitiesByClass(xi);i<n.length;){var s=n[i];++i,s.isDisposed||(s.isDisposed=!0,s.set_isActive(!1),s._disposer())}this._kernel.inputs.keyboard.getIsKeyDown(Ae.SQUARELEFT)&&this._kernel.inputs.keyboard.getIsKeyDown(Ae.SQUARERIGHT)&&this._session.setIsTester(!this._session.get_isTester()),null!=e&&(0==t?e():this._factory.gui.createDelay(this,t,e)),this._factory.audio.start("Transition",Te.INTERFACE,1,0,.125)}},_addButtonSettings:function(e,t,i,n,s){null==n&&(n=!1),null==i&&(i=!0);var r=this;this.addEntity(this._buttonSettings=new Xt(this._kernel,this._factory.width-70,20,this._factory.keyPause,function(){r.addEntity(new oi(r._kernel,e,t,i,n,s),null,!0,1e3)}),null,!0,999)},_gotoBack:function(){this._outro(Oi(o=this._kernel.scenes,o.back))},_gotoNext:function(){this._outro(Oi(o=this._kernel.scenes,o.next))},_gotoTest:function(){var e=this;this._outro(function(){e._kernel.scenes.setScene(e._factory.SCENE_TEST)})},_gotoMenu:function(){var e=this;this._outro(function(){e._kernel.scenes.setScene(e._factory.SCENE_MENU)})},_gotoInstructions:function(){var e=this;this._outro(function(){e._kernel.scenes.setScene(e._factory.SCENE_INSTRUCTIONS)})},_gotoGame:function(){var e=this;this._factory.audio.stop(null,Te.MUSIC),this._outro(function(){e._kernel.scenes.setScene(e._factory.SCENE_GAME)})},_gotoResults:function(){var e=this;this._outro(function(){e._kernel.scenes.setScene(e._factory.SCENE_RESULTS)}),this._factory.audio.stop("Transition",Te.INTERFACE)},_gotoWebsite:function(){this._kernel.log("GA: gotoUrl: website"),this._factory.gui.openUrl(A.string(this._kernel.getConfig("settings.urls.website")),this._factory.gui.isUrlsBlankWindow)},__class__:li});var ui=function(e,t,i,n,s){this._gui={testMode:{}},li.call(this,e,t,i,n,s)};(t["lilsag.scenes.Game"]=ui).__name__="lilsag.scenes.Game",ui.__super__=li,ui.prototype=e(li.prototype,{_init:function(){var e,t,i=this;li.prototype._init.call(this),this._addButtonSettings(this._kernel.getConfig("gui.buttons.exit"),Oi(this,this._gotoBack)),this._kernel.audio.stop(null,Te.MUSIC),this._session.cache.reset(),this._factory.data.functions.setSeed(0),this.addEntity(this._gui.background=new Lt(this._kernel),null,!0,0),this.addEntity(this._engine=new Pt(this._kernel,Oi(this,this._gameOver)),null,!0,10),this._session.get_isTester()&&(e=this._kernel,t=this._kernel.getConfig("gui.buttons.testMode.finish"),this.addEntity(this._gui.testMode.buttonFinish=new Vt(e,t,null,null,null,function(){i._gameOver(i._engine.getDebugHelper().level.getResults(),3e3)}),null,!0,100),this._factory.gui.align(this._gui.testMode.buttonFinish,Ht.RIGHT,200,null,jt.BOTTOM,20)),this._kernel.log("GA: gameStart: "),this._intro()},_intro:function(){li.prototype._intro.call(this)},_outro:function(e,t){null==t&&(t=0),this._isOutroCalled||li.prototype._outro.call(this,e,75)},_gameOver:function(e,t){this._kernel.log("GA: gameOver: "),this._session.cache.results=e,this._factory.audio.stop(null,Te.MUSIC),this._factory.audio.start("MusicResults",Te.INTERFACE,1,0,.25),this._factory.gui.createDelay(this,t,Oi(this,this._gotoResults))},__class__:ui});var hi=function(e,t,i,n,s){this._gui={},li.call(this,e,t,i,n,s)};(t["lilsag.scenes.Instructions"]=hi).__name__="lilsag.scenes.Instructions",hi.__super__=li,hi.prototype=e(li.prototype,{_init:function(){li.prototype._init.call(this),this._addButtonSettings(),this._session.isInstructioned=!0,this.addEntity(this._gui.background=new Lt(this._kernel),null,!0,0),this.addEntity(this._gui.sponsor=new ri(this._kernel),null,!0,10),this.addEntity(this._gui.panel=new ti(this._kernel),null,!0,20),this._factory.gui.align(this._gui.sponsor,Ht.RIGHT,100,null,jt.TOP,80),this._factory.gui.align(this._gui.panel,Ht.LEFT,87,null,jt.TOP,0);var e=this._kernel,t=this._kernel.getConfig("gui.buttons.start");this._gui.buttonNext=new zt(e,t,null,null,null,Oi(this,this._gotoGame)),this._gui.panel.addButtons(this._gui.buttonNext),this._intro()},_intro:function(){var t=this;li.prototype._intro.call(this),this._factory.gui.createTweezer(this,function(e){t._gui.panel.set_x(e)},this._gui.panel.x-this._factory.width,this._gui.panel.x,800,1200,null,yi.EASE_OUT,mi.QUARTIC),this._factory.gui.createTweezer(this,function(e){t._gui.sponsor.set_alpha(e)},0,this._gui.sponsor.get_alpha(),1e3,1e3,null,yi.EASE_OUT,mi.QUARTIC),this._factory.audio.start("MusicMenu",Te.MUSIC,-1,0,.125,null,!0)},_outro:function(e,t){null==t&&(t=0);var i=this;this._isOutroCalled||(li.prototype._outro.call(this,e,1e3),this._factory.gui.createTweezer(this,function(e){i._gui.panel.set_x(e)},this._gui.panel.x,this._factory.width+this._gui.panel.x,100,750,null,yi.EASE_IN,mi.BACK()),this._factory.gui.createTweezer(this,function(e){i._gui.sponsor.set_alpha(e)},this._gui.sponsor.get_alpha(),0,0,500,null,yi.EASE_IN,mi.QUARTIC))},__class__:hi});var ci=function(e,t,i,n,s){li.call(this,e,t,i,n,s)};(t["lilsag.scenes.Intro"]=ci).__name__="lilsag.scenes.Intro",ci.__super__=li,ci.prototype=e(li.prototype,{_updater:function(e){null==e&&(e=0),li.prototype._updater.call(this,e),1==this._updates&&this._kernel.scenes.next()},__class__:ci});var di=function(e,t,i,n,s){this._gui={},li.call(this,e,t,i,n,s)};(t["lilsag.scenes.Menu"]=di).__name__="lilsag.scenes.Menu",di.__super__=li,di.prototype=e(li.prototype,{_init:function(){li.prototype._init.call(this),this._addButtonSettings(this._kernel.getConfig("gui.buttons.website"),Oi(this,this._gotoWebsite),!1,!0),this.addEntity(this._gui.background=new Lt(this._kernel),null,!0,0),this.addEntity(this._gui.sponsor=new ri(this._kernel),null,!0,10),this.addEntity(this._gui.panel=new ii(this._kernel),null,!0,20),this._factory.gui.align(this._gui.sponsor,Ht.RIGHT,100,null,jt.TOP,80),this._factory.gui.align(this._gui.panel,Ht.LEFT,87,null,jt.TOP,0);var e=!this._session.isInstructioned&&"false"!=this._kernel.getConfig("settings.instructionsCompulsory.enabled"),t=this._kernel,i=this._kernel.getConfig("gui.buttons.instructions");this._gui.buttonInstructions=new zt(t,i,null,null,null,Oi(this,this._gotoInstructions));t=this._kernel,i=this._kernel.getConfig("gui.buttons.start");this._gui.buttonNext=new zt(t,i,null,null,this._factory.keyNext,Oi(this,e?this._gotoInstructions:this._gotoGame)),this._gui.panel.addButtons(this._gui.buttonNext,e?null:this._gui.buttonInstructions),this._intro()},_intro:function(){var t=this;li.prototype._intro.call(this),this._factory.gui.createTweezer(this,function(e){t._gui.panel.set_x(e)},this._gui.panel.x-this._factory.width,this._gui.panel.x,800,1200,null,yi.EASE_OUT,mi.QUARTIC),this._factory.gui.createTweezer(this,function(e){t._gui.sponsor.set_alpha(e)},0,this._gui.sponsor.get_alpha(),1e3,1e3,null,yi.EASE_OUT,mi.QUARTIC),this._factory.audio.start("MusicMenu",Te.MUSIC,-1,0,this._session.cache.isMusicFadedIn?0:.125,null,!0),this._session.cache.isMusicFadedIn&&(this._factory.gui.createTweezer(this,function(e){t._factory.audio.transform("MusicMenu",Te.MUSIC,e)},.02,.125,0,5e3),this._session.cache.isMusicFadedIn=!1)},_outro:function(e,t){null==t&&(t=0);var i=this;this._isOutroCalled||(li.prototype._outro.call(this,e,1e3),this._factory.gui.createTweezer(this,function(e){i._gui.panel.set_x(e)},this._gui.panel.x,this._factory.width+this._gui.panel.x,100,750,null,yi.EASE_IN,mi.BACK()),this._factory.gui.createTweezer(this,function(e){i._gui.sponsor.set_alpha(e)},this._gui.sponsor.get_alpha(),0,0,500,null,yi.EASE_IN,mi.QUARTIC))},__class__:di});var pi=function(e,t,i,n,s){this._gui={},li.call(this,e,t,i,n,s)};(t["lilsag.scenes.Results"]=pi).__name__="lilsag.scenes.Results",pi.__super__=li,pi.prototype=e(li.prototype,{_init:function(){li.prototype._init.call(this),this._addButtonSettings(this._kernel.getConfig("gui.buttons.instructions"),Oi(this,this._gotoInstructions)),this._session.isInstructioned=!0,this.addEntity(this._gui.background=new Lt(this._kernel),null,!0,0),this.addEntity(this._gui.sponsor=new ri(this._kernel),null,!0,10),this.addEntity(this._gui.panel=new ni(this._kernel,this._session.cache.results),null,!0,20),this._factory.gui.align(this._gui.sponsor,Ht.RIGHT,100,null,jt.TOP,80),this._factory.gui.align(this._gui.panel,Ht.LEFT,87,null,jt.TOP,0);var e=this._kernel,t=this._kernel.getConfig("gui.buttons.website");this._gui.buttonWebsite=new zt(e,t,null,null,null,Oi(this,this._gotoWebsite));e=this._kernel,t=this._kernel.getConfig("gui.buttons.replay");this._gui.buttonNext=new zt(e,t,null,null,null,Oi(this,this._gotoNext)),this._gui.panel.addButtons(this._gui.buttonWebsite,this._gui.buttonNext),this._intro()},_intro:function(){var t=this;li.prototype._intro.call(this),this._factory.gui.createTweezer(this,function(e){t._gui.panel.set_x(e)},this._gui.panel.x-this._factory.width,this._gui.panel.x,800,1200,null,yi.EASE_OUT,mi.QUARTIC),this._factory.gui.createTweezer(this,function(e){t._gui.sponsor.set_alpha(e)},0,this._gui.sponsor.get_alpha(),1e3,1e3,null,yi.EASE_OUT,mi.QUARTIC)},_outro:function(e,t){null==t&&(t=0);var i=this;this._isOutroCalled||(li.prototype._outro.call(this,e,1e3),this._factory.gui.createTweezer(this,function(e){i._gui.panel.set_x(e)},this._gui.panel.x,this._factory.width+this._gui.panel.x,100,750,null,yi.EASE_IN,mi.BACK()),this._factory.gui.createTweezer(this,function(e){i._gui.sponsor.set_alpha(e)},this._gui.sponsor.get_alpha(),0,0,500,null,yi.EASE_IN,mi.QUARTIC))},__class__:pi});var fi=function(e){this._factory=e.factory,ye.call(this,e,750)};(t["lilsag.scenes.SceneTransition"]=fi).__name__="lilsag.scenes.SceneTransition",fi.__super__=ye,fi.prototype=e(ye.prototype,{_init:function(){ye.prototype._init.call(this)},__class__:fi});var gi=function(e,t,i,n,s){li.call(this,e,t,i,n,s)};(t["lilsag.scenes.Test"]=gi).__name__="lilsag.scenes.Test",gi.__super__=li,gi.prototype=e(li.prototype,{_init:function(){var t=this;li.prototype._init.call(this);var e=new Kt(this._kernel,this._session.get_isTester(),null,null,null,function(e){t._session.setIsTester(e)});this._factory.gui.align(e,Ht.LEFT,30,null,jt.TOP,20),this.addEntity(e,null,!0,10);var i=[];i.push(new Vt(this._kernel,"Reset Session",null,null,null,function(){t._resetSession()})),i.push(new Vt(this._kernel,"Test Prompt",null,null,null,function(){t._testPrompt()}));for(var n=this._factory.height-30*i.length-30,s=0;s<i.length;){var r=i[s];++s,null!=r&&(this.addEntity(r,null,!0,500),r.setPosition(30,n)),n+=30}e=new zt(this._kernel,"Refresh Test",null,null,null,Oi(this,this._gotoTest));this._factory.gui.align(e,Ht.CENTER,0,300,jt.BOTTOM,30),this.addEntity(e,null,!0,500);e=new zt(this._kernel,"Exit Test",null,null,null,Oi(this,this._gotoMenu));this._factory.gui.align(e,Ht.CENTER,300,0,jt.BOTTOM,30),this.addEntity(e,null,!0,500)},_updater:function(e){null==e&&(e=0),li.prototype._updater.call(this,e)},_resetSession:function(e){null==e&&(e=!1);var t=this;e?((e=this._session)._data={},e._resetter(),e._setter()):this._factory.gui.debugConfirm("Sure you want to reset EVERYTHING?","",function(e){""!=e&&t._resetSession(!0)})},_testPrompt:function(e){var t=this;null!=e?Re.trace("test1",{fileName:"src/lilsag/scenes/Test.hx",lineNumber:73,className:"lilsag.scenes.Test",methodName:"_testPrompt"}):this._factory.gui.debugPrompt("How many?","",function(e){""!=e&&t._testPrompt(A.parseInt(e))})},__class__:gi});var yi=C["tweezer.EEase"]={__ename__:"tweezer.EEase",__constructs__:null,EASE_IN:{_hx_name:"EASE_IN",_hx_index:0,__enum__:"tweezer.EEase",toString:i},EASE_IN_OUT:{_hx_name:"EASE_IN_OUT",_hx_index:1,__enum__:"tweezer.EEase",toString:i},EASE_OUT:{_hx_name:"EASE_OUT",_hx_index:2,__enum__:"tweezer.EEase",toString:i},EASE_OUT_IN:{_hx_name:"EASE_OUT_IN",_hx_index:3,__enum__:"tweezer.EEase",toString:i}};yi.__constructs__=[yi.EASE_IN,yi.EASE_IN_OUT,yi.EASE_OUT,yi.EASE_OUT_IN];var mi=C["tweezer.ETween"]={__ename__:"tweezer.ETween",__constructs__:null,BACK:((o=function(e){return{_hx_index:0,p_overshoot:e,__enum__:"tweezer.ETween",toString:i}})._hx_name="BACK",o.__params__=["p_overshoot"],o),BOUNCE:{_hx_name:"BOUNCE",_hx_index:1,__enum__:"tweezer.ETween",toString:i},CIRCULAR:{_hx_name:"CIRCULAR",_hx_index:2,__enum__:"tweezer.ETween",toString:i},CUBIC:{_hx_name:"CUBIC",_hx_index:3,__enum__:"tweezer.ETween",toString:i},ELASTIC:((o=function(e,t){return{_hx_index:4,p_period:e,p_amplitude:t,__enum__:"tweezer.ETween",toString:i}})._hx_name="ELASTIC",o.__params__=["p_period","p_amplitude"],o),EXPONENTIAL:{_hx_name:"EXPONENTIAL",_hx_index:5,__enum__:"tweezer.ETween",toString:i},LINEAR:{_hx_name:"LINEAR",_hx_index:6,__enum__:"tweezer.ETween",toString:i},QUADRATIC:{_hx_name:"QUADRATIC",_hx_index:7,__enum__:"tweezer.ETween",toString:i},QUARTIC:{_hx_name:"QUARTIC",_hx_index:8,__enum__:"tweezer.ETween",toString:i},QUINTIC:{_hx_name:"QUINTIC",_hx_index:9,__enum__:"tweezer.ETween",toString:i},SINE:{_hx_name:"SINE",_hx_index:10,__enum__:"tweezer.ETween",toString:i}};function wi(){}mi.__constructs__=[mi.BACK,mi.BOUNCE,mi.CIRCULAR,mi.CUBIC,mi.ELASTIC,mi.EXPONENTIAL,mi.LINEAR,mi.QUADRATIC,mi.QUARTIC,mi.QUINTIC,mi.SINE],(t["tweezer.TweenFactory"]=wi).__name__="tweezer.TweenFactory",wi.createTweenFunction=function(t,i,n,e,s){switch(null==e&&(e=yi.EASE_IN),null==s&&(s=mi.LINEAR),s._hx_index){case 0:var r=s.p_overshoot;switch(null==r&&(r=1.70158),e._hx_index){case 0:return function(e){return vi.easeIn(e,t,i,n,r)};case 1:return function(e){return vi.easeInOut(e,t,i,n,r)};case 2:return function(e){return vi.easeOut(e,t,i,n,r)};case 3:return function(e){return vi.easeOutIn(e,t,i,n,r)}}break;case 1:switch(e._hx_index){case 0:return function(e){return Ei.easeIn(e,t,i,n)};case 1:return function(e){return Ei.easeInOut(e,t,i,n)};case 2:return function(e){return Ei.easeOut(e,t,i,n)};case 3:return function(e){return Ei.easeOutIn(e,t,i,n)}}break;case 2:switch(e._hx_index){case 0:return function(e){return bi.easeIn(e,t,i,n)};case 1:return function(e){return bi.easeInOut(e,t,i,n)};case 2:return function(e){return bi.easeOut(e,t,i,n)};case 3:return function(e){return bi.easeOutIn(e,t,i,n)}}break;case 3:switch(e._hx_index){case 0:return function(e){return Si.easeIn(e,t,i,n)};case 1:return function(e){return Si.easeInOut(e,t,i,n)};case 2:return function(e){return Si.easeOut(e,t,i,n)};case 3:return function(e){return Si.easeOutIn(e,t,i,n)}}break;case 4:var _=s.p_period,a=s.p_amplitude;switch(null==_&&(_=.3*n*(e==yi.EASE_IN_OUT?1.5:1)),null==a&&(a=0),e._hx_index){case 0:return function(e){return Ti.easeIn(e,t,i,n,_,a)};case 1:return function(e){return Ti.easeInOut(e,t,i,n,_,a)};case 2:return function(e){return Ti.easeOut(e,t,i,n,_,a)};case 3:return function(e){return Ti.easeOutIn(e,t,i,n,_,a)}}break;case 5:switch(e._hx_index){case 0:return function(e){return Ci.easeIn(e,t,i,n)};case 1:return function(e){return Ci.easeInOut(e,t,i,n)};case 2:return function(e){return Ci.easeOut(e,t,i,n)};case 3:return function(e){return Ci.easeOutIn(e,t,i,n)}}break;case 6:return function(e){return Ii.ease(e,t,i,n)};case 7:switch(e._hx_index){case 0:return function(e){return Ai.easeIn(e,t,i,n)};case 1:return function(e){return Ai.easeInOut(e,t,i,n)};case 2:return function(e){return Ai.easeOut(e,t,i,n)};case 3:return function(e){return Ai.easeOutIn(e,t,i,n)}}break;case 8:switch(e._hx_index){case 0:return function(e){return ki.easeIn(e,t,i,n)};case 1:return function(e){return ki.easeInOut(e,t,i,n)};case 2:return function(e){return ki.easeOut(e,t,i,n)};case 3:return function(e){return ki.easeOutIn(e,t,i,n)}}break;case 9:switch(e._hx_index){case 0:return function(e){return Pi.easeIn(e,t,i,n)};case 1:return function(e){return Pi.easeInOut(e,t,i,n)};case 2:return function(e){return Pi.easeOut(e,t,i,n)};case 3:return function(e){return Pi.easeOutIn(e,t,i,n)}}break;case 10:switch(e._hx_index){case 0:return function(e){return Di.easeIn(e,t,i,n)};case 1:return function(e){return Di.easeInOut(e,t,i,n)};case 2:return function(e){return Di.easeOut(e,t,i,n)};case 3:return function(e){return Di.easeOutIn(e,t,i,n)}}}};var xi=function(e,t,i,n,s,r,_,a,o,l,u){null==_&&(_=0),null==r&&(r=1e3),null==s&&(s=0),this._updateCallback=t,this._startValue=i,this._endValue=n,this._startDelay=s,this._duration=r,this._endDelay=_,this._easeType=a,this._tweenType=o,this._completeCallback=l,this._isSnap=u,m.call(this,e),this._updater(),this._updates=0};(t["tweezer.Tweezer"]=xi).__name__="tweezer.Tweezer",xi.__super__=m,xi.prototype=e(m.prototype,{_init:function(){m.prototype._init.call(this),this._tweenFunction=wi.createTweenFunction(this._startValue,this._endValue-this._startValue,this._duration,this._easeType,this._tweenType)},_updater:function(e){null==e&&(e=0),m.prototype._updater.call(this,e),null!=this._updateCallback&&(e=this._tweenFunction(Math.min(Math.max(0,this._age-this._startDelay),this._duration)),this._updateCallback(this._isSnap?Math.round(e):e)),this._age>=this._startDelay+this._duration+this._endDelay&&(null!=this._completeCallback&&this._completeCallback(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:xi});var vi=function(){};(t["tweezer.tweens.Back"]=vi).__name__="tweezer.tweens.Back",vi.easeIn=function(e,t,i,n,s){return i*(e/=n)*e*((s+1)*e-s)+t},vi.easeOut=function(e,t,i,n,s){return i*((e=e/n-1)*e*((s+1)*e+s)+1)+t},vi.easeInOut=function(e,t,i,n,s){return(e/=n/2)<1?i/2*(e*e*((1+(s*=1.525))*e-s))+t:i/2*((e-=2)*e*((1+(s*=1.525))*e+s)+2)+t},vi.easeOutIn=function(e,t,i,n,s){return e<n/2?vi.easeOut(2*e,t,i/2,n,s):vi.easeIn(2*e-n,t+i/2,i/2,n,s)};var Ei=function(){};(t["tweezer.tweens.Bounce"]=Ei).__name__="tweezer.tweens.Bounce",Ei.easeIn=function(e,t,i,n){return i-Ei.easeOut(n-e,0,i,n)+t},Ei.easeOut=function(e,t,i,n){return(e/=n)<.36363636363636365?i*(7.5625*e*e)+t:e<.7272727272727273?i*(7.5625*(e-=.5454545454545454)*e+.75)+t:e<.9090909090909091?i*(7.5625*(e-=.8181818181818182)*e+.9375)+t:i*(7.5625*(e-=.9545454545454546)*e+.984375)+t},Ei.easeInOut=function(e,t,i,n){return e<n/2?.5*Ei.easeIn(2*e,0,i,n)+t:.5*Ei.easeOut(2*e-n,0,i,n)+.5*i+t},Ei.easeOutIn=function(e,t,i,n){return e<n/2?Ei.easeOut(2*e,t,i/2,n):Ei.easeIn(2*e-n,t+i/2,i/2,n)};var bi=function(){};(t["tweezer.tweens.Circular"]=bi).__name__="tweezer.tweens.Circular",bi.easeIn=function(e,t,i,n){return-i*(Math.sqrt(1-(e/=n)*e)-1)+t},bi.easeOut=function(e,t,i,n){return e=e/n-1,i*Math.sqrt(1-e*e)+t},bi.easeInOut=function(e,t,i,n){return(e/=n/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t},bi.easeOutIn=function(e,t,i,n){return e<n/2?bi.easeOut(2*e,t,i/2,n):bi.easeIn(2*e-n,t+i/2,i/2,n)};var Si=function(){};(t["tweezer.tweens.Cubic"]=Si).__name__="tweezer.tweens.Cubic",Si.easeIn=function(e,t,i,n){return i*(e/=n)*e*e+t},Si.easeOut=function(e,t,i,n){return i*((e=e/n-1)*e*e+1)+t},Si.easeInOut=function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},Si.easeOutIn=function(e,t,i,n){return e<n/2?Si.easeOut(2*e,t,i/2,n):Si.easeIn(2*e-n,t+i/2,i/2,n)};var Ti=function(){};(t["tweezer.tweens.Elastic"]=Ti).__name__="tweezer.tweens.Elastic",Ti.easeIn=function(e,t,i,n,s,r){if(0==e)return t;if(1==(e/=n))return t+i;i=0==r||r<Math.abs(i)?(r=i,s/4):s/(2*Math.PI)*Math.asin(i/r);return-(r*Math.pow(2,10*--e)*Math.sin((e*n-i)*(2*Math.PI)/s))+t},Ti.easeOut=function(e,t,i,n,s,r){if(0==e)return t;if(1==(e/=n))return t+i;var _=0==r||r<Math.abs(i)?(r=i,s/4):s/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*e)*Math.sin((e*n-_)*(2*Math.PI)/s)+i+t},Ti.easeInOut=function(e,t,i,n,s,r){if(0==e)return t;if(2==(e/=n/2))return t+i;var _=0==r||r<Math.abs(i)?(r=i,s/4):s/(2*Math.PI)*Math.asin(i/r);return e<1?r*Math.pow(2,10*--e)*Math.sin((e*n-_)*(2*Math.PI)/s)*-.5+t:r*Math.pow(2,-10*--e)*Math.sin((e*n-_)*(2*Math.PI)/s)*.5+i+t},Ti.easeOutIn=function(e,t,i,n,s,r){return e<n/2?Ti.easeOut(2*e,t,i/2,n,s,r):Ti.easeIn(2*e-n,t+i/2,i/2,n,s,r)};var Ci=function(){};(t["tweezer.tweens.Exponential"]=Ci).__name__="tweezer.tweens.Exponential",Ci.easeIn=function(e,t,i,n){return 0==e?t:i*Math.pow(2,10*(e/n-1))+t-.001*i},Ci.easeOut=function(e,t,i,n){return e==n?t+i:1.001*i*(1-Math.pow(2,-10*e/n))+t},Ci.easeInOut=function(e,t,i,n){return 0==e?t:e==n?t+i:(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+t-5e-4*i:i/2*1.0005*(2-Math.pow(2,-10*--e))+t},Ci.easeOutIn=function(e,t,i,n){return e<n/2?Ci.easeOut(2*e,t,i/2,n):Ci.easeIn(2*e-n,t+i/2,i/2,n)};var Ii=function(){};(t["tweezer.tweens.Linear"]=Ii).__name__="tweezer.tweens.Linear",Ii.ease=function(e,t,i,n){return i*e/n+t};var Ai=function(){};(t["tweezer.tweens.Quadratic"]=Ai).__name__="tweezer.tweens.Quadratic",Ai.easeIn=function(e,t,i,n){return i*(e/=n)*e+t},Ai.easeOut=function(e,t,i,n){return-i*(e/=n)*(e-2)+t},Ai.easeInOut=function(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},Ai.easeOutIn=function(e,t,i,n){return e<n/2?Ai.easeOut(2*e,t,i/2,n):Ai.easeIn(2*e-n,t+i/2,i/2,n)};var ki=function(){};(t["tweezer.tweens.Quartic"]=ki).__name__="tweezer.tweens.Quartic",ki.easeIn=function(e,t,i,n){return i*(e/=n)*e*e*e+t},ki.easeOut=function(e,t,i,n){return-i*((e=e/n-1)*e*e*e-1)+t},ki.easeInOut=function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t},ki.easeOutIn=function(e,t,i,n){return e<n/2?ki.easeOut(2*e,t,i/2,n):ki.easeIn(2*e-n,t+i/2,i/2,n)};var Pi=function(){};(t["tweezer.tweens.Quintic"]=Pi).__name__="tweezer.tweens.Quintic",Pi.easeIn=function(e,t,i,n){return i*(e/=n)*e*e*e*e+t},Pi.easeOut=function(e,t,i,n){return i*((e=e/n-1)*e*e*e*e+1)+t},Pi.easeInOut=function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t},Pi.easeOutIn=function(e,t,i,n){return e<n/2?Pi.easeOut(2*e,t,i/2,n):Pi.easeIn(2*e-n,t+i/2,i/2,n)};var Di=function(){};function Mi(e){return e instanceof Array?new rt(e):e.iterator()}function Oi(e,t){return null==t?null:(null==t.__id__&&(t.__id__=c.$haxeUID++),null==e.hx__closures__?e.hx__closures__={}:i=e.hx__closures__[t.__id__],null==i&&(i=t.bind(e),e.hx__closures__[t.__id__]=i),i);var i}(t["tweezer.tweens.Sine"]=Di).__name__="tweezer.tweens.Sine",Di.easeIn=function(e,t,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+t},Di.easeOut=function(e,t,i,n){return i*Math.sin(e/n*(Math.PI/2))+t},Di.easeInOut=function(e,t,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+t},Di.easeOutIn=function(e,t,i,n){return e<n/2?Di.easeOut(2*e,t,i/2,n):Di.easeIn(2*e-n,t+i/2,i/2,n)},c.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(k.now=performance.now.bind(performance)),t.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),String.prototype.__class__=t.String=String,String.__name__="String",t.Array=Array,Array.__name__="Array",Date.prototype.__class__=t.Date=Date,Date.__name__="Date";var Bi={},Ui={},Ni=Number,Ri=Boolean,Fi={},Li={};Fe.content=[{name:"revision",data:"NTANCjIwMjEvMDYvMTcgMjA6MTY6MzcNCg"},{name:"config",data:"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxkYXRhPg0KCTxzZXR0aW5ncz4NCgkJPGZvbnQgbmFtZT0iZGlucHJvLWJvbGQtd2ViZm9udCIgYm9sZD0iZmFsc2UiIC8+DQoJCTxhc2NpaUFydD4NCiBfX19fXyBfX19fXyBfXyAgICBfX19fXyBfX19fXyAgICBfX19fXyBfXyAgICBfX19fXyBfX19fXyBfX19fXw0KfCAgICAgfCAgICAgfCAgfCAgfCAgICAgfCBfXyAgfCAgfCBfXyAgfCAgfCAgfCAgICAgfCAgICAgfCAgfCAgfA0KfCAgIC0tfCAgfCAgfCAgfF9ffCAgfCAgfCAgICAtfCAgfCBfXyAtfCAgfF9ffCAgfCAgfCAgIC0tfCAgICAtfA0KfF9fX19ffF9fX19ffF9fX19ffF9fX19ffF9ffF9ffCAgfF9fX19ffF9fX19ffF9fX19ffF9fX19ffF9ffF9ffA0KDQo8L2FzY2lpQXJ0Pg0KCQk8YXVkaW9Ib2xkRGVsYXk+NTAwMDwvYXVkaW9Ib2xkRGVsYXk+DQoJCTx1cmxzIGJsYW5rV2luZG93PSJ0cnVlIj4NCgkJCTx3ZWJzaXRlPmh0dHBzOi8vd3d3LnQxZXZlcnlkYXltYWdpYy5jb20vPC93ZWJzaXRlPg0KCQkJPGF1dGhvcj5odHRwczovL2h5cGVyc3VyZ2UuY29tPC9hdXRob3I+DQoJCTwvdXJscz4NCgkJPGdvb2dsZUFuYWx5dGljcyBpZD0iVUEtMjI0MDYzMzctNTQiIGVuYWJsZWQ9InRydWUiIC8+DQoJCTxpbnN0cnVjdGlvbnNDb21wdWxzb3J5IGVuYWJsZWQ9ImZhbHNlIiAvPg0KCQk8c3BvbnNvciBlbmFibGVkPSJmYWxzZSIgLz4NCgkJPHBsYWluQnV0dG9ucyBlbmFibGVkPSJmYWxzZSIgLz4NCgkJPGF1ZGlvIGVmZmVjdHM9InRydWUiIG11c2ljPSJ0cnVlIiAvPg0KCTwvc2V0dGluZ3M+DQoJPGd1aT4NCgkJPGF1ZGlvSG9sZE1lc3NhZ2U+UFJFU1MgVE8gQ09OVElOVUU8L2F1ZGlvSG9sZE1lc3NhZ2U+DQoJCTxidXR0b25zPg0KCQkJPGNvbnRpbnVlPkNvbnRpbnVlPC9jb250aW51ZT4NCgkJCTxyZXBsYXk+UGxheSBBZ2FpbjwvcmVwbGF5Pg0KCQkJPGluc3RydWN0aW9ucz5Ib3cgVG8gUGxheTwvaW5zdHJ1Y3Rpb25zPg0KCQkJPHN0YXJ0PlBsYXkgTm93PC9zdGFydD4NCgkJCTxleGl0PkVuZCBHYW1lPC9leGl0Pg0KCQkJPHdlYnNpdGU+RGlzY292ZXI8L3dlYnNpdGU+DQoJCQk8dGVzdE1vZGU+DQoJCQkJPGZpbmlzaD5GaW5pc2ggR2FtZTwvZmluaXNoPg0KCQkJPC90ZXN0TW9kZT4NCgkJPC9idXR0b25zPg0KCQk8bW9kYWxzPg0KCQkJPHNldHRpbmdzPg0KCQkJCTx0aXRsZT5TZXR0aW5nczwvdGl0bGU+DQoJCQk8L3NldHRpbmdzPg0KCQk8L21vZGFscz4NCgkJPHNjZW5lcz4NCgkJCTxpbnN0cnVjdGlvbnM+DQoJCQkJPHRpdGxlPkhvdyBUbyBQbGF5PC90aXRsZT4NCgkJCQk8bWVzc2FnZT48IVtDREFUQVtSYWNlIGFnYWluc3QgdGhlIGNsb2NrIHRvIG1hdGNoIGFzIG1hbnkgYmxvY2tzIGFzIHlvdSBjYW4uICBUYXAgY29ubmVjdGluZyBibG9ja3Mgb2YgdGhlIHNhbWUgY29sb3IgdG8gbWFrZSB0aGVtIGRpc2FwcGVhci4gIE1hdGNoIDUgb3IgbW9yZSBhdCBvbmNlIHRvIGV4dGVuZCB0aW1lIGFuZCB1bmxvY2sgYm9vc3RlcnMhICBXaGF04oCZcyB5b3VyIGJlc3Qgc2NvcmU/XV0+PC9tZXNzYWdlPg0KCQkJPC9pbnN0cnVjdGlvbnM+DQoJCQk8Z2FtZT4NCgkJCQk8aHVkVGltZXI+DQoJCQkJCTx0aXRsZT5UaW1lcjwvdGl0bGU+DQoJCQkJPC9odWRUaW1lcj4NCgkJCQk8aHVkU2NvcmU+DQoJCQkJCTx0aXRsZT5TY29yZTwvdGl0bGU+DQoJCQkJCTxyZXN1bHRzPllvdSBTY29yZWQ8L3Jlc3VsdHM+DQoJCQkJCTxiZXN0PkJlc3Q8L2Jlc3Q+DQoJCQkJPC9odWRTY29yZT4NCgkJCTwvZ2FtZT4NCgkJCTxyZXN1bHRzPg0KCQkJCTx0aXRsZT5HYW1lIE92ZXI8L3RpdGxlPg0KCQkJPC9yZXN1bHRzPg0KCQk8L3NjZW5lcz4NCgk8L2d1aT4NCjwvZGF0YT4NCg"}],$e.count=0,lt.__toStr={}.toString,E.Element=0,E.PCData=1,E.CData=2,E.Comment=3,E.DocType=4,E.ProcessingInstruction=5,E.Document=6,oe.sound=PIXI.sound,Le.USE_CACHE=!1,Le.USE_ENUM_INDEX=!1,Le.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Xe.DEFAULT_RESOLVER=new Ke,Xe.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",je.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",je.BYTES=ze.ofString(je.CHARS),at.escapes=((B=new et).h.lt="<",B.h.gt=">",B.h.amp="&",B.h.quot='"',B.h.apos="'",B),It._ID=0,yt.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);